(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var sh={exports:{}},Zo={},ih={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function a_(){if(Lm)return Ne;Lm=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function H(O,Q,fe){this.props=O,this.context=Q,this.refs=q,this.updater=fe||R}H.prototype.isReactComponent={},H.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function Z(O,Q,fe){this.props=O,this.context=Q,this.refs=q,this.updater=fe||R}var ne=Z.prototype=new Y;ne.constructor=Z,U(ne,H.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray,Pe=Object.prototype.hasOwnProperty,z={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(O,Q,fe){var Ie,Ae={},Re=null,Oe=null;if(Q!=null)for(Ie in Q.ref!==void 0&&(Oe=Q.ref),Q.key!==void 0&&(Re=""+Q.key),Q)Pe.call(Q,Ie)&&!S.hasOwnProperty(Ie)&&(Ae[Ie]=Q[Ie]);var Le=arguments.length-2;if(Le===1)Ae.children=fe;else if(1<Le){for(var $e=Array(Le),vt=0;vt<Le;vt++)$e[vt]=arguments[vt+2];Ae.children=$e}if(O&&O.defaultProps)for(Ie in Le=O.defaultProps,Le)Ae[Ie]===void 0&&(Ae[Ie]=Le[Ie]);return{$$typeof:s,type:O,key:Re,ref:Oe,props:Ae,_owner:z.current}}function N(O,Q){return{$$typeof:s,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return Q[fe]})}var M=/\/+/g;function P(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Q.toString(36)}function ze(O,Q,fe,Ie,Ae){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Re){case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case s:case e:Oe=!0}}if(Oe)return Oe=O,Ae=Ae(Oe),O=Ie===""?"."+P(Oe,0):Ie,ce(Ae)?(fe="",O!=null&&(fe=O.replace(M,"$&/")+"/"),ze(Ae,Q,fe,"",function(vt){return vt})):Ae!=null&&(k(Ae)&&(Ae=N(Ae,fe+(!Ae.key||Oe&&Oe.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+O)),Q.push(Ae)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",ce(O))for(var Le=0;Le<O.length;Le++){Re=O[Le];var $e=Ie+P(Re,Le);Oe+=ze(Re,Q,fe,$e,Ae)}else if($e=T(O),typeof $e=="function")for(O=$e.call(O),Le=0;!(Re=O.next()).done;)Re=Re.value,$e=Ie+P(Re,Le++),Oe+=ze(Re,Q,fe,$e,Ae);else if(Re==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function kt(O,Q,fe){if(O==null)return O;var Ie=[],Ae=0;return ze(O,Ie,"","",function(Re){return Q.call(fe,Re,Ae++)}),Ie}function Vt(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ue={current:null},re={transition:null},pe={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:re,ReactCurrentOwner:z};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:kt,forEach:function(O,Q,fe){kt(O,function(){Q.apply(this,arguments)},fe)},count:function(O){var Q=0;return kt(O,function(){Q++}),Q},toArray:function(O){return kt(O,function(Q){return Q})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ne.Component=H,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=Z,Ne.StrictMode=i,Ne.Suspense=v,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ne.act=ae,Ne.cloneElement=function(O,Q,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ie=U({},O.props),Ae=O.key,Re=O.ref,Oe=O._owner;if(Q!=null){if(Q.ref!==void 0&&(Re=Q.ref,Oe=z.current),Q.key!==void 0&&(Ae=""+Q.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for($e in Q)Pe.call(Q,$e)&&!S.hasOwnProperty($e)&&(Ie[$e]=Q[$e]===void 0&&Le!==void 0?Le[$e]:Q[$e])}var $e=arguments.length-2;if($e===1)Ie.children=fe;else if(1<$e){Le=Array($e);for(var vt=0;vt<$e;vt++)Le[vt]=arguments[vt+2];Ie.children=Le}return{$$typeof:s,type:O.type,key:Ae,ref:Re,props:Ie,_owner:Oe}},Ne.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Ne.createElement=I,Ne.createFactory=function(O){var Q=I.bind(null,O);return Q.type=O,Q},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:g,render:O}},Ne.isValidElement=k,Ne.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:Vt}},Ne.memo=function(O,Q){return{$$typeof:w,type:O,compare:Q===void 0?null:Q}},Ne.startTransition=function(O){var Q=re.transition;re.transition={};try{O()}finally{re.transition=Q}},Ne.unstable_act=ae,Ne.useCallback=function(O,Q){return Ue.current.useCallback(O,Q)},Ne.useContext=function(O){return Ue.current.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O){return Ue.current.useDeferredValue(O)},Ne.useEffect=function(O,Q){return Ue.current.useEffect(O,Q)},Ne.useId=function(){return Ue.current.useId()},Ne.useImperativeHandle=function(O,Q,fe){return Ue.current.useImperativeHandle(O,Q,fe)},Ne.useInsertionEffect=function(O,Q){return Ue.current.useInsertionEffect(O,Q)},Ne.useLayoutEffect=function(O,Q){return Ue.current.useLayoutEffect(O,Q)},Ne.useMemo=function(O,Q){return Ue.current.useMemo(O,Q)},Ne.useReducer=function(O,Q,fe){return Ue.current.useReducer(O,Q,fe)},Ne.useRef=function(O){return Ue.current.useRef(O)},Ne.useState=function(O){return Ue.current.useState(O)},Ne.useSyncExternalStore=function(O,Q,fe){return Ue.current.useSyncExternalStore(O,Q,fe)},Ne.useTransition=function(){return Ue.current.useTransition()},Ne.version="18.3.1",Ne}var Fm;function zh(){return Fm||(Fm=1,ih.exports=a_()),ih.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function l_(){if(bm)return Zo;bm=1;var s=zh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(g,v,w){var A,x={},T=null,R=null;w!==void 0&&(T=""+w),v.key!==void 0&&(T=""+v.key),v.ref!==void 0&&(R=v.ref);for(A in v)i.call(v,A)&&!c.hasOwnProperty(A)&&(x[A]=v[A]);if(g&&g.defaultProps)for(A in v=g.defaultProps,v)x[A]===void 0&&(x[A]=v[A]);return{$$typeof:e,type:g,key:T,ref:R,props:x,_owner:a.current}}return Zo.Fragment=n,Zo.jsx=d,Zo.jsxs=d,Zo}var Um;function u_(){return Um||(Um=1,sh.exports=l_()),sh.exports}var p=u_(),ge=zh(),zl={},oh={exports:{}},Yt={},ah={exports:{}},lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function c_(){return zm||(zm=1,(function(s){function e(re,pe){var ae=re.length;re.push(pe);e:for(;0<ae;){var O=ae-1>>>1,Q=re[O];if(0<a(Q,pe))re[O]=pe,re[ae]=Q,ae=O;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],ae=re.pop();if(ae!==pe){re[0]=ae;e:for(var O=0,Q=re.length,fe=Q>>>1;O<fe;){var Ie=2*(O+1)-1,Ae=re[Ie],Re=Ie+1,Oe=re[Re];if(0>a(Ae,ae))Re<Q&&0>a(Oe,Ae)?(re[O]=Oe,re[Re]=ae,O=Re):(re[O]=Ae,re[Ie]=ae,O=Ie);else if(Re<Q&&0>a(Oe,ae))re[O]=Oe,re[Re]=ae,O=Re;else break e}}return pe}function a(re,pe){var ae=re.sortIndex-pe.sortIndex;return ae!==0?ae:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],w=[],A=1,x=null,T=3,R=!1,U=!1,q=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(re){for(var pe=n(w);pe!==null;){if(pe.callback===null)i(w);else if(pe.startTime<=re)i(w),pe.sortIndex=pe.expirationTime,e(v,pe);else break;pe=n(w)}}function ce(re){if(q=!1,ne(re),!U)if(n(v)!==null)U=!0,Vt(Pe);else{var pe=n(w);pe!==null&&Ue(ce,pe.startTime-re)}}function Pe(re,pe){U=!1,q&&(q=!1,Y(I),I=-1),R=!0;var ae=T;try{for(ne(pe),x=n(v);x!==null&&(!(x.expirationTime>pe)||re&&!V());){var O=x.callback;if(typeof O=="function"){x.callback=null,T=x.priorityLevel;var Q=O(x.expirationTime<=pe);pe=s.unstable_now(),typeof Q=="function"?x.callback=Q:x===n(v)&&i(v),ne(pe)}else i(v);x=n(v)}if(x!==null)var fe=!0;else{var Ie=n(w);Ie!==null&&Ue(ce,Ie.startTime-pe),fe=!1}return fe}finally{x=null,T=ae,R=!1}}var z=!1,S=null,I=-1,N=5,k=-1;function V(){return!(s.unstable_now()-k<N)}function M(){if(S!==null){var re=s.unstable_now();k=re;var pe=!0;try{pe=S(!0,re)}finally{pe?P():(z=!1,S=null)}}else z=!1}var P;if(typeof Z=="function")P=function(){Z(M)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,kt=ze.port2;ze.port1.onmessage=M,P=function(){kt.postMessage(null)}}else P=function(){H(M,0)};function Vt(re){S=re,z||(z=!0,P())}function Ue(re,pe){I=H(function(){re(s.unstable_now())},pe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_continueExecution=function(){U||R||(U=!0,Vt(Pe))},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_getFirstCallbackNode=function(){return n(v)},s.unstable_next=function(re){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var ae=T;T=pe;try{return re()}finally{T=ae}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=T;T=re;try{return pe()}finally{T=ae}},s.unstable_scheduleCallback=function(re,pe,ae){var O=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?O+ae:O):ae=O,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,re={id:A++,callback:pe,priorityLevel:re,startTime:ae,expirationTime:Q,sortIndex:-1},ae>O?(re.sortIndex=ae,e(w,re),n(v)===null&&re===n(w)&&(q?(Y(I),I=-1):q=!0,Ue(ce,ae-O))):(re.sortIndex=Q,e(v,re),U||R||(U=!0,Vt(Pe))),re},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(re){var pe=T;return function(){var ae=T;T=pe;try{return re.apply(this,arguments)}finally{T=ae}}}})(lh)),lh}var Bm;function h_(){return Bm||(Bm=1,ah.exports=c_()),ah.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function d_(){if($m)return Yt;$m=1;var s=zh(),e=h_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},x={};function T(t){return v.call(x,t)?!0:v.call(A,t)?!1:w.test(t)?x[t]=!0:(A[t]=!0,!1)}function R(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U(t,r,o,u){if(r===null||typeof r>"u"||R(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,h,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){H[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];H[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){H[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){H[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){H[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){H[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){H[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){H[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){H[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function Z(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Y,Z);H[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Y,Z);H[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Y,Z);H[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){H[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),H.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){H[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,u){var h=H.hasOwnProperty(r)?H[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(U(r,o,h,u)&&(o=null),u||h===null?T(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ce=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),z=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,O;function Q(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var fe=!1;function Ie(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),m=u.stack.split(`
`),_=h.length-1,C=m.length-1;1<=_&&0<=C&&h[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(h[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||h[_]!==m[C]){var D=`
`+h[_].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=_&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ae(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case z:return"Portal";case N:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Vt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function nr(t){t._valueTracker||(t._valueTracker=vt(t))}function Ks(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=$e(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ds(t,r){var o=r.checked;return ae({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Xs(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function so(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function io(t,r){so(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ys(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ys(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Na(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ys(t,r,o){(r!=="number"||Sr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var rr=Array.isArray;function sr(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function oo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Js(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(rr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function Zs(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function ao(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?dt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ir,lo=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ar(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ms=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){ms.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),fs[r]=fs[t]})});function uo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||fs.hasOwnProperty(t)&&fs[t]?(""+r).trim():r+"px"}function co(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=uo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ho=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(t,r){if(r){if(ho[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function mo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,un=null,Fn=null;function ni(t){if(t=Fo(t)){if(typeof ti!="function")throw Error(n(280));var r=t.stateNode;r&&(r=nl(r),ti(t.stateNode,t.type,r))}}function bn(t){un?Fn?Fn.push(t):Fn=[t]:un=t}function po(){if(un){var t=un,r=Fn;if(Fn=un=null,ni(t),r)for(t=0;t<r.length;t++)ni(r[t])}}function gs(t,r){return t(r)}function go(){}var or=!1;function yo(t,r,o){if(or)return t(r,o);or=!0;try{return gs(t,r,o)}finally{or=!1,(un!==null||Fn!==null)&&(go(),po())}}function rt(t,r){var o=t.stateNode;if(o===null)return null;var u=nl(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ri=!1;if(g)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ri=!1}function ys(t,r,o,u,h,m,_,C,D){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(X){this.onError(X)}}var vs=!1,si=null,In=!1,vo=null,Vu={onError:function(t){vs=!0,si=t}};function ii(t,r,o,u,h,m,_,C,D){vs=!1,si=null,ys.apply(Vu,arguments)}function xa(t,r,o,u,h,m,_,C,D){if(ii.apply(this,arguments),vs){if(vs){var B=si;vs=!1,si=null}else throw Error(n(198));In||(In=!0,vo=B)}}function Sn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function _s(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function An(t){if(Sn(t)!==t)throw Error(n(188))}function Ca(t){var r=t.alternate;if(!r){if(r=Sn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return An(h),t;if(m===u)return An(h),r;m=m.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=m;else{for(var _=!1,C=h.child;C;){if(C===o){_=!0,o=h,u=m;break}if(C===u){_=!0,u=h,o=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===o){_=!0,o=m,u=h;break}if(C===u){_=!0,u=m,o=h;break}C=C.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function _o(t){return t=Ca(t),t!==null?oi(t):null}function oi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=oi(t);if(r!==null)return r;t=t.sibling}return null}var ai=e.unstable_scheduleCallback,wo=e.unstable_cancelCallback,Pa=e.unstable_shouldYield,Du=e.unstable_requestPaint,He=e.unstable_now,Ra=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Nr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,ka=e.unstable_IdlePriority,Es=null,en=null;function Va(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Es,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ja,To=Math.log,Da=Math.LN2;function ja(t){return t>>>=0,t===0?32:31-(To(t)/Da|0)|0}var li=64,ui=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ts(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var C=_&~h;C!==0?u=xr(C):(m&=_,m!==0&&(u=xr(m)))}else _=o&~h,_!==0?u=xr(_):m!==0&&(u=xr(m));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function ju(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-Ut(m),C=1<<_,D=h[_];D===-1?((C&o)===0||(C&u)!==0)&&(h[_]=ju(C,r)):D<=r&&(t.expiredLanes|=C),m&=~C}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Is(){var t=li;return li<<=1,(li&4194240)===0&&(li=64),t}function Cr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Pr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),m=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~m}}function Rr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function kr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ma,ci,Oa,La,Fa,Io=!1,Un=[],St=null,Nn=null,xn=null,Vr=new Map,hn=new Map,zn=[],Mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function Ht(t,r,o,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Fo(r),r!==null&&ci(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Ou(t,r,o,u,h){switch(r){case"focusin":return St=Ht(St,t,r,o,u,h),!0;case"dragenter":return Nn=Ht(Nn,t,r,o,u,h),!0;case"mouseover":return xn=Ht(xn,t,r,o,u,h),!0;case"pointerover":var m=h.pointerId;return Vr.set(m,Ht(Vr.get(m)||null,t,r,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,hn.set(m,Ht(hn.get(m)||null,t,r,o,u,h)),!0}return!1}function Ua(t){var r=Cs(t.target);if(r!==null){var o=Sn(r);if(o!==null){if(r=o.tag,r===13){if(r=_s(o),r!==null){t.blockedOn=r,Fa(t.priority,function(){Oa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=hi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ps=u,o.target.dispatchEvent(u),ps=null}else return r=Fo(o),r!==null&&ci(r),t.blockedOn=o,!1;r.shift()}return!0}function Ss(t,r,o){lr(t)&&o.delete(r)}function za(){Io=!1,St!==null&&lr(St)&&(St=null),Nn!==null&&lr(Nn)&&(Nn=null),xn!==null&&lr(xn)&&(xn=null),Vr.forEach(Ss),hn.forEach(Ss)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,Io||(Io=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,za)))}function Pn(t){function r(h){return Cn(h,t)}if(0<Un.length){Cn(Un[0],t);for(var o=1;o<Un.length;o++){var u=Un[o];u.blockedOn===t&&(u.blockedOn=null)}}for(St!==null&&Cn(St,t),Nn!==null&&Cn(Nn,t),xn!==null&&Cn(xn,t),Vr.forEach(r),hn.forEach(r),o=0;o<zn.length;o++)u=zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)Ua(o),o.blockedOn===null&&zn.shift()}var ur=ce.ReactCurrentBatchConfig,Dr=!0;function Xe(t,r,o,u){var h=Ce,m=ur.transition;ur.transition=null;try{Ce=1,So(t,r,o,u)}finally{Ce=h,ur.transition=m}}function Lu(t,r,o,u){var h=Ce,m=ur.transition;ur.transition=null;try{Ce=4,So(t,r,o,u)}finally{Ce=h,ur.transition=m}}function So(t,r,o,u){if(Dr){var h=hi(t,r,o,u);if(h===null)Qu(t,r,u,As,o),ba(t,u);else if(Ou(h,t,r,o,u))u.stopPropagation();else if(ba(t,u),r&4&&-1<Mu.indexOf(t)){for(;h!==null;){var m=Fo(h);if(m!==null&&Ma(m),m=hi(t,r,o,u),m===null&&Qu(t,r,u,As,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Qu(t,r,u,null,o)}}var As=null;function hi(t,r,o,u){if(As=null,t=ei(u),t=Cs(t),t!==null)if(r=Sn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=_s(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return As=t,null}function Ao(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ra()){case ws:return 1;case Nr:return 4;case cn:case Eo:return 16;case ka:return 536870912;default:return 16}default:return 16}}var nn=null,di=null,qt=null;function No(){if(qt)return qt;var t,r=di,o=r.length,u,h="value"in nn?nn.value:nn.textContent,m=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[m-u];u++);return qt=h.slice(t,1<u?1-u:void 0)}function fi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bn(){return!0}function xo(){return!1}function At(t){function r(o,u,h,m,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bn:xo,this.isPropagationStopped=xo,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=At(Rn),$n=ae({},Rn,{view:0,detail:0}),Fu=At($n),pi,cr,jr,Ns=ae({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(pi=t.screenX-jr.screenX,cr=t.screenY-jr.screenY):cr=pi=0,jr=t),pi)},movementY:function(t){return"movementY"in t?t.movementY:cr}}),gi=At(Ns),Co=ae({},Ns,{dataTransfer:0}),Ba=At(Co),yi=ae({},$n,{relatedTarget:0}),vi=At(yi),$a=ae({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=At($a),Ha=ae({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qa=At(Ha),Wa=ae({},Rn,{data:0}),Po=At(Wa),_i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ga={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ga[t])?!!r[t]:!1}function Hn(){return Qa}var l=ae({},$n,{key:function(t){if(t.key){var r=_i[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(t){return t.type==="keypress"?fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=At(l),y=ae({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=At(y),L=ae({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),$=At(L),te=ae({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=At(te),mt=ae({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=At(mt),_t=[9,13,27,32],at=g&&"CompositionEvent"in window,dn=null;g&&"documentMode"in document&&(dn=document.documentMode);var rn=g&&"TextEvent"in window&&!dn,xs=g&&(!at||dn&&8<dn&&11>=dn),wi=" ",Rd=!1;function kd(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function sv(t,r){switch(t){case"compositionend":return Vd(r);case"keypress":return r.which!==32?null:(Rd=!0,wi);case"textInput":return t=r.data,t===wi&&Rd?null:t;default:return null}}function iv(t,r){if(Ei)return t==="compositionend"||!at&&kd(t,r)?(t=No(),qt=di=nn=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xs&&r.locale!=="ko"?null:r.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ov[t.type]:r==="textarea"}function jd(t,r,o,u){bn(u),r=Za(r,"onChange"),0<r.length&&(o=new mi("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Ro=null,ko=null;function av(t){Jd(t,0)}function Ka(t){var r=Ni(t);if(Ks(r))return t}function lv(t,r){if(t==="change")return r}var Md=!1;if(g){var bu;if(g){var Uu="oninput"in document;if(!Uu){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Uu=typeof Od.oninput=="function"}bu=Uu}else bu=!1;Md=bu&&(!document.documentMode||9<document.documentMode)}function Ld(){Ro&&(Ro.detachEvent("onpropertychange",Fd),ko=Ro=null)}function Fd(t){if(t.propertyName==="value"&&Ka(ko)){var r=[];jd(r,ko,t,ei(t)),yo(av,r)}}function uv(t,r,o){t==="focusin"?(Ld(),Ro=r,ko=o,Ro.attachEvent("onpropertychange",Fd)):t==="focusout"&&Ld()}function cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(ko)}function hv(t,r){if(t==="click")return Ka(r)}function dv(t,r){if(t==="input"||t==="change")return Ka(r)}function fv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:fv;function Vo(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!v.call(r,h)||!kn(t[h],r[h]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,r){var o=bd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bd(o)}}function zd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?zd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Bd(){for(var t=window,r=Sr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Sr(t.document)}return r}function zu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function mv(t){var r=Bd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&zd(o.ownerDocument.documentElement,o)){if(u!==null&&zu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!t.extend&&m>u&&(h=u,u=m,m=h),h=Ud(o,m);var _=Ud(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),m>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pv=g&&"documentMode"in document&&11>=document.documentMode,Ti=null,Bu=null,Do=null,$u=!1;function $d(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$u||Ti==null||Ti!==Sr(u)||(u=Ti,"selectionStart"in u&&zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Do&&Vo(Do,u)||(Do=u,u=Za(Bu,"onSelect"),0<u.length&&(r=new mi("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Ti)))}function Xa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ii={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},Hu={},Hd={};g&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ya(t){if(Hu[t])return Hu[t];if(!Ii[t])return t;var r=Ii[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hd)return Hu[t]=r[o];return t}var qd=Ya("animationend"),Wd=Ya("animationiteration"),Gd=Ya("animationstart"),Qd=Ya("transitionend"),Kd=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){Kd.set(t,r),c(r,[t])}for(var qu=0;qu<Xd.length;qu++){var Wu=Xd[qu],gv=Wu.toLowerCase(),yv=Wu[0].toUpperCase()+Wu.slice(1);Mr(gv,"on"+yv)}Mr(qd,"onAnimationEnd"),Mr(Wd,"onAnimationIteration"),Mr(Gd,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Qd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Yd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,xa(u,r,void 0,t),t.currentTarget=null}function Jd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var C=u[_],D=C.instance,B=C.currentTarget;if(C=C.listener,D!==m&&h.isPropagationStopped())break e;Yd(h,C,B),m=D}else for(_=0;_<u.length;_++){if(C=u[_],D=C.instance,B=C.currentTarget,C=C.listener,D!==m&&h.isPropagationStopped())break e;Yd(h,C,B),m=D}}}if(In)throw t=vo,In=!1,vo=null,t}function Ge(t,r){var o=r[ec];o===void 0&&(o=r[ec]=new Set);var u=t+"__bubble";o.has(u)||(Zd(r,t,2,!1),o.add(u))}function Gu(t,r,o){var u=0;r&&(u|=4),Zd(o,t,u,r)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[Ja]){t[Ja]=!0,i.forEach(function(o){o!=="selectionchange"&&(vv.has(o)||Gu(o,!1,t),Gu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ja]||(r[Ja]=!0,Gu("selectionchange",!1,r))}}function Zd(t,r,o,u){switch(Ao(r)){case 1:var h=Xe;break;case 4:h=Lu;break;default:h=So}o=h.bind(null,r,o,t),h=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Qu(t,r,o,u,h){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var C=u.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;_=_.return}for(;C!==null;){if(_=Cs(C),_===null)return;if(D=_.tag,D===5||D===6){u=m=_;continue e}C=C.parentNode}}u=u.return}yo(function(){var B=m,X=ei(o),J=[];e:{var K=Kd.get(t);if(K!==void 0){var ie=mi,ue=t;switch(t){case"keypress":if(fi(o)===0)break e;case"keydown":case"keyup":ie=f;break;case"focusin":ue="focus",ie=vi;break;case"focusout":ue="blur",ie=vi;break;case"beforeblur":case"afterblur":ie=vi;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case qd:case Wd:case Gd:ie=hr;break;case Qd:ie=be;break;case"scroll":ie=Fu;break;case"wheel":ie=ke;break;case"copy":case"cut":case"paste":ie=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var he=(r&4)!==0,st=!he&&t==="scroll",F=he?K!==null?K+"Capture":null:K;he=[];for(var j=B,b;j!==null;){b=j;var ee=b.stateNode;if(b.tag===5&&ee!==null&&(b=ee,F!==null&&(ee=rt(j,F),ee!=null&&he.push(Oo(j,ee,b)))),st)break;j=j.return}0<he.length&&(K=new ie(K,ue,null,o,X),J.push({event:K,listeners:he}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",K&&o!==ps&&(ue=o.relatedTarget||o.fromElement)&&(Cs(ue)||ue[dr]))break e;if((ie||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,ie?(ue=o.relatedTarget||o.toElement,ie=B,ue=ue?Cs(ue):null,ue!==null&&(st=Sn(ue),ue!==st||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(he=gi,ee="onMouseLeave",F="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(he=E,ee="onPointerLeave",F="onPointerEnter",j="pointer"),st=ie==null?K:Ni(ie),b=ue==null?K:Ni(ue),K=new he(ee,j+"leave",ie,o,X),K.target=st,K.relatedTarget=b,ee=null,Cs(X)===B&&(he=new he(F,j+"enter",ue,o,X),he.target=b,he.relatedTarget=st,ee=he),st=ee,ie&&ue)t:{for(he=ie,F=ue,j=0,b=he;b;b=Si(b))j++;for(b=0,ee=F;ee;ee=Si(ee))b++;for(;0<j-b;)he=Si(he),j--;for(;0<b-j;)F=Si(F),b--;for(;j--;){if(he===F||F!==null&&he===F.alternate)break t;he=Si(he),F=Si(F)}he=null}else he=null;ie!==null&&ef(J,K,ie,he,!1),ue!==null&&st!==null&&ef(J,st,ue,he,!0)}}e:{if(K=B?Ni(B):window,ie=K.nodeName&&K.nodeName.toLowerCase(),ie==="select"||ie==="input"&&K.type==="file")var de=lv;else if(Dd(K))if(Md)de=dv;else{de=cv;var ye=uv}else(ie=K.nodeName)&&ie.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(de=hv);if(de&&(de=de(t,B))){jd(J,de,o,X);break e}ye&&ye(t,K,B),t==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&Ys(K,"number",K.value)}switch(ye=B?Ni(B):window,t){case"focusin":(Dd(ye)||ye.contentEditable==="true")&&(Ti=ye,Bu=B,Do=null);break;case"focusout":Do=Bu=Ti=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,$d(J,o,X);break;case"selectionchange":if(pv)break;case"keydown":case"keyup":$d(J,o,X)}var ve;if(at)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ei?kd(t,o)&&(we="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(xs&&o.locale!=="ko"&&(Ei||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ei&&(ve=No()):(nn=X,di="value"in nn?nn.value:nn.textContent,Ei=!0)),ye=Za(B,we),0<ye.length&&(we=new Po(we,t,null,o,X),J.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Vd(o),ve!==null&&(we.data=ve)))),(ve=rn?sv(t,o):iv(t,o))&&(B=Za(B,"onBeforeInput"),0<B.length&&(X=new Po("onBeforeInput","beforeinput",null,o,X),J.push({event:X,listeners:B}),X.data=ve))}Jd(J,r)})}function Oo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Za(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=rt(t,o),m!=null&&u.unshift(Oo(t,m,h)),m=rt(t,r),m!=null&&u.push(Oo(t,m,h))),t=t.return}return u}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ef(t,r,o,u,h){for(var m=r._reactName,_=[];o!==null&&o!==u;){var C=o,D=C.alternate,B=C.stateNode;if(D!==null&&D===u)break;C.tag===5&&B!==null&&(C=B,h?(D=rt(o,m),D!=null&&_.unshift(Oo(o,D,C))):h||(D=rt(o,m),D!=null&&_.push(Oo(o,D,C)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var _v=/\r\n?/g,wv=/\u0000|\uFFFD/g;function tf(t){return(typeof t=="string"?t:""+t).replace(_v,`
`).replace(wv,"")}function el(t,r,o){if(r=tf(r),tf(t)!==r&&o)throw Error(n(425))}function tl(){}var Ku=null,Xu=null;function Yu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(Iv)}:Ju;function Iv(t){setTimeout(function(){throw t})}function Zu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Pn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Pn(r)}function Or(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ai,Lo="__reactProps$"+Ai,dr="__reactContainer$"+Ai,ec="__reactEvents$"+Ai,Sv="__reactListeners$"+Ai,Av="__reactHandles$"+Ai;function Cs(t){var r=t[qn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[dr]||o[qn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=rf(t);t!==null;){if(o=t[qn])return o;t=rf(t)}return r}t=o,o=t.parentNode}return null}function Fo(t){return t=t[qn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function nl(t){return t[Lo]||null}var tc=[],xi=-1;function Lr(t){return{current:t}}function Qe(t){0>xi||(t.current=tc[xi],tc[xi]=null,xi--)}function qe(t,r){xi++,tc[xi]=t.current,t.current=r}var Fr={},Dt=Lr(Fr),Wt=Lr(!1),Ps=Fr;function Ci(t,r){var o=t.type.contextTypes;if(!o)return Fr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=r[m];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Gt(t){return t=t.childContextTypes,t!=null}function rl(){Qe(Wt),Qe(Dt)}function sf(t,r,o){if(Dt.current!==Fr)throw Error(n(168));qe(Dt,r),qe(Wt,o)}function of(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return ae({},o,u)}function sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,Ps=Dt.current,qe(Dt,t),qe(Wt,Wt.current),!0}function af(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=of(t,r,Ps),u.__reactInternalMemoizedMergedChildContext=t,Qe(Wt),Qe(Dt),qe(Dt,t)):Qe(Wt),qe(Wt,o)}var fr=null,il=!1,nc=!1;function lf(t){fr===null?fr=[t]:fr.push(t)}function Nv(t){il=!0,lf(t)}function br(){if(!nc&&fr!==null){nc=!0;var t=0,r=Ce;try{var o=fr;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}fr=null,il=!1}catch(h){throw fr!==null&&(fr=fr.slice(t+1)),ai(ws,br),h}finally{Ce=r,nc=!1}}return null}var Pi=[],Ri=0,ol=null,al=0,fn=[],mn=0,Rs=null,mr=1,pr="";function ks(t,r){Pi[Ri++]=al,Pi[Ri++]=ol,ol=t,al=r}function uf(t,r,o){fn[mn++]=mr,fn[mn++]=pr,fn[mn++]=Rs,Rs=t;var u=mr;t=pr;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var m=32-Ut(r)+h;if(30<m){var _=h-h%5;m=(u&(1<<_)-1).toString(32),u>>=_,h-=_,mr=1<<32-Ut(r)+h|o<<h|u,pr=m+t}else mr=1<<m|o<<h|u,pr=t}function rc(t){t.return!==null&&(ks(t,1),uf(t,1,0))}function sc(t){for(;t===ol;)ol=Pi[--Ri],Pi[Ri]=null,al=Pi[--Ri],Pi[Ri]=null;for(;t===Rs;)Rs=fn[--mn],fn[mn]=null,pr=fn[--mn],fn[mn]=null,mr=fn[--mn],fn[mn]=null}var sn=null,on=null,Ye=!1,Vn=null;function cf(t,r){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function hf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,sn=t,on=Or(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,sn=t,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Rs!==null?{id:mr,overflow:pr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,sn=t,on=null,!0):!1;default:return!1}}function ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oc(t){if(Ye){var r=on;if(r){var o=r;if(!hf(t,r)){if(ic(t))throw Error(n(418));r=Or(o.nextSibling);var u=sn;r&&hf(t,r)?cf(u,o):(t.flags=t.flags&-4097|2,Ye=!1,sn=t)}}else{if(ic(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,sn=t}}}function df(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function ll(t){if(t!==sn)return!1;if(!Ye)return df(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Yu(t.type,t.memoizedProps)),r&&(r=on)){if(ic(t))throw ff(),Error(n(418));for(;r;)cf(t,r),r=Or(r.nextSibling)}if(df(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){on=Or(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}on=null}}else on=sn?Or(t.stateNode.nextSibling):null;return!0}function ff(){for(var t=on;t;)t=Or(t.nextSibling)}function ki(){on=sn=null,Ye=!1}function ac(t){Vn===null?Vn=[t]:Vn.push(t)}var xv=ce.ReactCurrentBatchConfig;function bo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var C=h.refs;_===null?delete C[m]:C[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ul(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function mf(t){var r=t._init;return r(t._payload)}function pf(t){function r(F,j){if(t){var b=F.deletions;b===null?(F.deletions=[j],F.flags|=16):b.push(j)}}function o(F,j){if(!t)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F,j){for(F=new Map;j!==null;)j.key!==null?F.set(j.key,j):F.set(j.index,j),j=j.sibling;return F}function h(F,j){return F=Gr(F,j),F.index=0,F.sibling=null,F}function m(F,j,b){return F.index=b,t?(b=F.alternate,b!==null?(b=b.index,b<j?(F.flags|=2,j):b):(F.flags|=2,j)):(F.flags|=1048576,j)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function C(F,j,b,ee){return j===null||j.tag!==6?(j=Jc(b,F.mode,ee),j.return=F,j):(j=h(j,b),j.return=F,j)}function D(F,j,b,ee){var de=b.type;return de===S?X(F,j,b.props.children,ee,b.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Vt&&mf(de)===j.type)?(ee=h(j,b.props),ee.ref=bo(F,j,b),ee.return=F,ee):(ee=Dl(b.type,b.key,b.props,null,F.mode,ee),ee.ref=bo(F,j,b),ee.return=F,ee)}function B(F,j,b,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=Zc(b,F.mode,ee),j.return=F,j):(j=h(j,b.children||[]),j.return=F,j)}function X(F,j,b,ee,de){return j===null||j.tag!==7?(j=bs(b,F.mode,ee,de),j.return=F,j):(j=h(j,b),j.return=F,j)}function J(F,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Jc(""+j,F.mode,b),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pe:return b=Dl(j.type,j.key,j.props,null,F.mode,b),b.ref=bo(F,null,j),b.return=F,b;case z:return j=Zc(j,F.mode,b),j.return=F,j;case Vt:var ee=j._init;return J(F,ee(j._payload),b)}if(rr(j)||pe(j))return j=bs(j,F.mode,b,null),j.return=F,j;ul(F,j)}return null}function K(F,j,b,ee){var de=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return de!==null?null:C(F,j,""+b,ee);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pe:return b.key===de?D(F,j,b,ee):null;case z:return b.key===de?B(F,j,b,ee):null;case Vt:return de=b._init,K(F,j,de(b._payload),ee)}if(rr(b)||pe(b))return de!==null?null:X(F,j,b,ee,null);ul(F,b)}return null}function ie(F,j,b,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return F=F.get(b)||null,C(j,F,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Pe:return F=F.get(ee.key===null?b:ee.key)||null,D(j,F,ee,de);case z:return F=F.get(ee.key===null?b:ee.key)||null,B(j,F,ee,de);case Vt:var ye=ee._init;return ie(F,j,b,ye(ee._payload),de)}if(rr(ee)||pe(ee))return F=F.get(b)||null,X(j,F,ee,de,null);ul(j,ee)}return null}function ue(F,j,b,ee){for(var de=null,ye=null,ve=j,we=j=0,Tt=null;ve!==null&&we<b.length;we++){ve.index>we?(Tt=ve,ve=null):Tt=ve.sibling;var Me=K(F,ve,b[we],ee);if(Me===null){ve===null&&(ve=Tt);break}t&&ve&&Me.alternate===null&&r(F,ve),j=m(Me,j,we),ye===null?de=Me:ye.sibling=Me,ye=Me,ve=Tt}if(we===b.length)return o(F,ve),Ye&&ks(F,we),de;if(ve===null){for(;we<b.length;we++)ve=J(F,b[we],ee),ve!==null&&(j=m(ve,j,we),ye===null?de=ve:ye.sibling=ve,ye=ve);return Ye&&ks(F,we),de}for(ve=u(F,ve);we<b.length;we++)Tt=ie(ve,F,we,b[we],ee),Tt!==null&&(t&&Tt.alternate!==null&&ve.delete(Tt.key===null?we:Tt.key),j=m(Tt,j,we),ye===null?de=Tt:ye.sibling=Tt,ye=Tt);return t&&ve.forEach(function(Qr){return r(F,Qr)}),Ye&&ks(F,we),de}function he(F,j,b,ee){var de=pe(b);if(typeof de!="function")throw Error(n(150));if(b=de.call(b),b==null)throw Error(n(151));for(var ye=de=null,ve=j,we=j=0,Tt=null,Me=b.next();ve!==null&&!Me.done;we++,Me=b.next()){ve.index>we?(Tt=ve,ve=null):Tt=ve.sibling;var Qr=K(F,ve,Me.value,ee);if(Qr===null){ve===null&&(ve=Tt);break}t&&ve&&Qr.alternate===null&&r(F,ve),j=m(Qr,j,we),ye===null?de=Qr:ye.sibling=Qr,ye=Qr,ve=Tt}if(Me.done)return o(F,ve),Ye&&ks(F,we),de;if(ve===null){for(;!Me.done;we++,Me=b.next())Me=J(F,Me.value,ee),Me!==null&&(j=m(Me,j,we),ye===null?de=Me:ye.sibling=Me,ye=Me);return Ye&&ks(F,we),de}for(ve=u(F,ve);!Me.done;we++,Me=b.next())Me=ie(ve,F,we,Me.value,ee),Me!==null&&(t&&Me.alternate!==null&&ve.delete(Me.key===null?we:Me.key),j=m(Me,j,we),ye===null?de=Me:ye.sibling=Me,ye=Me);return t&&ve.forEach(function(o_){return r(F,o_)}),Ye&&ks(F,we),de}function st(F,j,b,ee){if(typeof b=="object"&&b!==null&&b.type===S&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pe:e:{for(var de=b.key,ye=j;ye!==null;){if(ye.key===de){if(de=b.type,de===S){if(ye.tag===7){o(F,ye.sibling),j=h(ye,b.props.children),j.return=F,F=j;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Vt&&mf(de)===ye.type){o(F,ye.sibling),j=h(ye,b.props),j.ref=bo(F,ye,b),j.return=F,F=j;break e}o(F,ye);break}else r(F,ye);ye=ye.sibling}b.type===S?(j=bs(b.props.children,F.mode,ee,b.key),j.return=F,F=j):(ee=Dl(b.type,b.key,b.props,null,F.mode,ee),ee.ref=bo(F,j,b),ee.return=F,F=ee)}return _(F);case z:e:{for(ye=b.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){o(F,j.sibling),j=h(j,b.children||[]),j.return=F,F=j;break e}else{o(F,j);break}else r(F,j);j=j.sibling}j=Zc(b,F.mode,ee),j.return=F,F=j}return _(F);case Vt:return ye=b._init,st(F,j,ye(b._payload),ee)}if(rr(b))return ue(F,j,b,ee);if(pe(b))return he(F,j,b,ee);ul(F,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(o(F,j.sibling),j=h(j,b),j.return=F,F=j):(o(F,j),j=Jc(b,F.mode,ee),j.return=F,F=j),_(F)):o(F,j)}return st}var Vi=pf(!0),gf=pf(!1),cl=Lr(null),hl=null,Di=null,lc=null;function uc(){lc=Di=hl=null}function cc(t){var r=cl.current;Qe(cl),t._currentValue=r}function hc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function ji(t,r){hl=t,lc=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Qt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(lc!==t)if(t={context:t,memoizedValue:r,next:null},Di===null){if(hl===null)throw Error(n(308));Di=t,hl.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return r}var Vs=null;function dc(t){Vs===null?Vs=[t]:Vs.push(t)}function yf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,dc(r)):(o.next=h.next,h.next=o),r.interleaved=o,gr(t,u)}function gr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,gr(t,o)}return h=u.interleaved,h===null?(r.next=r,dc(u)):(r.next=h.next,h.next=r),u.interleaved=r,gr(t,o)}function dl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}function _f(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function fl(t,r,o,u){var h=t.updateQueue;Ur=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var D=C,B=D.next;D.next=null,_===null?m=B:_.next=B,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==_&&(C===null?X.firstBaseUpdate=B:C.next=B,X.lastBaseUpdate=D))}if(m!==null){var J=h.baseState;_=0,X=B=D=null,C=m;do{var K=C.lane,ie=C.eventTime;if((u&K)===K){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=t,he=C;switch(K=r,ie=o,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){J=ue.call(ie,J,K);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,K=typeof ue=="function"?ue.call(ie,J,K):ue,K==null)break e;J=ae({},J,K);break e;case 2:Ur=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[C]:K.push(C))}else ie={eventTime:ie,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(B=X=ie,D=J):X=X.next=ie,_|=K;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;K=C,C=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(X===null&&(D=J),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=X,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Ms|=_,t.lanes=_,t.memoizedState=J}}function wf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Uo={},Wn=Lr(Uo),zo=Lr(Uo),Bo=Lr(Uo);function Ds(t){if(t===Uo)throw Error(n(174));return t}function mc(t,r){switch(qe(Bo,r),qe(zo,t),qe(Wn,Uo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}Qe(Wn),qe(Wn,r)}function Mi(){Qe(Wn),Qe(zo),Qe(Bo)}function Ef(t){Ds(Bo.current);var r=Ds(Wn.current),o=ft(r,t.type);r!==o&&(qe(zo,t),qe(Wn,o))}function pc(t){zo.current===t&&(Qe(Wn),Qe(zo))}var Je=Lr(0);function ml(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gc=[];function yc(){for(var t=0;t<gc.length;t++)gc[t]._workInProgressVersionPrimary=null;gc.length=0}var pl=ce.ReactCurrentDispatcher,vc=ce.ReactCurrentBatchConfig,js=0,Ze=null,pt=null,wt=null,gl=!1,$o=!1,Ho=0,Cv=0;function jt(){throw Error(n(321))}function _c(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!kn(t[o],r[o]))return!1;return!0}function wc(t,r,o,u,h,m){if(js=m,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,pl.current=t===null||t.memoizedState===null?Vv:Dv,t=o(u,h),$o){m=0;do{if($o=!1,Ho=0,25<=m)throw Error(n(301));m+=1,wt=pt=null,r.updateQueue=null,pl.current=jv,t=o(u,h)}while($o)}if(pl.current=_l,r=pt!==null&&pt.next!==null,js=0,wt=pt=Ze=null,gl=!1,r)throw Error(n(300));return t}function Ec(){var t=Ho!==0;return Ho=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function gn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=wt===null?Ze.memoizedState:wt.next;if(r!==null)wt=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function qo(t,r){return typeof r=="function"?r(t):r}function Tc(t){var r=gn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,h=u.baseQueue,m=o.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}u.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,u=u.baseState;var C=_=null,D=null,B=m;do{var X=B.lane;if((js&X)===X)D!==null&&(D=D.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var J={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};D===null?(C=D=J,_=u):D=D.next=J,Ze.lanes|=X,Ms|=X}B=B.next}while(B!==null&&B!==m);D===null?_=u:D.next=C,kn(u,r.memoizedState)||(Qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=D,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do m=h.lane,Ze.lanes|=m,Ms|=m,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ic(t){var r=gn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do m=t(m,_.action),_=_.next;while(_!==h);kn(m,r.memoizedState)||(Qt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function Tf(){}function If(t,r){var o=Ze,u=gn(),h=r(),m=!kn(u.memoizedState,h);if(m&&(u.memoizedState=h,Qt=!0),u=u.queue,Sc(Nf.bind(null,o,u,t),[t]),u.getSnapshot!==r||m||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Wo(9,Af.bind(null,o,u,h,r),void 0,null),Et===null)throw Error(n(349));(js&30)!==0||Sf(o,r,h)}return h}function Sf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Af(t,r,o,u){r.value=o,r.getSnapshot=u,xf(r)&&Cf(t)}function Nf(t,r,o){return o(function(){xf(r)&&Cf(t)})}function xf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!kn(t,o)}catch{return!0}}function Cf(t){var r=gr(t,1);r!==null&&On(r,t,1,-1)}function Pf(t){var r=Gn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},r.queue=t,t=t.dispatch=kv.bind(null,Ze,t),[r.memoizedState,t]}function Wo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Rf(){return gn().memoizedState}function yl(t,r,o,u){var h=Gn();Ze.flags|=t,h.memoizedState=Wo(1|r,o,void 0,u===void 0?null:u)}function vl(t,r,o,u){var h=gn();u=u===void 0?null:u;var m=void 0;if(pt!==null){var _=pt.memoizedState;if(m=_.destroy,u!==null&&_c(u,_.deps)){h.memoizedState=Wo(r,o,m,u);return}}Ze.flags|=t,h.memoizedState=Wo(1|r,o,m,u)}function kf(t,r){return yl(8390656,8,t,r)}function Sc(t,r){return vl(2048,8,t,r)}function Vf(t,r){return vl(4,2,t,r)}function Df(t,r){return vl(4,4,t,r)}function jf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Mf(t,r,o){return o=o!=null?o.concat([t]):null,vl(4,4,jf.bind(null,r,t),o)}function Ac(){}function Of(t,r){var o=gn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&_c(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Lf(t,r){var o=gn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&_c(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Ff(t,r,o){return(js&21)===0?(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o):(kn(o,r)||(o=Is(),Ze.lanes|=o,Ms|=o,t.baseState=!0),r)}function Pv(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=vc.transition;vc.transition={};try{t(!1),r()}finally{Ce=o,vc.transition=u}}function bf(){return gn().memoizedState}function Rv(t,r,o){var u=qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Uf(t))zf(r,o);else if(o=yf(t,r,o,u),o!==null){var h=$t();On(o,t,u,h),Bf(o,r,u)}}function kv(t,r,o){var u=qr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uf(t))zf(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,C=m(_,o);if(h.hasEagerState=!0,h.eagerState=C,kn(C,_)){var D=r.interleaved;D===null?(h.next=h,dc(r)):(h.next=D.next,D.next=h),r.interleaved=h;return}}catch{}finally{}o=yf(t,r,h,u),o!==null&&(h=$t(),On(o,t,u,h),Bf(o,r,u))}}function Uf(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function zf(t,r){$o=gl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Bf(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}var _l={readContext:pn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Vv={readContext:pn,useCallback:function(t,r){return Gn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:kf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,yl(4194308,4,jf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return yl(4194308,4,t,r)},useInsertionEffect:function(t,r){return yl(4,2,t,r)},useMemo:function(t,r){var o=Gn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Gn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Rv.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=Gn();return t={current:t},r.memoizedState=t},useState:Pf,useDebugValue:Ac,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Pf(!1),r=t[0];return t=Pv.bind(null,t[1]),Gn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ze,h=Gn();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Et===null)throw Error(n(349));(js&30)!==0||Sf(u,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,kf(Nf.bind(null,u,m,t),[t]),u.flags|=2048,Wo(9,Af.bind(null,u,m,o,r),void 0,null),o},useId:function(){var t=Gn(),r=Et.identifierPrefix;if(Ye){var o=pr,u=mr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Ho++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Cv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Dv={readContext:pn,useCallback:Of,useContext:pn,useEffect:Sc,useImperativeHandle:Mf,useInsertionEffect:Vf,useLayoutEffect:Df,useMemo:Lf,useReducer:Tc,useRef:Rf,useState:function(){return Tc(qo)},useDebugValue:Ac,useDeferredValue:function(t){var r=gn();return Ff(r,pt.memoizedState,t)},useTransition:function(){var t=Tc(qo)[0],r=gn().memoizedState;return[t,r]},useMutableSource:Tf,useSyncExternalStore:If,useId:bf,unstable_isNewReconciler:!1},jv={readContext:pn,useCallback:Of,useContext:pn,useEffect:Sc,useImperativeHandle:Mf,useInsertionEffect:Vf,useLayoutEffect:Df,useMemo:Lf,useReducer:Ic,useRef:Rf,useState:function(){return Ic(qo)},useDebugValue:Ac,useDeferredValue:function(t){var r=gn();return pt===null?r.memoizedState=t:Ff(r,pt.memoizedState,t)},useTransition:function(){var t=Ic(qo)[0],r=gn().memoizedState;return[t,r]},useMutableSource:Tf,useSyncExternalStore:If,useId:bf,unstable_isNewReconciler:!1};function Dn(t,r){if(t&&t.defaultProps){r=ae({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Nc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ae({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var wl={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),h=qr(t),m=yr(u,h);m.payload=r,o!=null&&(m.callback=o),r=zr(t,m,h),r!==null&&(On(r,t,h,u),dl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),h=qr(t),m=yr(u,h);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=zr(t,m,h),r!==null&&(On(r,t,h,u),dl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=qr(t),h=yr(o,u);h.tag=2,r!=null&&(h.callback=r),r=zr(t,h,u),r!==null&&(On(r,t,u,o),dl(r,t,u))}};function $f(t,r,o,u,h,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!Vo(o,u)||!Vo(h,m):!0}function Hf(t,r,o){var u=!1,h=Fr,m=r.contextType;return typeof m=="object"&&m!==null?m=pn(m):(h=Gt(r)?Ps:Dt.current,u=r.contextTypes,m=(u=u!=null)?Ci(t,h):Fr),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=m),r}function qf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&wl.enqueueReplaceState(r,r.state,null)}function xc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},fc(t);var m=r.contextType;typeof m=="object"&&m!==null?h.context=pn(m):(m=Gt(r)?Ps:Dt.current,h.context=Ci(t,m)),h.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Nc(t,r,m,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&wl.enqueueReplaceState(h,h.state,null),fl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,r){try{var o="",u=r;do o+=Ae(u),u=u.return;while(u);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:h,digest:null}}function Cc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Pc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Mv=typeof WeakMap=="function"?WeakMap:Map;function Wf(t,r,o){o=yr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){xl||(xl=!0,Hc=u),Pc(t,r)},o}function Gf(t,r,o){o=yr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Pc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Pc(t,r),typeof u!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Qf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Mv;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Kv.bind(null,t,r,o),r.then(t,t))}function Kf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Xf(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=yr(-1,1),r.tag=2,zr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Ov=ce.ReactCurrentOwner,Qt=!1;function Bt(t,r,o,u){r.child=t===null?gf(r,null,o,u):Vi(r,t.child,o,u)}function Yf(t,r,o,u,h){o=o.render;var m=r.ref;return ji(r,h),u=wc(t,r,o,u,m,h),o=Ec(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,vr(t,r,h)):(Ye&&o&&rc(r),r.flags|=1,Bt(t,r,u,h),r.child)}function Jf(t,r,o,u,h){if(t===null){var m=o.type;return typeof m=="function"&&!Yc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Zf(t,r,m,u,h)):(t=Dl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&h)===0){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Vo,o(_,u)&&t.ref===r.ref)return vr(t,r,h)}return r.flags|=1,t=Gr(m,u),t.ref=r.ref,t.return=r,r.child=t}function Zf(t,r,o,u,h){if(t!==null){var m=t.memoizedProps;if(Vo(m,u)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=u=m,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Qt=!0);else return r.lanes=t.lanes,vr(t,r,h)}return Rc(t,r,o,u,h)}function em(t,r,o){var u=r.pendingProps,h=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Fi,an),an|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Fi,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,qe(Fi,an),an|=u}else m!==null?(u=m.baseLanes|o,r.memoizedState=null):u=o,qe(Fi,an),an|=u;return Bt(t,r,h,o),r.child}function tm(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Rc(t,r,o,u,h){var m=Gt(o)?Ps:Dt.current;return m=Ci(r,m),ji(r,h),o=wc(t,r,o,u,m,h),u=Ec(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,vr(t,r,h)):(Ye&&u&&rc(r),r.flags|=1,Bt(t,r,o,h),r.child)}function nm(t,r,o,u,h){if(Gt(o)){var m=!0;sl(r)}else m=!1;if(ji(r,h),r.stateNode===null)Tl(t,r),Hf(r,o,u),xc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var D=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=pn(B):(B=Gt(o)?Ps:Dt.current,B=Ci(r,B));var X=o.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==u||D!==B)&&qf(r,_,u,B),Ur=!1;var K=r.memoizedState;_.state=K,fl(r,u,_,h),D=r.memoizedState,C!==u||K!==D||Wt.current||Ur?(typeof X=="function"&&(Nc(r,o,X,u),D=r.memoizedState),(C=Ur||$f(r,o,C,u,K,D,B))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=D),_.props=u,_.state=D,_.context=B,u=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,vf(t,r),C=r.memoizedProps,B=r.type===r.elementType?C:Dn(r.type,C),_.props=B,J=r.pendingProps,K=_.context,D=o.contextType,typeof D=="object"&&D!==null?D=pn(D):(D=Gt(o)?Ps:Dt.current,D=Ci(r,D));var ie=o.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==J||K!==D)&&qf(r,_,u,D),Ur=!1,K=r.memoizedState,_.state=K,fl(r,u,_,h);var ue=r.memoizedState;C!==J||K!==ue||Wt.current||Ur?(typeof ie=="function"&&(Nc(r,o,ie,u),ue=r.memoizedState),(B=Ur||$f(r,o,B,u,K,ue,D)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ue,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ue,D)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),_.props=u,_.state=ue,_.context=D,u=B):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return kc(t,r,o,u,m,h)}function kc(t,r,o,u,h,m){tm(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&af(r,o,!1),vr(t,r,m);u=r.stateNode,Ov.current=r;var C=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Vi(r,t.child,null,m),r.child=Vi(r,null,C,m)):Bt(t,r,C,m),r.memoizedState=u.state,h&&af(r,o,!0),r.child}function rm(t){var r=t.stateNode;r.pendingContext?sf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&sf(t,r.context,!1),mc(t,r.containerInfo)}function sm(t,r,o,u,h){return ki(),ac(h),r.flags|=256,Bt(t,r,o,u),r.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function im(t,r,o){var u=r.pendingProps,h=Je.current,m=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=t!==null&&t.memoizedState===null?!1:(h&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),qe(Je,h&1),t===null)return oc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,m?(u=r.mode,m=r.child,_={mode:"hidden",children:_},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=jl(_,u,0,null),t=bs(t,u,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Dc(o),r.memoizedState=Vc,t):jc(r,_));if(h=t.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return Lv(t,r,_,u,C,h,o);if(m){m=u.fallback,_=r.mode,h=t.child,C=h.sibling;var D={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=D,r.deletions=null):(u=Gr(h,D),u.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=Gr(C,m):(m=bs(m,_,o,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,_=t.child.memoizedState,_=_===null?Dc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=Vc,u}return m=t.child,t=m.sibling,u=Gr(m,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function jc(t,r){return r=jl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function El(t,r,o,u){return u!==null&&ac(u),Vi(r,t.child,null,o),t=jc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Lv(t,r,o,u,h,m,_){if(o)return r.flags&256?(r.flags&=-257,u=Cc(Error(n(422))),El(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=u.fallback,h=r.mode,u=jl({mode:"visible",children:u.children},h,0,null),m=bs(m,h,_,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,(r.mode&1)!==0&&Vi(r,t.child,null,_),r.child.memoizedState=Dc(_),r.memoizedState=Vc,m);if((r.mode&1)===0)return El(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var C=u.dgst;return u=C,m=Error(n(419)),u=Cc(m,u,void 0),El(t,r,_,u)}if(C=(_&t.childLanes)!==0,Qt||C){if(u=Et,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,gr(t,h),On(u,t,h,-1))}return Xc(),u=Cc(Error(n(421))),El(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Xv.bind(null,t),h._reactRetry=r,null):(t=m.treeContext,on=Or(h.nextSibling),sn=r,Ye=!0,Vn=null,t!==null&&(fn[mn++]=mr,fn[mn++]=pr,fn[mn++]=Rs,mr=t.id,pr=t.overflow,Rs=r),r=jc(r,u.children),r.flags|=4096,r)}function om(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),hc(t.return,r,o)}function Mc(t,r,o,u,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function am(t,r,o){var u=r.pendingProps,h=u.revealOrder,m=u.tail;if(Bt(t,r,u.children,o),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&om(t,o,r);else if(t.tag===19)om(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&ml(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Mc(r,!1,h,o,m);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ml(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Mc(r,!0,o,null,m);break;case"together":Mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Tl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function vr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ms|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Gr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Fv(t,r,o){switch(r.tag){case 3:rm(r),ki();break;case 5:Ef(r);break;case 1:Gt(r.type)&&sl(r);break;case 4:mc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;qe(cl,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Je,Je.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?im(t,r,o):(qe(Je,Je.current&1),t=vr(t,r,o),t!==null?t.sibling:null);qe(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return am(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,em(t,r,o)}return vr(t,r,o)}var lm,Oc,um,cm;lm=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Oc=function(){},um=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ds(Wn.current);var m=null;switch(o){case"input":h=ds(t,h),u=ds(t,u),m=[];break;case"select":h=ae({},h,{value:void 0}),u=ae({},u,{value:void 0}),m=[];break;case"textarea":h=oo(t,h),u=oo(t,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=tl)}fo(o,u);var _;o=null;for(B in h)if(!u.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var C=h[B];for(_ in C)C.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in u){var D=u[B];if(C=h!=null?h[B]:void 0,u.hasOwnProperty(B)&&D!==C&&(D!=null||C!=null))if(B==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in D)D.hasOwnProperty(_)&&C[_]!==D[_]&&(o||(o={}),o[_]=D[_])}else o||(m||(m=[]),m.push(B,o)),o=D;else B==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(m=m||[]).push(B,D)):B==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(B,""+D):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(D!=null&&B==="onScroll"&&Ge("scroll",t),m||C===D||(m=[])):(m=m||[]).push(B,D))}o&&(m=m||[]).push("style",o);var B=m;(r.updateQueue=B)&&(r.flags|=4)}},cm=function(t,r,o,u){o!==u&&(r.flags|=4)};function Go(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Mt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function bv(t,r,o){var u=r.pendingProps;switch(sc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(r),null;case 1:return Gt(r.type)&&rl(),Mt(r),null;case 3:return u=r.stateNode,Mi(),Qe(Wt),Qe(Dt),yc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ll(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vn!==null&&(Gc(Vn),Vn=null))),Oc(t,r),Mt(r),null;case 5:pc(r);var h=Ds(Bo.current);if(o=r.type,t!==null&&r.stateNode!=null)um(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Mt(r),null}if(t=Ds(Wn.current),ll(r)){u=r.stateNode,o=r.type;var m=r.memoizedProps;switch(u[qn]=r,u[Lo]=m,t=(r.mode&1)!==0,o){case"dialog":Ge("cancel",u),Ge("close",u);break;case"iframe":case"object":case"embed":Ge("load",u);break;case"video":case"audio":for(h=0;h<jo.length;h++)Ge(jo[h],u);break;case"source":Ge("error",u);break;case"img":case"image":case"link":Ge("error",u),Ge("load",u);break;case"details":Ge("toggle",u);break;case"input":Xs(u,m),Ge("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},Ge("invalid",u);break;case"textarea":Js(u,m),Ge("invalid",u)}fo(o,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?u.textContent!==C&&(m.suppressHydrationWarning!==!0&&el(u.textContent,C,t),h=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&el(u.textContent,C,t),h=["children",""+C]):a.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Ge("scroll",u)}switch(o){case"input":nr(u),Na(u,m,!0);break;case"textarea":nr(u),ao(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=tl)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[qn]=r,t[Lo]=u,lm(t,r,!1,!1),r.stateNode=t;e:{switch(_=mo(o,u),o){case"dialog":Ge("cancel",t),Ge("close",t),h=u;break;case"iframe":case"object":case"embed":Ge("load",t),h=u;break;case"video":case"audio":for(h=0;h<jo.length;h++)Ge(jo[h],t);h=u;break;case"source":Ge("error",t),h=u;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),h=u;break;case"details":Ge("toggle",t),h=u;break;case"input":Xs(t,u),h=ds(t,u),Ge("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ae({},u,{value:void 0}),Ge("invalid",t);break;case"textarea":Js(t,u),h=oo(t,u),Ge("invalid",t);break;default:h=u}fo(o,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var D=C[m];m==="style"?co(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&lo(t,D)):m==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Ar(t,D):typeof D=="number"&&Ar(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?D!=null&&m==="onScroll"&&Ge("scroll",t):D!=null&&ne(t,m,D,_))}switch(o){case"input":nr(t),Na(t,u,!1);break;case"textarea":nr(t),ao(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,m=u.value,m!=null?sr(t,!!u.multiple,m,!1):u.defaultValue!=null&&sr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=tl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Mt(r),null;case 6:if(t&&r.stateNode!=null)cm(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ds(Bo.current),Ds(Wn.current),ll(r)){if(u=r.stateNode,o=r.memoizedProps,u[qn]=r,(m=u.nodeValue!==o)&&(t=sn,t!==null))switch(t.tag){case 3:el(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&el(u.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[qn]=r,r.stateNode=u}return Mt(r),null;case 13:if(Qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&on!==null&&(r.mode&1)!==0&&(r.flags&128)===0)ff(),ki(),r.flags|=98560,m=!1;else if(m=ll(r),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[qn]=r}else ki(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Mt(r),m=!1}else Vn!==null&&(Gc(Vn),Vn=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Je.current&1)!==0?gt===0&&(gt=3):Xc())),r.updateQueue!==null&&(r.flags|=4),Mt(r),null);case 4:return Mi(),Oc(t,r),t===null&&Mo(r.stateNode.containerInfo),Mt(r),null;case 10:return cc(r.type._context),Mt(r),null;case 17:return Gt(r.type)&&rl(),Mt(r),null;case 19:if(Qe(Je),m=r.memoizedState,m===null)return Mt(r),null;if(u=(r.flags&128)!==0,_=m.rendering,_===null)if(u)Go(m,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=ml(t),_!==null){for(r.flags|=128,Go(m,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)m=o,t=u,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Je,Je.current&1|2),r.child}t=t.sibling}m.tail!==null&&He()>bi&&(r.flags|=128,u=!0,Go(m,!1),r.lanes=4194304)}else{if(!u)if(t=ml(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Go(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ye)return Mt(r),null}else 2*He()-m.renderingStartTime>bi&&o!==1073741824&&(r.flags|=128,u=!0,Go(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=He(),r.sibling=null,o=Je.current,qe(Je,u?o&1|2:o&1),r):(Mt(r),null);case 22:case 23:return Kc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(an&1073741824)!==0&&(Mt(r),r.subtreeFlags&6&&(r.flags|=8192)):Mt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Uv(t,r){switch(sc(r),r.tag){case 1:return Gt(r.type)&&rl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mi(),Qe(Wt),Qe(Dt),yc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return pc(r),null;case 13:if(Qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ki()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Je),null;case 4:return Mi(),null;case 10:return cc(r.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Il=!1,Ot=!1,zv=typeof WeakSet=="function"?WeakSet:Set,le=null;function Li(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(t,r,u)}else o.current=null}function Lc(t,r,o){try{o()}catch(u){nt(t,r,u)}}var hm=!1;function Bv(t,r){if(Ku=Dr,t=Bd(),zu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,C=-1,D=-1,B=0,X=0,J=t,K=null;t:for(;;){for(var ie;J!==o||h!==0&&J.nodeType!==3||(C=_+h),J!==m||u!==0&&J.nodeType!==3||(D=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(ie=J.firstChild)!==null;)K=J,J=ie;for(;;){if(J===t)break t;if(K===o&&++B===h&&(C=_),K===m&&++X===u&&(D=_),(ie=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=ie}o=C===-1||D===-1?null:{start:C,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xu={focusedElem:t,selectionRange:o},Dr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,st=ue.memoizedState,F=r.stateNode,j=F.getSnapshotBeforeUpdate(r.elementType===r.type?he:Dn(r.type,he),st);F.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){nt(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=hm,hm=!1,ue}function Qo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var m=h.destroy;h.destroy=void 0,m!==void 0&&Lc(r,o,m)}h=h.next}while(h!==u)}}function Sl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Fc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function dm(t){var r=t.alternate;r!==null&&(t.alternate=null,dm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[qn],delete r[Lo],delete r[ec],delete r[Sv],delete r[Av])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fm(t){return t.tag===5||t.tag===3||t.tag===4}function mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=tl));else if(u!==4&&(t=t.child,t!==null))for(bc(t,r,o),t=t.sibling;t!==null;)bc(t,r,o),t=t.sibling}function Uc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Uc(t,r,o),t=t.sibling;t!==null;)Uc(t,r,o),t=t.sibling}var Nt=null,jn=!1;function Br(t,r,o){for(o=o.child;o!==null;)pm(t,r,o),o=o.sibling}function pm(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Es,o)}catch{}switch(o.tag){case 5:Ot||Li(o,r);case 6:var u=Nt,h=jn;Nt=null,Br(t,r,o),Nt=u,jn=h,Nt!==null&&(jn?(t=Nt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Nt.removeChild(o.stateNode));break;case 18:Nt!==null&&(jn?(t=Nt,o=o.stateNode,t.nodeType===8?Zu(t.parentNode,o):t.nodeType===1&&Zu(t,o),Pn(t)):Zu(Nt,o.stateNode));break;case 4:u=Nt,h=jn,Nt=o.stateNode.containerInfo,jn=!0,Br(t,r,o),Nt=u,jn=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Lc(o,r,_),h=h.next}while(h!==u)}Br(t,r,o);break;case 1:if(!Ot&&(Li(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(C){nt(o,r,C)}Br(t,r,o);break;case 21:Br(t,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,Br(t,r,o),Ot=u):Br(t,r,o);break;default:Br(t,r,o)}}function gm(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new zv),r.forEach(function(u){var h=Yv.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Mn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var m=t,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Nt=C.stateNode,jn=!1;break e;case 3:Nt=C.stateNode.containerInfo,jn=!0;break e;case 4:Nt=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(Nt===null)throw Error(n(160));pm(m,_,h),Nt=null,jn=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(B){nt(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ym(r,t),r=r.sibling}function ym(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(r,t),Qn(t),u&4){try{Qo(3,t,t.return),Sl(3,t)}catch(he){nt(t,t.return,he)}try{Qo(5,t,t.return)}catch(he){nt(t,t.return,he)}}break;case 1:Mn(r,t),Qn(t),u&512&&o!==null&&Li(o,o.return);break;case 5:if(Mn(r,t),Qn(t),u&512&&o!==null&&Li(o,o.return),t.flags&32){var h=t.stateNode;try{Ar(h,"")}catch(he){nt(t,t.return,he)}}if(u&4&&(h=t.stateNode,h!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,C=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&so(h,m),mo(C,_);var B=mo(C,m);for(_=0;_<D.length;_+=2){var X=D[_],J=D[_+1];X==="style"?co(h,J):X==="dangerouslySetInnerHTML"?lo(h,J):X==="children"?Ar(h,J):ne(h,X,J,B)}switch(C){case"input":io(h,m);break;case"textarea":Zs(h,m);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?sr(h,!!m.multiple,ie,!1):K!==!!m.multiple&&(m.defaultValue!=null?sr(h,!!m.multiple,m.defaultValue,!0):sr(h,!!m.multiple,m.multiple?[]:"",!1))}h[Lo]=m}catch(he){nt(t,t.return,he)}}break;case 6:if(Mn(r,t),Qn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,m=t.memoizedProps;try{h.nodeValue=m}catch(he){nt(t,t.return,he)}}break;case 3:if(Mn(r,t),Qn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pn(r.containerInfo)}catch(he){nt(t,t.return,he)}break;case 4:Mn(r,t),Qn(t);break;case 13:Mn(r,t),Qn(t),h=t.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||($c=He())),u&4&&gm(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(Ot=(B=Ot)||X,Mn(r,t),Ot=B):Mn(r,t),Qn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!X&&(t.mode&1)!==0)for(le=t,X=t.child;X!==null;){for(J=le=X;le!==null;){switch(K=le,ie=K.child,K.tag){case 0:case 11:case 14:case 15:Qo(4,K,K.return);break;case 1:Li(K,K.return);var ue=K.stateNode;if(typeof ue.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(he){nt(u,o,he)}}break;case 5:Li(K,K.return);break;case 22:if(K.memoizedState!==null){wm(J);continue}}ie!==null?(ie.return=K,le=ie):wm(J)}X=X.sibling}e:for(X=null,J=t;;){if(J.tag===5){if(X===null){X=J;try{h=J.stateNode,B?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=J.stateNode,D=J.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=uo("display",_))}catch(he){nt(t,t.return,he)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(he){nt(t,t.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Mn(r,t),Qn(t),u&4&&gm(t);break;case 21:break;default:Mn(r,t),Qn(t)}}function Qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(fm(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Ar(h,""),u.flags&=-33);var m=mm(t);Uc(t,m,h);break;case 3:case 4:var _=u.stateNode.containerInfo,C=mm(t);bc(t,C,_);break;default:throw Error(n(161))}}catch(D){nt(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $v(t,r,o){le=t,vm(t)}function vm(t,r,o){for(var u=(t.mode&1)!==0;le!==null;){var h=le,m=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||Il;if(!_){var C=h.alternate,D=C!==null&&C.memoizedState!==null||Ot;C=Il;var B=Ot;if(Il=_,(Ot=D)&&!B)for(le=h;le!==null;)_=le,D=_.child,_.tag===22&&_.memoizedState!==null?Em(h):D!==null?(D.return=_,le=D):Em(h);for(;m!==null;)le=m,vm(m),m=m.sibling;le=h,Il=C,Ot=B}_m(t)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,le=m):_m(t)}}function _m(t){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ot||Sl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Dn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&wf(r,m,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}wf(r,_,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&Pn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&Fc(r)}catch(K){nt(r,r.return,K)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function wm(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function Em(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Sl(4,r)}catch(D){nt(r,o,D)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(D){nt(r,h,D)}}var m=r.return;try{Fc(r)}catch(D){nt(r,m,D)}break;case 5:var _=r.return;try{Fc(r)}catch(D){nt(r,_,D)}}}catch(D){nt(r,r.return,D)}if(r===t){le=null;break}var C=r.sibling;if(C!==null){C.return=r.return,le=C;break}le=r.return}}var Hv=Math.ceil,Al=ce.ReactCurrentDispatcher,zc=ce.ReactCurrentOwner,yn=ce.ReactCurrentBatchConfig,je=0,Et=null,lt=null,xt=0,an=0,Fi=Lr(0),gt=0,Ko=null,Ms=0,Nl=0,Bc=0,Xo=null,Kt=null,$c=0,bi=1/0,_r=null,xl=!1,Hc=null,$r=null,Cl=!1,Hr=null,Pl=0,Yo=0,qc=null,Rl=-1,kl=0;function $t(){return(je&6)!==0?He():Rl!==-1?Rl:Rl=He()}function qr(t){return(t.mode&1)===0?1:(je&2)!==0&&xt!==0?xt&-xt:xv.transition!==null?(kl===0&&(kl=Is()),kl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:Ao(t.type)),t)}function On(t,r,o,u){if(50<Yo)throw Yo=0,qc=null,Error(n(185));Pr(t,o,u),((je&2)===0||t!==Et)&&(t===Et&&((je&2)===0&&(Nl|=o),gt===4&&Wr(t,xt)),Xt(t,u),o===1&&je===0&&(r.mode&1)===0&&(bi=He()+500,il&&br()))}function Xt(t,r){var o=t.callbackNode;ar(t,r);var u=Ts(t,t===Et?xt:0);if(u===0)o!==null&&wo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&wo(o),r===1)t.tag===0?Nv(Im.bind(null,t)):lf(Im.bind(null,t)),Tv(function(){(je&6)===0&&br()}),o=null;else{switch(kr(u)){case 1:o=ws;break;case 4:o=Nr;break;case 16:o=cn;break;case 536870912:o=ka;break;default:o=cn}o=km(o,Tm.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Tm(t,r){if(Rl=-1,kl=0,(je&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ui()&&t.callbackNode!==o)return null;var u=Ts(t,t===Et?xt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Vl(t,u);else{r=u;var h=je;je|=2;var m=Am();(Et!==t||xt!==r)&&(_r=null,bi=He()+500,Ls(t,r));do try{Gv();break}catch(C){Sm(t,C)}while(!0);uc(),Al.current=m,je=h,lt!==null?r=0:(Et=null,xt=0,r=gt)}if(r!==0){if(r===2&&(h=tn(t),h!==0&&(u=h,r=Wc(t,h))),r===1)throw o=Ko,Ls(t,0),Wr(t,u),Xt(t,He()),o;if(r===6)Wr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!qv(h)&&(r=Vl(t,u),r===2&&(m=tn(t),m!==0&&(u=m,r=Wc(t,m))),r===1))throw o=Ko,Ls(t,0),Wr(t,u),Xt(t,He()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Fs(t,Kt,_r);break;case 3:if(Wr(t,u),(u&130023424)===u&&(r=$c+500-He(),10<r)){if(Ts(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Ju(Fs.bind(null,t,Kt,_r),r);break}Fs(t,Kt,_r);break;case 4:if(Wr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ut(u);m=1<<_,_=r[_],_>h&&(h=_),u&=~m}if(u=h,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Hv(u/1960))-u,10<u){t.timeoutHandle=Ju(Fs.bind(null,t,Kt,_r),u);break}Fs(t,Kt,_r);break;case 5:Fs(t,Kt,_r);break;default:throw Error(n(329))}}}return Xt(t,He()),t.callbackNode===o?Tm.bind(null,t):null}function Wc(t,r){var o=Xo;return t.current.memoizedState.isDehydrated&&(Ls(t,r).flags|=256),t=Vl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Gc(r)),t}function Gc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function qv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!kn(m(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~Bc,r&=~Nl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function Im(t){if((je&6)!==0)throw Error(n(327));Ui();var r=Ts(t,0);if((r&1)===0)return Xt(t,He()),null;var o=Vl(t,r);if(t.tag!==0&&o===2){var u=tn(t);u!==0&&(r=u,o=Wc(t,u))}if(o===1)throw o=Ko,Ls(t,0),Wr(t,r),Xt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Fs(t,Kt,_r),Xt(t,He()),null}function Qc(t,r){var o=je;je|=1;try{return t(r)}finally{je=o,je===0&&(bi=He()+500,il&&br())}}function Os(t){Hr!==null&&Hr.tag===0&&(je&6)===0&&Ui();var r=je;je|=1;var o=yn.transition,u=Ce;try{if(yn.transition=null,Ce=1,t)return t()}finally{Ce=u,yn.transition=o,je=r,(je&6)===0&&br()}}function Kc(){an=Fi.current,Qe(Fi)}function Ls(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ev(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(sc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&rl();break;case 3:Mi(),Qe(Wt),Qe(Dt),yc();break;case 5:pc(u);break;case 4:Mi();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:cc(u.type._context);break;case 22:case 23:Kc()}o=o.return}if(Et=t,lt=t=Gr(t.current,null),xt=an=r,gt=0,Ko=null,Bc=Nl=Ms=0,Kt=Xo=null,Vs!==null){for(r=0;r<Vs.length;r++)if(o=Vs[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,m=o.pending;if(m!==null){var _=m.next;m.next=h,u.next=_}o.pending=u}Vs=null}return t}function Sm(t,r){do{var o=lt;try{if(uc(),pl.current=_l,gl){for(var u=Ze.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}gl=!1}if(js=0,wt=pt=Ze=null,$o=!1,Ho=0,zc.current=null,o===null||o.return===null){gt=1,Ko=r,lt=null;break}e:{var m=t,_=o.return,C=o,D=r;if(r=xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var B=D,X=C,J=X.tag;if((X.mode&1)===0&&(J===0||J===11||J===15)){var K=X.alternate;K?(X.updateQueue=K.updateQueue,X.memoizedState=K.memoizedState,X.lanes=K.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Kf(_);if(ie!==null){ie.flags&=-257,Xf(ie,_,C,m,r),ie.mode&1&&Qf(m,B,r),r=ie,D=B;var ue=r.updateQueue;if(ue===null){var he=new Set;he.add(D),r.updateQueue=he}else ue.add(D);break e}else{if((r&1)===0){Qf(m,B,r),Xc();break e}D=Error(n(426))}}else if(Ye&&C.mode&1){var st=Kf(_);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Xf(st,_,C,m,r),ac(Oi(D,C));break e}}m=D=Oi(D,C),gt!==4&&(gt=2),Xo===null?Xo=[m]:Xo.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var F=Wf(m,D,r);_f(m,F);break e;case 1:C=D;var j=m.type,b=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($r===null||!$r.has(b)))){m.flags|=65536,r&=-r,m.lanes|=r;var ee=Gf(m,C,r);_f(m,ee);break e}}m=m.return}while(m!==null)}xm(o)}catch(de){r=de,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function Am(){var t=Al.current;return Al.current=_l,t===null?_l:t}function Xc(){(gt===0||gt===3||gt===2)&&(gt=4),Et===null||(Ms&268435455)===0&&(Nl&268435455)===0||Wr(Et,xt)}function Vl(t,r){var o=je;je|=2;var u=Am();(Et!==t||xt!==r)&&(_r=null,Ls(t,r));do try{Wv();break}catch(h){Sm(t,h)}while(!0);if(uc(),je=o,Al.current=u,lt!==null)throw Error(n(261));return Et=null,xt=0,gt}function Wv(){for(;lt!==null;)Nm(lt)}function Gv(){for(;lt!==null&&!Pa();)Nm(lt)}function Nm(t){var r=Rm(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?xm(t):lt=r,zc.current=null}function xm(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=bv(o,r,an),o!==null){lt=o;return}}else{if(o=Uv(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,lt=null;return}}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);gt===0&&(gt=5)}function Fs(t,r,o){var u=Ce,h=yn.transition;try{yn.transition=null,Ce=1,Qv(t,r,o,u)}finally{yn.transition=h,Ce=u}return null}function Qv(t,r,o,u){do Ui();while(Hr!==null);if((je&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Be(t,m),t===Et&&(lt=Et=null,xt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Cl||(Cl=!0,km(cn,function(){return Ui(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=yn.transition,yn.transition=null;var _=Ce;Ce=1;var C=je;je|=4,zc.current=null,Bv(t,o),ym(o,t),mv(Xu),Dr=!!Ku,Xu=Ku=null,t.current=o,$v(o),Du(),je=C,Ce=_,yn.transition=m}else t.current=o;if(Cl&&(Cl=!1,Hr=t,Pl=h),m=t.pendingLanes,m===0&&($r=null),Va(o.stateNode),Xt(t,He()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(xl)throw xl=!1,t=Hc,Hc=null,t;return(Pl&1)!==0&&t.tag!==0&&Ui(),m=t.pendingLanes,(m&1)!==0?t===qc?Yo++:(Yo=0,qc=t):Yo=0,br(),null}function Ui(){if(Hr!==null){var t=kr(Pl),r=yn.transition,o=Ce;try{if(yn.transition=null,Ce=16>t?16:t,Hr===null)var u=!1;else{if(t=Hr,Hr=null,Pl=0,(je&6)!==0)throw Error(n(331));var h=je;for(je|=4,le=t.current;le!==null;){var m=le,_=m.child;if((le.flags&16)!==0){var C=m.deletions;if(C!==null){for(var D=0;D<C.length;D++){var B=C[D];for(le=B;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Qo(8,X,m)}var J=X.child;if(J!==null)J.return=X,le=J;else for(;le!==null;){X=le;var K=X.sibling,ie=X.return;if(dm(X),X===B){le=null;break}if(K!==null){K.return=ie,le=K;break}le=ie}}}var ue=m.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var st=he.sibling;he.sibling=null,he=st}while(he!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,le=_;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Qo(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,le=F;break e}le=m.return}}var j=t.current;for(le=j;le!==null;){_=le;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,le=b;else e:for(_=j;le!==null;){if(C=le,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Sl(9,C)}}catch(de){nt(C,C.return,de)}if(C===_){le=null;break e}var ee=C.sibling;if(ee!==null){ee.return=C.return,le=ee;break e}le=C.return}}if(je=h,br(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Es,t)}catch{}u=!0}return u}finally{Ce=o,yn.transition=r}}return!1}function Cm(t,r,o){r=Oi(o,r),r=Wf(t,r,1),t=zr(t,r,1),r=$t(),t!==null&&(Pr(t,1,r),Xt(t,r))}function nt(t,r,o){if(t.tag===3)Cm(t,t,o);else for(;r!==null;){if(r.tag===3){Cm(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){t=Oi(o,t),t=Gf(r,t,1),r=zr(r,t,1),t=$t(),r!==null&&(Pr(r,1,t),Xt(r,t));break}}r=r.return}}function Kv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,Et===t&&(xt&o)===o&&(gt===4||gt===3&&(xt&130023424)===xt&&500>He()-$c?Ls(t,0):Bc|=o),Xt(t,r)}function Pm(t,r){r===0&&((t.mode&1)===0?r=1:(r=ui,ui<<=1,(ui&130023424)===0&&(ui=4194304)));var o=$t();t=gr(t,r),t!==null&&(Pr(t,r,o),Xt(t,o))}function Xv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Pm(t,o)}function Yv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Pm(t,o)}var Rm;Rm=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Wt.current)Qt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Qt=!1,Fv(t,r,o);Qt=(t.flags&131072)!==0}else Qt=!1,Ye&&(r.flags&1048576)!==0&&uf(r,al,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Tl(t,r),t=r.pendingProps;var h=Ci(r,Dt.current);ji(r,o),h=wc(null,r,u,t,h,o);var m=Ec();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Gt(u)?(m=!0,sl(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,fc(r),h.updater=wl,r.stateNode=h,h._reactInternals=r,xc(r,u,t,o),r=kc(null,r,u,!0,m,o)):(r.tag=0,Ye&&m&&rc(r),Bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Tl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Zv(u),t=Dn(u,t),h){case 0:r=Rc(null,r,u,t,o);break e;case 1:r=nm(null,r,u,t,o);break e;case 11:r=Yf(null,r,u,t,o);break e;case 14:r=Jf(null,r,u,Dn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Rc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),nm(t,r,u,h,o);case 3:e:{if(rm(r),t===null)throw Error(n(387));u=r.pendingProps,m=r.memoizedState,h=m.element,vf(t,r),fl(r,u,null,o);var _=r.memoizedState;if(u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Oi(Error(n(423)),r),r=sm(t,r,u,o,h);break e}else if(u!==h){h=Oi(Error(n(424)),r),r=sm(t,r,u,o,h);break e}else for(on=Or(r.stateNode.containerInfo.firstChild),sn=r,Ye=!0,Vn=null,o=gf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ki(),u===h){r=vr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return Ef(r),t===null&&oc(r),u=r.type,h=r.pendingProps,m=t!==null?t.memoizedProps:null,_=h.children,Yu(u,h)?_=null:m!==null&&Yu(u,m)&&(r.flags|=32),tm(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&oc(r),null;case 13:return im(t,r,o);case 4:return mc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Vi(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Yf(t,r,u,h,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,m=r.memoizedProps,_=h.value,qe(cl,u._currentValue),u._currentValue=_,m!==null)if(kn(m.value,_)){if(m.children===h.children&&!Wt.current){r=vr(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var D=C.firstContext;D!==null;){if(D.context===u){if(m.tag===1){D=yr(-1,o&-o),D.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?D.next=D:(D.next=X.next,X.next=D),B.pending=D}}m.lanes|=o,D=m.alternate,D!==null&&(D.lanes|=o),hc(m.return,o,r),C.lanes|=o;break}D=D.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,C=_.alternate,C!==null&&(C.lanes|=o),hc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,ji(r,o),h=pn(h),u=u(h),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,h=Dn(u,r.pendingProps),h=Dn(u.type,h),Jf(t,r,u,h,o);case 15:return Zf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Tl(t,r),r.tag=1,Gt(u)?(t=!0,sl(r)):t=!1,ji(r,o),Hf(r,u,h),xc(r,u,h,o),kc(null,r,u,!0,t,o);case 19:return am(t,r,o);case 22:return em(t,r,o)}throw Error(n(156,r.tag))};function km(t,r){return ai(t,r)}function Jv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,o,u){return new Jv(t,r,o,u)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zv(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===kt)return 14}return 2}function Gr(t,r){var o=t.alternate;return o===null?(o=vn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Dl(t,r,o,u,h,m){var _=2;if(u=t,typeof t=="function")Yc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case S:return bs(o.children,h,m,r);case I:_=8,h|=8;break;case N:return t=vn(12,o,r,h|2),t.elementType=N,t.lanes=m,t;case P:return t=vn(13,o,r,h),t.elementType=P,t.lanes=m,t;case ze:return t=vn(19,o,r,h),t.elementType=ze,t.lanes=m,t;case Ue:return jl(o,h,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case V:_=9;break e;case M:_=11;break e;case kt:_=14;break e;case Vt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=vn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=m,r}function bs(t,r,o,u){return t=vn(7,t,u,r),t.lanes=o,t}function jl(t,r,o,u){return t=vn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Jc(t,r,o){return t=vn(6,t,null,r),t.lanes=o,t}function Zc(t,r,o){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function e_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function eh(t,r,o,u,h,m,_,C,D){return t=new e_(t,r,o,C,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=vn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(m),t}function t_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Vm(t){if(!t)return Fr;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Gt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Gt(o))return of(t,o,r)}return r}function Dm(t,r,o,u,h,m,_,C,D){return t=eh(o,u,!0,t,h,m,_,C,D),t.context=Vm(null),o=t.current,u=$t(),h=qr(o),m=yr(u,h),m.callback=r??null,zr(o,m,h),t.current.lanes=h,Pr(t,h,u),Xt(t,u),t}function Ml(t,r,o,u){var h=r.current,m=$t(),_=qr(h);return o=Vm(o),r.context===null?r.context=o:r.pendingContext=o,r=yr(m,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=zr(h,r,_),t!==null&&(On(t,h,_,m),dl(t,h,_)),_}function Ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function th(t,r){jm(t,r),(t=t.alternate)&&jm(t,r)}function n_(){return null}var Mm=typeof reportError=="function"?reportError:function(t){console.error(t)};function nh(t){this._internalRoot=t}Ll.prototype.render=nh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ml(t,r,null,null)},Ll.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Os(function(){Ml(null,t,null,null)}),r[dr]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var r=La();t={blockedOn:null,target:t,priority:r};for(var o=0;o<zn.length&&r!==0&&r<zn[o].priority;o++);zn.splice(o,0,t),o===0&&Ua(t)}};function rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Om(){}function r_(t,r,o,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var B=Ol(_);m.call(B)}}var _=Dm(r,u,t,0,null,!1,!1,"",Om);return t._reactRootContainer=_,t[dr]=_.current,Mo(t.nodeType===8?t.parentNode:t),Os(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var C=u;u=function(){var B=Ol(D);C.call(B)}}var D=eh(t,0,!1,null,null,!1,!1,"",Om);return t._reactRootContainer=D,t[dr]=D.current,Mo(t.nodeType===8?t.parentNode:t),Os(function(){Ml(r,D,o,u)}),D}function bl(t,r,o,u,h){var m=o._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var C=h;h=function(){var D=Ol(_);C.call(D)}}Ml(r,_,t,h)}else _=r_(o,r,t,h,u);return Ol(_)}Ma=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=xr(r.pendingLanes);o!==0&&(Rr(r,o|1),Xt(r,He()),(je&6)===0&&(bi=He()+500,br()))}break;case 13:Os(function(){var u=gr(t,1);if(u!==null){var h=$t();On(u,t,1,h)}}),th(t,1)}},ci=function(t){if(t.tag===13){var r=gr(t,134217728);if(r!==null){var o=$t();On(r,t,134217728,o)}th(t,134217728)}},Oa=function(t){if(t.tag===13){var r=qr(t),o=gr(t,r);if(o!==null){var u=$t();On(o,t,r,u)}th(t,r)}},La=function(){return Ce},Fa=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},ti=function(t,r,o){switch(r){case"input":if(io(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=nl(u);if(!h)throw Error(n(90));Ks(u),io(u,h)}}}break;case"textarea":Zs(t,o);break;case"select":r=o.value,r!=null&&sr(t,!!o.multiple,r,!1)}},gs=Qc,go=Os;var s_={usingClientEntryPoint:!1,Events:[Fo,Ni,nl,bn,po,Qc]},Jo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i_={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_o(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Es=Ul.inject(i_),en=Ul}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s_,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(r))throw Error(n(200));return t_(t,r,null,o)},Yt.createRoot=function(t,r){if(!rh(t))throw Error(n(299));var o=!1,u="",h=Mm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=eh(t,1,!1,null,null,o,!1,u,h),t[dr]=r.current,Mo(t.nodeType===8?t.parentNode:t),new nh(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=_o(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Os(t)},Yt.hydrate=function(t,r,o){if(!Fl(r))throw Error(n(200));return bl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!rh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,m="",_=Mm;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Dm(r,null,t,1,o??null,h,!1,m,_),t[dr]=r.current,Mo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Ll(r)},Yt.render=function(t,r,o){if(!Fl(r))throw Error(n(200));return bl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!Fl(t))throw Error(n(40));return t._reactRootContainer?(Os(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Qc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Fl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return bl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Hm;function f_(){if(Hm)return oh.exports;Hm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),oh.exports=d_(),oh.exports}var qm;function m_(){if(qm)return zl;qm=1;var s=f_();return zl.createRoot=s.createRoot,zl.hydrateRoot=s.hydrateRoot,zl}var p_=m_();const g_=()=>{};var Wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},y_=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const a=s[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[n++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[n++],d=s[n++],g=s[n++],v=((a&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{const c=s[n++],d=s[n++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},og={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const c=s[a],d=a+1<s.length,g=d?s[a+1]:0,v=a+2<s.length,w=v?s[a+2]:0,A=c>>2,x=(c&3)<<4|g>>4;let T=(g&15)<<2|w>>6,R=w&63;v||(R=64,d||(T=64)),i.push(n[A],n[x],n[T],n[R])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ig(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):y_(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const c=n[s.charAt(a++)],g=a<s.length?n[s.charAt(a)]:0;++a;const w=a<s.length?n[s.charAt(a)]:64;++a;const x=a<s.length?n[s.charAt(a)]:64;if(++a,c==null||g==null||w==null||x==null)throw new v_;const T=c<<2|g>>4;if(i.push(T),w!==64){const R=g<<4&240|w>>2;if(i.push(R),x!==64){const U=w<<6&192|x;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class v_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const __=function(s){const e=ig(s);return og.encodeByteArray(e,!0)},Zl=function(s){return __(s).replace(/\./g,"")},w_=function(s){try{return og.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=()=>E_().__FIREBASE_DEFAULTS__,I_=()=>{if(typeof process>"u"||typeof Wm>"u")return;const s=Wm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},S_=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&w_(s[1]);return e&&JSON.parse(e)},Bh=()=>{try{return g_()||T_()||I_()||S_()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},A_=s=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},N_=s=>{const e=A_(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ag=()=>{var s;return(s=Bh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C_(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(d)),""].join(".")}const sa={};function R_(){const s={prod:[],emulator:[]};for(const e of Object.keys(sa))sa[e]?s.emulator.push(e):s.prod.push(e);return s}function k_(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Gm=!1;function V_(s,e){if(typeof window>"u"||typeof document>"u"||!$h(window.location.host)||sa[s]===e||sa[s]||Gm)return;sa[s]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=R_().prod.length>0;function d(){const T=document.getElementById(i);T&&T.remove()}function g(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function v(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function w(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Gm=!0,d()},T}function A(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=k_(i),R=n("text"),U=document.getElementById(R)||document.createElement("span"),q=n("learnmore"),H=document.getElementById(q)||document.createElement("a"),Y=n("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;g(ne),A(H,q);const ce=w();v(Z,Y),ne.append(Z,U,H,ce),document.body.appendChild(ne)}c?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j_(){var s;const e=(s=Bh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M_(){return!j_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O_(){try{return typeof indexedDB=="object"}catch{return!1}}function L_(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="FirebaseError";class Ji extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=F_,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lg.prototype.create)}}class lg{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?b_(c,i):"Error",g=`${this.serviceName}: ${d} (${a}).`;return new Ji(a,g,i)}}function b_(s,e){return s.replace(U_,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const U_=/\{\$([^}]+)}/g;function eu(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const c=s[a],d=e[a];if(Qm(c)&&Qm(d)){if(!eu(c,d))return!1}else if(c!==d)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Qm(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new x_;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($_(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);i===g&&d.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B_(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B_(s){return s===zs?void 0:s}function $_(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const q_={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},W_=De.INFO,G_={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Q_=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=G_[e];if(a)console[a](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ug{constructor(e){this.name=e,this._logLevel=W_,this._logHandler=Q_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const K_=(s,e)=>e.some(n=>s instanceof n);let Km,Xm;function X_(){return Km||(Km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y_(){return Xm||(Xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cg=new WeakMap,yh=new WeakMap,hg=new WeakMap,uh=new WeakMap,Hh=new WeakMap;function J_(s){const e=new Promise((n,i)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Xr(s.result)),a()},d=()=>{i(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&cg.set(n,s)}).catch(()=>{}),Hh.set(e,s),e}function Z_(s){if(yh.has(s))return;const e=new Promise((n,i)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});yh.set(s,e)}let vh={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return yh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||hg.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function e0(s){vh=s(vh)}function t0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(ch(this),e,...n);return hg.set(i,e.sort?e.sort():[e]),Xr(i)}:Y_().includes(s)?function(...e){return s.apply(ch(this),e),Xr(cg.get(this))}:function(...e){return Xr(s.apply(ch(this),e))}}function n0(s){return typeof s=="function"?t0(s):(s instanceof IDBTransaction&&Z_(s),K_(s,X_())?new Proxy(s,vh):s)}function Xr(s){if(s instanceof IDBRequest)return J_(s);if(uh.has(s))return uh.get(s);const e=n0(s);return e!==s&&(uh.set(s,e),Hh.set(e,s)),e}const ch=s=>Hh.get(s);function r0(s,e,{blocked:n,upgrade:i,blocking:a,terminated:c}={}){const d=indexedDB.open(s,e),g=Xr(d);return i&&d.addEventListener("upgradeneeded",v=>{i(Xr(d.result),v.oldVersion,v.newVersion,Xr(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",w=>a(w.oldVersion,w.newVersion,w))}).catch(()=>{}),g}const s0=["get","getKey","getAll","getAllKeys","count"],i0=["put","add","delete","clear"],hh=new Map;function Ym(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(hh.get(e))return hh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=i0.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||s0.includes(n)))return;const c=async function(d,...g){const v=this.transaction(d,a?"readwrite":"readonly");let w=v.store;return i&&(w=w.index(g.shift())),(await Promise.all([w[n](...g),a&&v.done]))[0]};return hh.set(e,c),c}e0(s=>({...s,get:(e,n,i)=>Ym(e,n)||s.get(e,n,i),has:(e,n)=>!!Ym(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a0(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function a0(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _h="@firebase/app",Jm="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new ug("@firebase/app"),l0="@firebase/app-compat",u0="@firebase/analytics-compat",c0="@firebase/analytics",h0="@firebase/app-check-compat",d0="@firebase/app-check",f0="@firebase/auth",m0="@firebase/auth-compat",p0="@firebase/database",g0="@firebase/data-connect",y0="@firebase/database-compat",v0="@firebase/functions",_0="@firebase/functions-compat",w0="@firebase/installations",E0="@firebase/installations-compat",T0="@firebase/messaging",I0="@firebase/messaging-compat",S0="@firebase/performance",A0="@firebase/performance-compat",N0="@firebase/remote-config",x0="@firebase/remote-config-compat",C0="@firebase/storage",P0="@firebase/storage-compat",R0="@firebase/firestore",k0="@firebase/ai",V0="@firebase/firestore-compat",D0="firebase",j0="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",M0={[_h]:"fire-core",[l0]:"fire-core-compat",[c0]:"fire-analytics",[u0]:"fire-analytics-compat",[d0]:"fire-app-check",[h0]:"fire-app-check-compat",[f0]:"fire-auth",[m0]:"fire-auth-compat",[p0]:"fire-rtdb",[g0]:"fire-data-connect",[y0]:"fire-rtdb-compat",[v0]:"fire-fn",[_0]:"fire-fn-compat",[w0]:"fire-iid",[E0]:"fire-iid-compat",[T0]:"fire-fcm",[I0]:"fire-fcm-compat",[S0]:"fire-perf",[A0]:"fire-perf-compat",[N0]:"fire-rc",[x0]:"fire-rc-compat",[C0]:"fire-gcs",[P0]:"fire-gcs-compat",[R0]:"fire-fst",[V0]:"fire-fst-compat",[k0]:"fire-vertex","fire-js":"fire-js",[D0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,O0=new Map,Eh=new Map;function Zm(s,e){try{s.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nu(s){const e=s.name;if(Eh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,s);for(const n of tu.values())Zm(n,s);for(const n of O0.values())Zm(n,s);return!0}function L0(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function F0(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new lg("app","Firebase",b0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=j0;function dg(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wh,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Yr.create("bad-app-name",{appName:String(a)});if(n||(n=ag()),!n)throw Yr.create("no-options");const c=tu.get(a);if(c){if(eu(n,c.options)&&eu(i,c.config))return c;throw Yr.create("duplicate-app",{appName:a})}const d=new H_(a);for(const v of Eh.values())d.addComponent(v);const g=new U0(n,i,d);return tu.set(a,g),g}function B0(s=wh){const e=tu.get(s);if(!e&&s===wh&&ag())return dg();if(!e)throw Yr.create("no-app",{appName:s});return e}function qi(s,e,n){var i;let a=(i=M0[s])!==null&&i!==void 0?i:s;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${a}" with version "${e}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(g.join(" "));return}nu(new ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebase-heartbeat-database",H0=1,ca="firebase-heartbeat-store";let dh=null;function fg(){return dh||(dh=r0($0,H0,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(s=>{throw Yr.create("idb-open",{originalErrorMessage:s.message})})),dh}async function q0(s){try{const n=(await fg()).transaction(ca),i=await n.objectStore(ca).get(mg(s));return await n.done,i}catch(e){if(e instanceof Ji)wr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function ep(s,e){try{const i=(await fg()).transaction(ca,"readwrite");await i.objectStore(ca).put(e,mg(s)),await i.done}catch(n){if(n instanceof Ji)wr.warn(n.message);else{const i=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(i.message)}}}function mg(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=1024,G0=30;class Q0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X0(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=tp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>G0){const d=Y0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tp(),{heartbeatsToSend:i,unsentEntries:a}=K0(this._heartbeatsCache.heartbeats),c=Zl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return wr.warn(n),""}}}function tp(){return new Date().toISOString().substring(0,10)}function K0(s,e=W0){const n=[];let i=s.slice();for(const a of s){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),np(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),np(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class X0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O_()?L_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function np(s){return Zl(JSON.stringify({version:2,heartbeats:s})).length}function Y0(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(s){nu(new ua("platform-logger",e=>new o0(e),"PRIVATE")),nu(new ua("heartbeat",e=>new Q0(e),"PRIVATE")),qi(_h,Jm,s),qi(_h,Jm,"esm2017"),qi("fire-js","")}J0("");var Z0="firebase",ew="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(Z0,ew,"app");var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,pg;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function N(){}N.prototype=I.prototype,S.D=I.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(k,V,M){for(var P=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)P[ze-2]=arguments[ze];return I.prototype[V].apply(k,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,I,N){N||(N=0);var k=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)k[V]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(V=0;16>V;++V)k[V]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=S.g[0],N=S.g[1],V=S.g[2];var M=S.g[3],P=I+(M^N&(V^M))+k[0]+3614090360&4294967295;I=N+(P<<7&4294967295|P>>>25),P=M+(V^I&(N^V))+k[1]+3905402710&4294967295,M=I+(P<<12&4294967295|P>>>20),P=V+(N^M&(I^N))+k[2]+606105819&4294967295,V=M+(P<<17&4294967295|P>>>15),P=N+(I^V&(M^I))+k[3]+3250441966&4294967295,N=V+(P<<22&4294967295|P>>>10),P=I+(M^N&(V^M))+k[4]+4118548399&4294967295,I=N+(P<<7&4294967295|P>>>25),P=M+(V^I&(N^V))+k[5]+1200080426&4294967295,M=I+(P<<12&4294967295|P>>>20),P=V+(N^M&(I^N))+k[6]+2821735955&4294967295,V=M+(P<<17&4294967295|P>>>15),P=N+(I^V&(M^I))+k[7]+4249261313&4294967295,N=V+(P<<22&4294967295|P>>>10),P=I+(M^N&(V^M))+k[8]+1770035416&4294967295,I=N+(P<<7&4294967295|P>>>25),P=M+(V^I&(N^V))+k[9]+2336552879&4294967295,M=I+(P<<12&4294967295|P>>>20),P=V+(N^M&(I^N))+k[10]+4294925233&4294967295,V=M+(P<<17&4294967295|P>>>15),P=N+(I^V&(M^I))+k[11]+2304563134&4294967295,N=V+(P<<22&4294967295|P>>>10),P=I+(M^N&(V^M))+k[12]+1804603682&4294967295,I=N+(P<<7&4294967295|P>>>25),P=M+(V^I&(N^V))+k[13]+4254626195&4294967295,M=I+(P<<12&4294967295|P>>>20),P=V+(N^M&(I^N))+k[14]+2792965006&4294967295,V=M+(P<<17&4294967295|P>>>15),P=N+(I^V&(M^I))+k[15]+1236535329&4294967295,N=V+(P<<22&4294967295|P>>>10),P=I+(V^M&(N^V))+k[1]+4129170786&4294967295,I=N+(P<<5&4294967295|P>>>27),P=M+(N^V&(I^N))+k[6]+3225465664&4294967295,M=I+(P<<9&4294967295|P>>>23),P=V+(I^N&(M^I))+k[11]+643717713&4294967295,V=M+(P<<14&4294967295|P>>>18),P=N+(M^I&(V^M))+k[0]+3921069994&4294967295,N=V+(P<<20&4294967295|P>>>12),P=I+(V^M&(N^V))+k[5]+3593408605&4294967295,I=N+(P<<5&4294967295|P>>>27),P=M+(N^V&(I^N))+k[10]+38016083&4294967295,M=I+(P<<9&4294967295|P>>>23),P=V+(I^N&(M^I))+k[15]+3634488961&4294967295,V=M+(P<<14&4294967295|P>>>18),P=N+(M^I&(V^M))+k[4]+3889429448&4294967295,N=V+(P<<20&4294967295|P>>>12),P=I+(V^M&(N^V))+k[9]+568446438&4294967295,I=N+(P<<5&4294967295|P>>>27),P=M+(N^V&(I^N))+k[14]+3275163606&4294967295,M=I+(P<<9&4294967295|P>>>23),P=V+(I^N&(M^I))+k[3]+4107603335&4294967295,V=M+(P<<14&4294967295|P>>>18),P=N+(M^I&(V^M))+k[8]+1163531501&4294967295,N=V+(P<<20&4294967295|P>>>12),P=I+(V^M&(N^V))+k[13]+2850285829&4294967295,I=N+(P<<5&4294967295|P>>>27),P=M+(N^V&(I^N))+k[2]+4243563512&4294967295,M=I+(P<<9&4294967295|P>>>23),P=V+(I^N&(M^I))+k[7]+1735328473&4294967295,V=M+(P<<14&4294967295|P>>>18),P=N+(M^I&(V^M))+k[12]+2368359562&4294967295,N=V+(P<<20&4294967295|P>>>12),P=I+(N^V^M)+k[5]+4294588738&4294967295,I=N+(P<<4&4294967295|P>>>28),P=M+(I^N^V)+k[8]+2272392833&4294967295,M=I+(P<<11&4294967295|P>>>21),P=V+(M^I^N)+k[11]+1839030562&4294967295,V=M+(P<<16&4294967295|P>>>16),P=N+(V^M^I)+k[14]+4259657740&4294967295,N=V+(P<<23&4294967295|P>>>9),P=I+(N^V^M)+k[1]+2763975236&4294967295,I=N+(P<<4&4294967295|P>>>28),P=M+(I^N^V)+k[4]+1272893353&4294967295,M=I+(P<<11&4294967295|P>>>21),P=V+(M^I^N)+k[7]+4139469664&4294967295,V=M+(P<<16&4294967295|P>>>16),P=N+(V^M^I)+k[10]+3200236656&4294967295,N=V+(P<<23&4294967295|P>>>9),P=I+(N^V^M)+k[13]+681279174&4294967295,I=N+(P<<4&4294967295|P>>>28),P=M+(I^N^V)+k[0]+3936430074&4294967295,M=I+(P<<11&4294967295|P>>>21),P=V+(M^I^N)+k[3]+3572445317&4294967295,V=M+(P<<16&4294967295|P>>>16),P=N+(V^M^I)+k[6]+76029189&4294967295,N=V+(P<<23&4294967295|P>>>9),P=I+(N^V^M)+k[9]+3654602809&4294967295,I=N+(P<<4&4294967295|P>>>28),P=M+(I^N^V)+k[12]+3873151461&4294967295,M=I+(P<<11&4294967295|P>>>21),P=V+(M^I^N)+k[15]+530742520&4294967295,V=M+(P<<16&4294967295|P>>>16),P=N+(V^M^I)+k[2]+3299628645&4294967295,N=V+(P<<23&4294967295|P>>>9),P=I+(V^(N|~M))+k[0]+4096336452&4294967295,I=N+(P<<6&4294967295|P>>>26),P=M+(N^(I|~V))+k[7]+1126891415&4294967295,M=I+(P<<10&4294967295|P>>>22),P=V+(I^(M|~N))+k[14]+2878612391&4294967295,V=M+(P<<15&4294967295|P>>>17),P=N+(M^(V|~I))+k[5]+4237533241&4294967295,N=V+(P<<21&4294967295|P>>>11),P=I+(V^(N|~M))+k[12]+1700485571&4294967295,I=N+(P<<6&4294967295|P>>>26),P=M+(N^(I|~V))+k[3]+2399980690&4294967295,M=I+(P<<10&4294967295|P>>>22),P=V+(I^(M|~N))+k[10]+4293915773&4294967295,V=M+(P<<15&4294967295|P>>>17),P=N+(M^(V|~I))+k[1]+2240044497&4294967295,N=V+(P<<21&4294967295|P>>>11),P=I+(V^(N|~M))+k[8]+1873313359&4294967295,I=N+(P<<6&4294967295|P>>>26),P=M+(N^(I|~V))+k[15]+4264355552&4294967295,M=I+(P<<10&4294967295|P>>>22),P=V+(I^(M|~N))+k[6]+2734768916&4294967295,V=M+(P<<15&4294967295|P>>>17),P=N+(M^(V|~I))+k[13]+1309151649&4294967295,N=V+(P<<21&4294967295|P>>>11),P=I+(V^(N|~M))+k[4]+4149444226&4294967295,I=N+(P<<6&4294967295|P>>>26),P=M+(N^(I|~V))+k[11]+3174756917&4294967295,M=I+(P<<10&4294967295|P>>>22),P=V+(I^(M|~N))+k[2]+718787259&4294967295,V=M+(P<<15&4294967295|P>>>17),P=N+(M^(V|~I))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+M&4294967295}i.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var N=I-this.blockSize,k=this.B,V=this.h,M=0;M<I;){if(V==0)for(;M<=N;)a(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<I;)if(k[V++]=S.charCodeAt(M++),V==this.blockSize){a(this,k),V=0;break}}else for(;M<I;)if(k[V++]=S[M++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var N=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=N&255,N/=256;for(this.u(S),S=Array(16),I=N=0;4>I;++I)for(var k=0;32>k;k+=8)S[N++]=this.g[I]>>>k&255;return S};function c(S,I){var N=g;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=I(S)}function d(S,I){this.h=I;for(var N=[],k=!0,V=S.length-1;0<=V;V--){var M=S[V]|0;k&&M==I||(N[V]=M,k=!1)}this.g=N}var g={};function v(S){return-128<=S&&128>S?c(S,function(I){return new d([I|0],0>I?-1:0)}):new d([S|0],0>S?-1:0)}function w(S){if(isNaN(S)||!isFinite(S))return x;if(0>S)return H(w(-S));for(var I=[],N=1,k=0;S>=N;k++)I[k]=S/N|0,N*=4294967296;return new d(I,0)}function A(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return H(A(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=w(Math.pow(I,8)),k=x,V=0;V<S.length;V+=8){var M=Math.min(8,S.length-V),P=parseInt(S.substring(V,V+M),I);8>M?(M=w(Math.pow(I,M)),k=k.j(M).add(w(P))):(k=k.j(N),k=k.add(w(P)))}return k}var x=v(0),T=v(1),R=v(16777216);s=d.prototype,s.m=function(){if(q(this))return-H(this).m();for(var S=0,I=1,N=0;N<this.g.length;N++){var k=this.i(N);S+=(0<=k?k:4294967296+k)*I,I*=4294967296}return S},s.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(q(this))return"-"+H(this).toString(S);for(var I=w(Math.pow(S,6)),N=this,k="";;){var V=ce(N,I).g;N=Y(N,V.j(I));var M=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=V,U(N))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},s.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function q(S){return S.h==-1}s.l=function(S){return S=Y(this,S),q(S)?-1:U(S)?0:1};function H(S){for(var I=S.g.length,N=[],k=0;k<I;k++)N[k]=~S.g[k];return new d(N,~S.h).add(T)}s.abs=function(){return q(this)?H(this):this},s.add=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0,V=0;V<=I;V++){var M=k+(this.i(V)&65535)+(S.i(V)&65535),P=(M>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);k=P>>>16,M&=65535,P&=65535,N[V]=P<<16|M}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(S,I){return S.add(H(I))}s.j=function(S){if(U(this)||U(S))return x;if(q(this))return q(S)?H(this).j(H(S)):H(H(this).j(S));if(q(S))return H(this.j(H(S)));if(0>this.l(R)&&0>S.l(R))return w(this.m()*S.m());for(var I=this.g.length+S.g.length,N=[],k=0;k<2*I;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<S.g.length;V++){var M=this.i(k)>>>16,P=this.i(k)&65535,ze=S.i(V)>>>16,kt=S.i(V)&65535;N[2*k+2*V]+=P*kt,Z(N,2*k+2*V),N[2*k+2*V+1]+=M*kt,Z(N,2*k+2*V+1),N[2*k+2*V+1]+=P*ze,Z(N,2*k+2*V+1),N[2*k+2*V+2]+=M*ze,Z(N,2*k+2*V+2)}for(k=0;k<I;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=I;k<2*I;k++)N[k]=0;return new d(N,0)};function Z(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function ne(S,I){this.g=S,this.h=I}function ce(S,I){if(U(I))throw Error("division by zero");if(U(S))return new ne(x,x);if(q(S))return I=ce(H(S),I),new ne(H(I.g),H(I.h));if(q(I))return I=ce(S,H(I)),new ne(H(I.g),I.h);if(30<S.g.length){if(q(S)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var N=T,k=I;0>=k.l(S);)N=Pe(N),k=Pe(k);var V=z(N,1),M=z(k,1);for(k=z(k,2),N=z(N,2);!U(k);){var P=M.add(k);0>=P.l(S)&&(V=V.add(N),M=P),k=z(k,1),N=z(N,1)}return I=Y(S,V.j(I)),new ne(V,I)}for(V=x;0<=S.l(I);){for(N=Math.max(1,Math.floor(S.m()/I.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=w(N),P=M.j(I);q(P)||0<P.l(S);)N-=k,M=w(N),P=M.j(I);U(M)&&(M=T),V=V.add(M),S=Y(S,P)}return new ne(V,S)}s.A=function(S){return ce(this,S).h},s.and=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)&S.i(k);return new d(N,this.h&S.h)},s.or=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)|S.i(k);return new d(N,this.h|S.h)},s.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)^S.i(k);return new d(N,this.h^S.h)};function Pe(S){for(var I=S.g.length+1,N=[],k=0;k<I;k++)N[k]=S.i(k)<<1|S.i(k-1)>>>31;return new d(N,S.h)}function z(S,I){var N=I>>5;I%=32;for(var k=S.g.length-N,V=[],M=0;M<k;M++)V[M]=0<I?S.i(M+N)>>>I|S.i(M+N+1)<<32-I:S.i(M+N);return new d(V,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,pg=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=A,Jr=d}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});var Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gg,ea,yg,Gl,Th,vg,_g,wg;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bl=="object"&&Bl];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function a(l,f){if(f)e:{var y=i;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in y))break e;y=y[L]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var y=0,E=!1,L={next:function(){if(!E&&y<l.length){var $=y++;return{value:f($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function w(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function A(l,f,y){return l.call.apply(l.bind,arguments)}function x(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function T(l,f,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:x,T.apply(null,arguments)}function R(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function U(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,L,$){for(var te=Array(arguments.length-2),be=2;be<arguments.length;be++)te[be-2]=arguments[be];return f.prototype[L].apply(E,te)}}function q(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function H(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(v(E)){const L=l.length||0,$=E.length||0;l.length=L+$;for(let te=0;te<$;te++)l[L+te]=E[te]}else l.push(E)}}class Y{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Z(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var Pe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function z(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function S(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function I(l){const f={};for(const y in l)f[y]=l[y];return f}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)l[y]=E[y];for(let $=0;$<N.length;$++)y=N[$],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function V(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function M(l){g.setTimeout(()=>{throw l},0)}function P(){var l=pe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ze{constructor(){this.h=this.g=null}add(f,y){const E=kt.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Y(()=>new Vt,l=>l.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,re=!1,pe=new ze,ae=()=>{const l=g.Promise.resolve(void 0);Ue=()=>{l.then(O)}};var O=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(y){M(y)}var f=kt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};g.addEventListener("test",y,f),g.removeEventListener("test",y,f)}catch{}return l})();function Ae(l,f){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Pe){e:{try{ce(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ae.aa.h.call(this)}}U(Ae,fe);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function $e(l,f,y,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=L,this.key=++Le,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function nr(l){this.src=l,this.g={},this.h=0}nr.prototype.add=function(l,f,y,E,L){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var te=Sr(l,f,E,L);return-1<te?(f=l[te],y||(f.fa=!1)):(f=new $e(f,this.src,$,!!E,L),f.fa=y,l.push(f)),f};function Ks(l,f){var y=f.type;if(y in l.g){var E=l.g[y],L=Array.prototype.indexOf.call(E,f,void 0),$;($=0<=L)&&Array.prototype.splice.call(E,L,1),$&&(vt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Sr(l,f,y,E){for(var L=0;L<l.length;++L){var $=l[L];if(!$.da&&$.listener==f&&$.capture==!!y&&$.ha==E)return L}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Xs={};function so(l,f,y,E,L){if(Array.isArray(f)){for(var $=0;$<f.length;$++)so(l,f[$],y,E,L);return null}return y=ao(y),l&&l[Oe]?l.K(f,y,w(E)?!!E.capture:!1,L):io(l,f,y,!1,E,L)}function io(l,f,y,E,L,$){if(!f)throw Error("Invalid event type");var te=w(L)?!!L.capture:!!L,be=Js(l);if(be||(l[ds]=be=new nr(l)),y=be.add(f,y,E,te,$),y.proxy)return y;if(E=Na(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(L=te),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(sr(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Na(){function l(y){return f.call(l.src,l.listener,y)}const f=oo;return l}function Ys(l,f,y,E,L){if(Array.isArray(f))for(var $=0;$<f.length;$++)Ys(l,f[$],y,E,L);else E=w(E)?!!E.capture:!!E,y=ao(y),l&&l[Oe]?(l=l.i,f=String(f).toString(),f in l.g&&($=l.g[f],y=Sr($,y,E,L),-1<y&&(vt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[f],l.h--)))):l&&(l=Js(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Sr(f,y,E,L)),(y=-1<l?f[l]:null)&&rr(y))}function rr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Oe])Ks(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(sr(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=Js(f))?(Ks(y,l),y.h==0&&(y.src=null,f[ds]=null)):vt(l)}}}function sr(l){return l in Xs?Xs[l]:Xs[l]="on"+l}function oo(l,f){if(l.da)l=!0;else{f=new Ae(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&rr(l),l=y.call(E,f)}return l}function Js(l){return l=l[ds],l instanceof nr?l:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(l){return typeof l=="function"?l:(l[Zs]||(l[Zs]=function(f){return l.handleEvent(f)}),l[Zs])}function dt(){Q.call(this),this.i=new nr(this),this.M=this,this.F=null}U(dt,Q),dt.prototype[Oe]=!0,dt.prototype.removeEventListener=function(l,f,y,E){Ys(this,l,f,y,E)};function ft(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new fe(f,l);else if(f instanceof fe)f.target=f.target||l;else{var L=f;f=new fe(E,l),k(f,L)}if(L=!0,y)for(var $=y.length-1;0<=$;$--){var te=f.g=y[$];L=ir(te,E,!0,f)&&L}if(te=f.g=l,L=ir(te,E,!0,f)&&L,L=ir(te,E,!1,f)&&L,y)for($=0;$<y.length;$++)te=f.g=y[$],L=ir(te,E,!1,f)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)vt(y[E]);delete l.g[f],l.h--}}this.F=null},dt.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},dt.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function ir(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,$=0;$<f.length;++$){var te=f[$];if(te&&!te.da&&te.capture==y){var be=te.listener,mt=te.ha||te.src;te.fa&&Ks(l.i,te),L=be.call(mt,E)!==!1&&L}}return L&&!E.defaultPrevented}function lo(l,f,y){if(typeof l=="function")y&&(l=T(l,y));else if(l&&typeof l.handleEvent=="function")l=T(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function Ar(l){l.g=lo(()=>{l.g=null,l.i&&(l.i=!1,Ar(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class fs extends Q{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ar(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(l){Q.call(this),this.h=l,this.g={}}U(ms,Q);var uo=[];function co(l){z(l.g,function(f,y){this.g.hasOwnProperty(y)&&rr(f)},l),l.g={}}ms.prototype.N=function(){ms.aa.N.call(this),co(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=g.JSON.stringify,fo=g.JSON.parse,mo=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function ps(){}ps.prototype.h=null;function ei(l){return l.h||(l.h=l.i())}function ti(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){fe.call(this,"d")}U(Fn,fe);function ni(){fe.call(this,"c")}U(ni,fe);var bn={},po=null;function gs(){return po=po||new dt}bn.La="serverreachability";function go(l){fe.call(this,bn.La,l)}U(go,fe);function or(l){const f=gs();ft(f,new go(f))}bn.STAT_EVENT="statevent";function yo(l,f){fe.call(this,bn.STAT_EVENT,l),this.stat=f}U(yo,fe);function rt(l){const f=gs();ft(f,new yo(f,l))}bn.Ma="timingevent";function ri(l,f){fe.call(this,bn.Ma,l),this.size=f}U(ri,fe);function Tn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(l,f,y,E,L,$){l.info(function(){if(l.g)if($)for(var te="",be=$.split("&"),mt=0;mt<be.length;mt++){var ke=be[mt].split("=");if(1<ke.length){var _t=ke[0];ke=ke[1];var at=_t.split("_");te=2<=at.length&&at[1]=="type"?te+(_t+"="+ke+"&"):te+(_t+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+y+`
`+te})}function si(l,f,y,E,L,$,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+y+`
`+$+" "+te})}function In(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vu(l,y)+(E?" "+E:"")})}function vo(l,f){l.info(function(){return"TIMEOUT: "+f})}ys.prototype.info=function(){};function Vu(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return ho(y)}catch{return f}}var ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function _s(){}U(_s,ps),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Sn=new _s;function An(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ca}function Ca(){this.i=null,this.g="",this.h=!1}var _o={},oi={};function ai(l,f,y){l.L=1,l.v=Rr(tn(f)),l.m=y,l.P=!0,wo(l,null)}function wo(l,f){l.F=Date.now(),He(l),l.A=tn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Vr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ca,l.g=Wa(l.j,y?f:null,!l.m),0<l.O&&(l.M=new fs(T(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(uo[0]=L.toString()),L=uo);for(var $=0;$<L.length;$++){var te=so(y,L[$],E||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),or(),vs(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const f=this.M;f&&qt(l)==3?f.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const at=qt(this.g);var f=this.g.Ba();const dn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||at!=4||f==7||(f==8||0>=dn?or(3):or(2)),ws(this);var y=this.g.Z();this.X=y;t:if(Pa(this)){var E=No(this.g);l="";var L=E.length,$=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Nr(this);var te="";break t}this.h.i=new g.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!($&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,si(this.i,this.u,this.A,this.l,this.R,at,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,mt=this.g;if((be=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(be)){var ke=be;break t}}ke=null}if(y=ke)In(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,y);else{this.o=!1,this.s=3,rt(12),cn(this),Nr(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<te.length;)if(rn=Du(this,te),rn==oi){at==4&&(this.s=4,rt(14),y=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==_o){this.s=4,rt(15),In(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else In(this.i,this.l,rn,null),Eo(this,rn);if(Pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||te.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)In(this.i,this.l,te,"[Invalid Chunked Response]"),cn(this),Nr(this);else if(0<te.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Co(_t),_t.M=!0,rt(11))}}else In(this.i,this.l,te,null),Eo(this,te);at==4&&cn(this),this.o&&!this.J&&(at==4?vi(this.j,this):(this.o=!1,He(this)))}else fi(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),cn(this),Nr(this)}}}catch{}finally{}};function Pa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Du(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?oi:(y=Number(f.substring(y,E)),isNaN(y)?_o:(E+=1,E+y>f.length?oi:(f=f.slice(E,E+y),l.C=E+y,f)))}An.prototype.cancel=function(){this.J=!0,cn(this)};function He(l){l.S=Date.now()+l.I,Ra(l,l.I)}function Ra(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(T(l.ba,l),f)}function ws(l){l.B&&(g.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(vo(this.i,this.A),this.L!=2&&(or(),rt(17)),cn(this),this.s=2,Nr(this)):Ra(this,this.S-l)};function Nr(l){l.j.G==0||l.J||vi(l.j,l)}function cn(l){ws(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,co(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Eo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)yi(y),Rn(y);else break e;gi(y),rt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(T(y.Za,y),6e3));if(1>=Va(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else hr(y,11)}else if((l.K||y.g==l)&&yi(y),!Z(f))for(L=y.Da.g.parse(f),f=0;f<L.length;f++){let ke=L[f];if(y.T=ke[0],ke=ke[1],y.G==2)if(ke[0]=="c"){y.K=ke[1],y.ia=ke[2];const _t=ke[3];_t!=null&&(y.la=_t,y.j.info("VER="+y.la));const at=ke[4];at!=null&&(y.Aa=at,y.j.info("SVER="+y.Aa));const dn=ke[5];dn!=null&&typeof dn=="number"&&0<dn&&(E=1.5*dn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const rn=l.g;if(rn){const xs=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var $=E.h;$.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(To($,$.h),$.h=null))}if(E.D){const wi=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;wi&&(E.ya=wi,Be(E.I,E.D,wi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=qa(E,E.J?E.ia:null,E.W),te.K){Da(E.h,te);var be=te,mt=E.L;mt&&(be.I=mt),be.B&&(ws(be),He(be)),E.g=te}else Ns(E);0<y.i.length&&$n(y)}else ke[0]!="stop"&&ke[0]!="close"||hr(y,7);else y.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?hr(y,7):At(y):ke[0]!="noop"&&y.l&&y.l.ta(ke),y.v=0)}}or(4)}catch{}}var ka=class{constructor(l,f){this.g=l,this.map=f}};function Es(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Va(l){return l.h?1:l.g?l.g.size:0}function Ut(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function To(l,f){l.g?l.g.add(f):l.h=f}function Da(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Es.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ja(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return q(l.i)}function li(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function ui(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function xr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=ui(l),E=li(l),L=E.length,$=0;$<L;$++)f.call(void 0,E[$],y&&y[$],l)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),L=null;if(0<=E){var $=l[y].substring(0,E);L=l[y].substring(E+1)}else $=l[y];f($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ar){this.h=l.h,Is(this,l.j),this.o=l.o,this.g=l.g,Cr(this,l.s),this.l=l.l;var f=l.i,y=new Un;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Pr(this,y),this.m=l.m}else l&&(f=String(l).match(Ts))?(this.h=!1,Is(this,f[1]||"",!0),this.o=Ce(f[2]||""),this.g=Ce(f[3]||"",!0),Cr(this,f[4]),this.l=Ce(f[5]||"",!0),Pr(this,f[6]||"",!0),this.m=Ce(f[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}ar.prototype.toString=function(){var l=[],f=this.j;f&&l.push(kr(f,ci,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(kr(f,ci,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(kr(y,y.charAt(0)=="/"?La:Oa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",kr(y,Io)),l.join("")};function tn(l){return new ar(l)}function Is(l,f,y){l.j=y?Ce(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Cr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Pr(l,f,y){f instanceof Un?(l.i=f,zn(l.i,l.h)):(y||(f=kr(f,Fa)),l.i=new Un(f,l.h))}function Be(l,f,y){l.i.set(f,y)}function Rr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Ma),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ma(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ci=/[#\/\?@]/g,Oa=/[#\?:]/g,La=/[#\?]/g,Fa=/[#\?@]/g,Io=/#/g;function Un(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&ju(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}s=Un.prototype,s.add=function(l,f){St(this),this.i=null,l=hn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Nn(l,f){St(l),f=hn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function xn(l,f){return St(l),f=hn(l,f),l.g.has(f)}s.forEach=function(l,f){St(this),this.g.forEach(function(y,E){y.forEach(function(L){l.call(f,L,E,this)},this)},this)},s.na=function(){St(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const L=l[E];for(let $=0;$<L.length;$++)y.push(f[E])}return y},s.V=function(l){St(this);let f=[];if(typeof l=="string")xn(this,l)&&(f=f.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},s.set=function(l,f){return St(this),this.i=null,l=hn(this,l),xn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Vr(l,f,y){Nn(l,f),0<y.length&&(l.i=null,l.g.set(hn(l,f),q(y)),l.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var L=$;te[E]!==""&&(L+="="+encodeURIComponent(String(te[E]))),l.push(L)}}return this.i=l.join("&")};function hn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function zn(l,f){f&&!l.j&&(St(l),l.i=null,l.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Nn(this,E),Vr(this,L,y))},l)),l.j=f}function Mu(l,f){const y=new ys;if(g.Image){const E=new Image;E.onload=R(Ht,y,"TestLoadImage: loaded",!0,f,E),E.onerror=R(Ht,y,"TestLoadImage: error",!1,f,E),E.onabort=R(Ht,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=R(Ht,y,"TestLoadImage: timeout",!1,f,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function ba(l,f){const y=new ys,E=new AbortController,L=setTimeout(()=>{E.abort(),Ht(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(L),$.ok?Ht(y,"TestPingServer: ok",!0,f):Ht(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Ht(y,"TestPingServer: error",!1,f)})}function Ht(l,f,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function Ou(){this.g=new mo}function Ua(l,f,y){const E=y||"";try{xr(l,function(L,$){let te=L;w(L)&&(te=ho(L)),f.push(E+$+"="+encodeURIComponent(te))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function lr(l){this.l=l.Ub||null,this.j=l.eb||!1}U(lr,ps),lr.prototype.g=function(){return new Ss(this.l,this.j)},lr.prototype.i=(function(l){return function(){return l}})({});function Ss(l,f){dt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ss,dt),s=Ss.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Pn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;za(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function za(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Cn(this):Pn(this),this.readyState==3&&za(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},s.Qa=function(l){this.g&&(this.response=l,Cn(this))},s.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ur(l){let f="";return z(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function Dr(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ur(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,f,y))}function Xe(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Xe,dt);var Lu=/^https?$/i,So=["POST","PUT"];s=Xe.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ei(this.o):ei(Sn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch($){As(this,$);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),L=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(So,f,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of y)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{di(this),this.u=!0,this.g.send(l),this.u=!1}catch($){As(this,$)}};function As(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,hi(l),nn(l)}function hi(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),nn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Xe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ao(this):this.bb())},s.bb=function(){Ao(this)};function Ao(l){if(l.h&&typeof d<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)lo(l.Ea,0,l);else if(ft(l,"readystatechange"),qt(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=te===0){var L=String(l.D).match(Ts)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),E=!Lu.test(L?L.toLowerCase():"")}y=E}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var $=2<qt(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",hi(l)}}finally{nn(l)}}}}function nn(l,f){if(l.g){di(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ft(l,"ready");try{y.onreadystatechange=E}catch{}}}function di(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),fo(f)}};function No(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(l){const f={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Z(l[E]))continue;var y=V(l[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=f[L]||[];f[L]=$,$.push(y)}S(f,function(E){return E.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function xo(l){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(l&&l.concurrentRequestLimit),this.Da=new Ou,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=xo.prototype,s.la=8,s.G=1,s.connect=function(l,f,y,E){rt(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=qa(this,null,this.W),$n(this)};function At(l){if(mi(l),l.G==3){var f=l.U++,y=tn(l.I);if(Be(y,"SID",l.K),Be(y,"RID",f),Be(y,"TYPE","terminate"),cr(l,y),f=new An(l,l.j,f),f.L=2,f.v=Rr(tn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=f.v,y=!0),y||(f.g=Wa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),He(f)}Ha(l)}function Rn(l){l.g&&(Co(l),l.g.cancel(),l.g=null)}function mi(l){Rn(l),l.u&&(g.clearTimeout(l.u),l.u=null),yi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function $n(l){if(!en(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ue||ae(),re||(Ue(),re=!0),pe.add(f,l),l.B=0}}function Fu(l,f){return Va(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(T(l.Ga,l,f),$a(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new An(this,this.j,l);let $=this.o;if(this.S&&($?($=I($),k($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=jr(this,L,f),y=tn(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),cr(this,y),$&&(this.O?f="headers="+encodeURIComponent(String(ur($)))+"&"+f:this.m&&Dr(y,this.m,$)),To(this.h,L),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",f),Be(y,"SID","null"),L.T=!0,ai(L,y,null)):ai(L,y,f),this.G=2}}else this.G==3&&(l?pi(this,l):this.i.length==0||en(this.h)||pi(this))};function pi(l,f){var y;f?y=f.l:y=l.U++;const E=tn(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),cr(l,E),l.m&&l.o&&Dr(E,l.m,l.o),y=new An(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=jr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),To(l.h,y),ai(y,E,f)}function cr(l,f){l.H&&z(l.H,function(y,E){Be(f,E,y)}),l.l&&xr({},function(y,E){Be(f,E,y)})}function jr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?T(l.l.Na,l.l,l):null;e:{var L=l.i;let $=-1;for(;;){const te=["count="+y];$==-1?0<y?($=L[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let be=!0;for(let mt=0;mt<y;mt++){let ke=L[mt].g;const _t=L[mt].map;if(ke-=$,0>ke)$=Math.max(0,L[mt].g-100),be=!1;else try{Ua(_t,te,"req"+ke+"_")}catch{E&&E(_t)}}if(be){E=te.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function Ns(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ue||ae(),re||(Ue(),re=!0),pe.add(f,l),l.v=0}}function gi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(T(l.Fa,l),$a(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,Ba(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(T(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Rn(this),Ba(this))};function Co(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function Ba(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=tn(l.qa);Be(f,"RID","rpc"),Be(f,"SID",l.K),Be(f,"AID",l.T),Be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(f,"TO",l.ja),Be(f,"TYPE","xmlhttp"),cr(l,f),l.m&&l.o&&Dr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Rr(tn(f)),y.m=null,y.P=!0,wo(y,l)}s.Za=function(){this.C!=null&&(this.C=null,Rn(this),gi(this),rt(19))};function yi(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function vi(l,f){var y=null;if(l.g==f){yi(l),Co(l),l.g=null;var E=2}else if(Ut(l.h,f))y=f.D,Da(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=gs(),ft(E,new ri(E,y)),$n(l)}else Ns(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&Fu(l,f)||E==2&&gi(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),L){case 1:hr(l,5);break;case 4:hr(l,10);break;case 3:hr(l,6);break;default:hr(l,2)}}}function $a(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function hr(l,f){if(l.j.info("Error code "+f),f==2){var y=T(l.fb,l),E=l.Xa;const L=!E;E=new ar(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Is(E,"https"),Rr(E),L?Mu(E.toString(),y):ba(E.toString(),y)}else rt(2);l.G=0,l.l&&l.l.sa(f),Ha(l),mi(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ha(l){if(l.G=0,l.ka=[],l.l){const f=ja(l.h);(f.length!=0||l.i.length!=0)&&(H(l.ka,f),H(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function qa(l,f,y){var E=y instanceof ar?tn(y):new ar(y);if(E.g!="")f&&(E.g=f+"."+E.g),Cr(E,E.s);else{var L=g.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var $=new ar(null);E&&Is($,E),f&&($.g=f),L&&Cr($,L),y&&($.l=y),E=$}return y=l.D,f=l.ya,y&&f&&Be(E,y,f),Be(E,"VER",l.la),cr(l,E),E}function Wa(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xe(new lr({eb:y})):new Xe(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}s=Po.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function _i(){}_i.prototype.g=function(l,f){return new zt(l,f)};function zt(l,f){dt.call(this),this.g=new xo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Z(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Z(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Hn(this)}U(zt,dt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){At(this.g)},zt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ho(l),l=y);f.i.push(new ka(f.Ya++,l)),f.G==3&&$n(f)},zt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,zt.aa.N.call(this)};function Ga(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}U(Ga,Fn);function Qa(){ni.call(this),this.status=1}U(Qa,ni);function Hn(l){this.g=l}U(Hn,Po),Hn.prototype.ua=function(){ft(this.g,"a")},Hn.prototype.ta=function(l){ft(this.g,new Ga(l))},Hn.prototype.sa=function(l){ft(this.g,new Qa)},Hn.prototype.ra=function(){ft(this.g,"b")},_i.prototype.createWebChannel=_i.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,wg=function(){return new _i},_g=function(){return gs()},vg=bn,Th={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,Gl=ii,xa.COMPLETE="complete",yg=xa,ti.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ea=ti,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,gg=Xe}).apply(typeof Bl<"u"?Bl:typeof self<"u"?self:typeof window<"u"?window:{});const sp="@firebase/firestore",ip="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new ug("@firebase/firestore");function zi(){return qs.logLevel}function oe(s,...e){if(qs.logLevel<=De.DEBUG){const n=e.map(qh);qs.debug(`Firestore (${Zi}): ${s}`,...n)}}function Er(s,...e){if(qs.logLevel<=De.ERROR){const n=e.map(qh);qs.error(`Firestore (${Zi}): ${s}`,...n)}}function ts(s,...e){if(qs.logLevel<=De.WARN){const n=e.map(qh);qs.warn(`Firestore (${Zi}): ${s}`,...n)}}function qh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Eg(s,i,n)}function Eg(s,e,n){let i=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Er(i),new Error(i)}function Fe(s,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,s||Eg(e,a,i)}function Te(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ft.UNAUTHENTICATED)))}shutdown(){}}class nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rw{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let i=this.i;const a=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await a(this.currentUser)}))},g=v=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string",31837,{l:i}),new Tg(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class sw{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iw{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class op{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ow{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,F0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const i=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new op(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new op(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aw(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<n&&(i+=e.charAt(a[c]%62))}return i}}function Se(s,e){return s<e?-1:s>e?1:0}function Ih(s,e){let n=0;for(;n<s.length&&n<e.length;){const i=s.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Se(i,a);{const c=Ig(),d=lw(c.encode(ap(s,n)),c.encode(ap(e,n)));return d!==0?d:Se(i,a)}}n+=i>65535?2:1}return Se(s.length,e.length)}function ap(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function lw(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return Se(s[n],e[n]);return Se(s.length,e.length)}function Gi(s,e,n){return s.length===e.length&&s.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="__name__";class Kn{constructor(e,n,i){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&_e(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const c=Kn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Se(e.length,n.length)}static compareSegments(e,n){const i=Kn.isNumericId(e),a=Kn.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):Ih(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class We extends Kn{construct(e,n,i){return new We(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new We(n)}static emptyPath(){return new We([])}}const uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Kn{construct(e,n,i){return new Pt(e,n,i)}static isValidIdentifier(e){return uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lp}static keyField(){return new Pt([lp])}static fromServerFormat(e){const n=[];let i="",a=0;const c=()=>{if(i.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,a+=2}else g==="`"?(d=!d,a++):g!=="."||d?(i+=g,a++):(c(),a++)}if(c(),d)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(We.fromString(e))}static fromName(e){return new me(We.fromString(e).popFirst(5))}static empty(){return new me(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(s,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cw(s,e,n,i){if(e===!0&&i===!0)throw new se(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function up(s){if(!me.isDocumentKey(s))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function cp(s){if(me.isDocumentKey(s))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ag(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fu(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function wn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fu(s);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s,e){const n={typeString:s};return e&&(n.value=e),n}function _a(s,e){if(!Ag(s))throw new se(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const d=s[i];if(a&&typeof d!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new se(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=-62135596800,dp=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*dp);return new Ke(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hp)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dp}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_a(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:ht("string",Ke._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ke(0,0))}static max(){return new Ee(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=-1;function hw(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(i===1e9?new Ke(n+1,0):new Ke(n,i));return new ns(a,me.empty(),e)}function dw(s){return new ns(s.readTime,s.key,ha)}class ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ns(Ee.min(),me.empty(),ha)}static max(){return new ns(Ee.max(),me.empty(),ha)}}function fw(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Se(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==mw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):G.reject(n)}static resolve(e){return new G(((n,i)=>{n(e)}))}static reject(e){return new G(((n,i)=>{i(e)}))}static waitFor(e){return new G(((n,i)=>{let a=0,c=0,d=!1;e.forEach((g=>{++a,g.next((()=>{++c,d&&c===a&&n()}),(v=>i(v)))})),d=!0,c===a&&n()}))}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next((a=>a?G.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,c)=>{i.push(n.call(this,a,c))})),this.waitFor(i)}static mapArray(e,n){return new G(((i,a)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const w=v;n(e[w]).next((A=>{d[w]=A,++g,g===c&&i(d)}),(A=>a(A)))}}))}static doWhile(e,n){return new G(((i,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):i()};c()}))}}function gw(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=-1;function pu(s){return s==null}function ru(s){return s===0&&1/s==-1/0}function yw(s){return typeof s=="number"&&Number.isInteger(s)&&!ru(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="";function vw(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=fp(e)),e=_w(s.get(n),e);return fp(e)}function _w(s,e){let n=e;const i=s.length;for(let a=0;a<i;a++){const c=s.charAt(a);switch(c){case"\0":n+="";break;case Ng:n+="";break;default:n+=c}}return n}function fp(s){return s+Ng+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function us(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function xg(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,i,a,c){this.key=e,this.value=n,this.color=i??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,c){return new Ct(e??this.key,n??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,i),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,i,a,c){return this}insert(e,n,i){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pp(this.data.getIterator())}getIteratorFrom(e){return new pp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class pp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new yt(Pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cg("Invalid base64 string: "+c):c}})(e);return new Rt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c})(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=ww.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:it(s.seconds),nanos:it(s.nanos)}}function it(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ss(s){return typeof s=="string"?Rt.fromBase64String(s):Rt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="server_timestamp",Rg="__type__",kg="__previous_value__",Vg="__local_write_time__";function Qh(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rg])===null||n===void 0?void 0:n.stringValue)===Pg}function gu(s){const e=s.mapValue.fields[kg];return Qh(e)?gu(e):e}function da(s){const e=rs(s.mapValue.fields[Vg].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,i,a,c,d,g,v,w,A){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=w,this.isUsingEmulator=A}}const su="(default)";class fa{constructor(e,n){this.projectId=e,this.database=n||su}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===su}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="__type__",Tw="__max__",Hl={mapValue:{}},jg="__vector__",iu="value";function is(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qh(s)?4:Sw(s)?9007199254740991:Iw(s)?10:11:_e(28295,{value:s})}function tr(s,e){if(s===e)return!0;const n=is(s);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return da(s).isEqual(da(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=rs(a.timestampValue),g=rs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,c){return ss(a.bytesValue).isEqual(ss(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)})(s,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=it(a.doubleValue),g=it(c.doubleValue);return d===g?ru(d)===ru(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Gi(s.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return(function(a,c){const d=a.mapValue.fields||{},g=c.mapValue.fields||{};if(mp(d)!==mp(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!tr(d[v],g[v])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function ma(s,e){return(s.values||[]).find((n=>tr(n,e)))!==void 0}function Qi(s,e){if(s===e)return 0;const n=is(s),i=is(e);if(n!==i)return Se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=it(c.integerValue||c.doubleValue),v=it(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return gp(s.timestampValue,e.timestampValue);case 4:return gp(da(s),da(e));case 5:return Ih(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=ss(c),v=ss(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let w=0;w<g.length&&w<v.length;w++){const A=Se(g[w],v[w]);if(A!==0)return A}return Se(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Se(it(c.latitude),it(d.latitude));return g!==0?g:Se(it(c.longitude),it(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return yp(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var g,v,w,A;const x=c.fields||{},T=d.fields||{},R=(g=x[iu])===null||g===void 0?void 0:g.arrayValue,U=(v=T[iu])===null||v===void 0?void 0:v.arrayValue,q=Se(((w=R==null?void 0:R.values)===null||w===void 0?void 0:w.length)||0,((A=U==null?void 0:U.values)===null||A===void 0?void 0:A.length)||0);return q!==0?q:yp(R,U)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Hl.mapValue&&d===Hl.mapValue)return 0;if(c===Hl.mapValue)return 1;if(d===Hl.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),w=d.fields||{},A=Object.keys(w);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const T=Ih(v[x],A[x]);if(T!==0)return T;const R=Qi(g[v[x]],w[A[x]]);if(R!==0)return R}return Se(v.length,A.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function gp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Se(s,e);const n=rs(s),i=rs(e),a=Se(n.seconds,i.seconds);return a!==0?a:Se(n.nanos,i.nanos)}function yp(s,e){const n=s.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const c=Qi(n[a],i[a]);if(c)return c}return Se(n.length,i.length)}function Ki(s){return Sh(s)}function Sh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=rs(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ss(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",a=!0;for(const c of n.values||[])a?a=!1:i+=",",i+=Sh(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of i)c?c=!1:a+=",",a+=`${d}:${Sh(n.fields[d])}`;return a+"}"})(s.mapValue):_e(61005,{value:s})}function Ql(s){switch(is(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(s);return e?16+Ql(e):16;case 5:return 2*s.stringValue.length;case 6:return ss(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Ql(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let a=0;return us(i.fields,((c,d)=>{a+=c.length+Ql(d)})),a})(s.mapValue);default:throw _e(13486,{value:s})}}function vp(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ah(s){return!!s&&"integerValue"in s}function Kh(s){return!!s&&"arrayValue"in s}function _p(s){return!!s&&"nullValue"in s}function wp(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kl(s){return!!s&&"mapValue"in s}function Iw(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dg])===null||n===void 0?void 0:n.stringValue)===jg}function ia(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return us(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ia(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(s.arrayValue.values[n]);return e}return Object.assign({},s)}function Sw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Tw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Kl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=Pt.emptyPath(),i={},a=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const v=this.getFieldsMap(n);this.applyChanges(v,i,a),i={},a=[],n=g.popLast()}d?i[g.lastSegment()]=ia(d):a.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,a)}delete(e){const n=this.field(e.popLast());Kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Kl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){us(n,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new Zt(ia(this.value))}}function Mg(s){const e=[];return us(s.fields,((n,i)=>{const a=new Pt([n]);if(Kl(i)){const c=Mg(i.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)})),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,i,a,c,d,g){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new bt(e,0,Ee.min(),Ee.min(),Ee.min(),Zt.empty(),0)}static newFoundDocument(e,n,i,a){return new bt(e,1,n,Ee.min(),i,a,0)}static newNoDocument(e,n){return new bt(e,2,n,Ee.min(),Ee.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,Ee.min(),Ee.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.position=e,this.inclusive=n}}function Ep(s,e,n){let i=0;for(let a=0;a<s.position.length;a++){const c=e[a],d=s.position[a];if(c.field.isKeyField()?i=me.comparator(me.fromName(d.referenceValue),n.key):i=Qi(d,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Tp(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!tr(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{}class ct extends Og{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xw(e,n,i):n==="array-contains"?new Rw(e,i):n==="in"?new kw(e,i):n==="not-in"?new Vw(e,i):n==="array-contains-any"?new Dw(e,i):new ct(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Cw(e,i):new Pw(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qi(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Og{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ln(e,n)}matches(e){return Lg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Lg(s){return s.op==="and"}function Fg(s){return Nw(s)&&Lg(s)}function Nw(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function Nh(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+Ki(s.value);if(Fg(s))return s.filters.map((e=>Nh(e))).join(",");{const e=s.filters.map((n=>Nh(n))).join(",");return`${s.op}(${e})`}}function bg(s,e){return s instanceof ct?(function(i,a){return a instanceof ct&&i.op===a.op&&i.field.isEqual(a.field)&&tr(i.value,a.value)})(s,e):s instanceof Ln?(function(i,a){return a instanceof Ln&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,d,g)=>c&&bg(d,a.filters[g])),!0):!1})(s,e):void _e(19439)}function Ug(s){return s instanceof ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`})(s):s instanceof Ln?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ug).join(" ,")+"}"})(s):"Filter"}class xw extends ct{constructor(e,n,i){super(e,n,i),this.key=me.fromName(i.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Cw extends ct{constructor(e,n){super(e,"in",n),this.keys=zg("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Pw extends ct{constructor(e,n){super(e,"not-in",n),this.keys=zg("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zg(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>me.fromName(i.referenceValue)))}class Rw extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kh(n)&&ma(n.arrayValue,this.value)}}class kw extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ma(this.value.arrayValue,n)}}class Vw extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ma(this.value.arrayValue,n)}}class Dw extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>ma(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n=null,i=[],a=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function Ip(s,e=null,n=[],i=[],a=null,c=null,d=null){return new jw(s,e,n,i,a,c,d)}function Xh(s){const e=Te(s);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Nh(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ki(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ki(i))).join(",")),e.Pe=n}return e.Pe}function Yh(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Aw(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!bg(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Tp(s.startAt,e.startAt)&&Tp(s.endAt,e.endAt)}function xh(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,i=[],a=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Mw(s,e,n,i,a,c,d,g){return new no(s,e,n,i,a,c,d,g)}function Jh(s){return new no(s)}function Sp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Bg(s){return s.collectionGroup!==null}function oa(s){const e=Te(s);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new yt(Pt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((w=>{w.isInequality()&&(g=g.add(w.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new pa(c,i))})),n.has(Pt.keyField().canonicalString())||e.Te.push(new pa(Pt.keyField(),i))}return e.Te}function Xn(s){const e=Te(s);return e.Ie||(e.Ie=Ow(e,oa(s))),e.Ie}function Ow(s,e){if(s.limitType==="F")return Ip(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new pa(a.field,c)}));const n=s.endAt?new ou(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new ou(s.startAt.position,s.startAt.inclusive):null;return Ip(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Ch(s,e){const n=s.filters.concat([e]);return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Ph(s,e,n){return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function yu(s,e){return Yh(Xn(s),Xn(e))&&s.limitType===e.limitType}function $g(s){return`${Xh(Xn(s))}|lt:${s.limitType}`}function Bi(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>Ug(a))).join(", ")}]`),pu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Ki(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Ki(a))).join(",")),`Target(${i})`})(Xn(s))}; limitType=${s.limitType})`}function vu(s,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):me.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,a){for(const c of oa(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(s,e)&&(function(i,a){return!(i.startAt&&!(function(d,g,v){const w=Ep(d,g,v);return d.inclusive?w<=0:w<0})(i.startAt,oa(i),a)||i.endAt&&!(function(d,g,v){const w=Ep(d,g,v);return d.inclusive?w>=0:w>0})(i.endAt,oa(i),a))})(s,e)}function Lw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Hg(s){return(e,n)=>{let i=!1;for(const a of oa(s)){const c=Fw(a,e,n);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function Fw(s,e,n){const i=s.field.isKeyField()?me.comparator(e.key,n.key):(function(c,d,g){const v=d.data.field(c),w=g.data.field(c);return v!==null&&w!==null?Qi(v,w):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((n,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return xg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new tt(me.comparator);function Tr(){return bw}const qg=new tt(me.comparator);function ta(...s){let e=qg;for(const n of s)e=e.insert(n.key,n);return e}function Wg(s){let e=qg;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Bs(){return aa()}function Gg(){return aa()}function aa(){return new Gs((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Uw=new tt(me.comparator),zw=new yt(me.comparator);function xe(...s){let e=zw;for(const n of s)e=e.add(n);return e}const Bw=new yt(Se);function $w(){return Bw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function Qg(s){return{integerValue:""+s}}function Hw(s,e){return yw(e)?Qg(e):Zh(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function qw(s,e,n){return s instanceof ga?(function(a,c){const d={fields:{[Rg]:{stringValue:Pg},[Vg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Qh(c)&&(c=gu(c)),c&&(d.fields[kg]=c),{mapValue:d}})(n,e):s instanceof ya?Xg(s,e):s instanceof va?Yg(s,e):(function(a,c){const d=Kg(a,c),g=Ap(d)+Ap(a.Ee);return Ah(d)&&Ah(a.Ee)?Qg(g):Zh(a.serializer,g)})(s,e)}function Ww(s,e,n){return s instanceof ya?Xg(s,e):s instanceof va?Yg(s,e):n}function Kg(s,e){return s instanceof au?(function(i){return Ah(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class ga extends _u{}class ya extends _u{constructor(e){super(),this.elements=e}}function Xg(s,e){const n=Jg(e);for(const i of s.elements)n.some((a=>tr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class va extends _u{constructor(e){super(),this.elements=e}}function Yg(s,e){let n=Jg(e);for(const i of s.elements)n=n.filter((a=>!tr(a,i)));return{arrayValue:{values:n}}}class au extends _u{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Ap(s){return it(s.integerValue||s.doubleValue)}function Jg(s){return Kh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.field=e,this.transform=n}}function Qw(s,e){return s.field.isEqual(e.field)&&(function(i,a){return i instanceof ya&&a instanceof ya||i instanceof va&&a instanceof va?Gi(i.elements,a.elements,tr):i instanceof au&&a instanceof au?tr(i.Ee,a.Ee):i instanceof ga&&a instanceof ga})(s.transform,e.transform)}class Kw{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wu{}function Zg(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ed(s.key,En.none()):new wa(s.key,s.data,En.none());{const n=s.data,i=Zt.empty();let a=new yt(Pt.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?i.delete(c):i.set(c,d),a=a.add(c)}return new cs(s.key,i,new ln(a.toArray()),En.none())}}function Xw(s,e,n){s instanceof wa?(function(a,c,d){const g=a.value.clone(),v=xp(a.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof cs?(function(a,c,d){if(!Xl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xp(a.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(ey(a)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,n):(function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function la(s,e,n,i){return s instanceof wa?(function(c,d,g,v){if(!Xl(c.precondition,d))return g;const w=c.value.clone(),A=Cp(c.fieldTransforms,v,d);return w.setAll(A),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null})(s,e,n,i):s instanceof cs?(function(c,d,g,v){if(!Xl(c.precondition,d))return g;const w=Cp(c.fieldTransforms,v,d),A=d.data;return A.setAll(ey(c)),A.setAll(w),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,n,i):(function(c,d,g){return Xl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function Yw(s,e){let n=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),c=Kg(i.transform,a||null);c!=null&&(n===null&&(n=Zt.empty()),n.set(i.field,c))}return n||null}function Np(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Gi(i,a,((c,d)=>Qw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class wa extends wu{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cs extends wu{constructor(e,n,i,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ey(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function xp(s,e,n){const i=new Map;Fe(s.length===n.length,32656,{Ae:n.length,Re:s.length});for(let a=0;a<n.length;a++){const c=s[a],d=c.transform,g=e.data.field(c.field);i.set(c.field,Ww(d,g,n[a]))}return i}function Cp(s,e,n){const i=new Map;for(const a of s){const c=a.transform,d=n.data.field(a.field);i.set(a.field,qw(c,d,e))}return i}class ed extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Xw(c,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Gg();return this.mutations.forEach((a=>{const c=e.get(a.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(a.key)?null:g;const v=Zg(d,g);v!==null&&i.set(a.key,v),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,((n,i)=>Np(n,i)))&&Gi(this.baseMutations,e.baseMutations,((n,i)=>Np(n,i)))}}class td{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Fe(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=(function(){return Uw})();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,i[d].version);return new td(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ve;function nE(s){switch(s){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function ty(s){if(s===void 0)return Er("GRPC error has no .code"),W.UNKNOWN;switch(s){case ut.OK:return W.OK;case ut.CANCELLED:return W.CANCELLED;case ut.UNKNOWN:return W.UNKNOWN;case ut.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ut.INTERNAL:return W.INTERNAL;case ut.UNAVAILABLE:return W.UNAVAILABLE;case ut.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ut.NOT_FOUND:return W.NOT_FOUND;case ut.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ut.ABORTED:return W.ABORTED;case ut.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ut.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:s})}}(Ve=ut||(ut={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Jr([4294967295,4294967295],0);function Pp(s){const e=Ig().encode(s),n=new pg;return n.update(e),new Uint8Array(n.digest())}function Rp(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Jr([n,i],0),new Jr([a,c],0)]}class nd{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(i<0)throw new na(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Jr.fromNumber(this.fe)}pe(e,n,i){let a=e.add(n.multiply(Jr.fromNumber(i)));return a.compare(rE)===1&&(a=new Jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Pp(e),[i,a]=Rp(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(i,a,c);if(!this.ye(d))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new nd(c,a,n);return i.forEach((g=>d.insert(g))),d}insert(e){if(this.fe===0)return;const n=Pp(e),[i,a]=Rp(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(i,a,c);this.we(d)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ea.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Eu(Ee.min(),a,new tt(Se),Tr(),xe())}}class Ea{constructor(e,n,i,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ea(i,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=a}}class ny{constructor(e,n){this.targetId=e,this.De=n}}class ry{constructor(e,n,i=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class kp{constructor(){this.ve=0,this.Ce=Vp(),this.Fe=Rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),n=xe(),i=xe();return this.Ce.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:_e(38017,{changeType:c})}})),new Ea(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=Vp()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sE{constructor(e){this.We=e,this.Ge=new Map,this.ze=Tr(),this.je=ql(),this.Je=ql(),this.He=new tt(Se)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((i,a)=>{this.nt(a)&&n(a)}))}it(e){const n=e.targetId,i=e.De.count,a=this.st(n);if(a){const c=a.target;if(xh(c))if(i===0){const d=new me(c.path);this.Xe(n,d,bt.newNoDocument(d,Ee.min()))}else Fe(i===1,20013,{expectedCount:i});else{const d=this.ot(n);if(d!==i){const g=this._t(e),v=g?this.ut(g,e,d):1;if(v!==0){this.rt(n);const w=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,w)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=n;let d,g;try{d=ss(i).toUint8Array()}catch(v){if(v instanceof Cg)return ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new nd(d,a,c)}catch(v){return ts(v instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.fe===0?null:g}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let a=0;return i.forEach((c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(n,c,null),a++)})),a}Pt(e){const n=new Map;this.Ge.forEach(((c,d)=>{const g=this.st(d);if(g){if(c.current&&xh(g.target)){const v=new me(g.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,bt.newNoDocument(v,e))}c.Ne&&(n.set(d,c.Le()),c.ke())}}));let i=xe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const w=this.st(v);return!w||w.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(i=i.add(c))})),this.ze.forEach(((c,d)=>d.setReadTime(e)));const a=new Eu(e,n,this.He,this.ze,i);return this.ze=Tr(),this.je=ql(),this.Je=ql(),this.He=new tt(Se),a}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new kp,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new yt(Se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new yt(Se),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kp),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ql(){return new tt(me.comparator)}function Vp(){return new tt(me.comparator)}const iE={asc:"ASCENDING",desc:"DESCENDING"},oE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aE={and:"AND",or:"OR"};class lE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rh(s,e){return s.useProto3Json||pu(e)?e:{value:e}}function lu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sy(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function uE(s,e){return lu(s,e.toTimestamp())}function Yn(s){return Fe(!!s,49232),Ee.fromTimestamp((function(n){const i=rs(n);return new Ke(i.seconds,i.nanos)})(s))}function rd(s,e){return kh(s,e).canonicalString()}function kh(s,e){const n=(function(a){return new We(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?n:n.child(e)}function iy(s){const e=We.fromString(s);return Fe(cy(e),10190,{key:e.toString()}),e}function Vh(s,e){return rd(s.databaseId,e.path)}function fh(s,e){const n=iy(e);if(n.get(1)!==s.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(ay(n))}function oy(s,e){return rd(s.databaseId,e)}function cE(s){const e=iy(s);return e.length===4?We.emptyPath():ay(e)}function Dh(s){return new We(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ay(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Dp(s,e,n){return{name:Vh(s,e),fields:n.value.mapValue.fields}}function hE(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:_e(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(w,A){return w.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),Rt.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Rt.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(w){const A=w.code===void 0?W.UNKNOWN:ty(w.code);return new se(A,w.message||"")})(d);n=new ry(i,a,c,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=fh(s,i.document.name),c=Yn(i.document.updateTime),d=i.document.createTime?Yn(i.document.createTime):Ee.min(),g=new Zt({mapValue:{fields:i.document.fields}}),v=bt.newFoundDocument(a,c,d,g),w=i.targetIds||[],A=i.removedTargetIds||[];n=new Yl(w,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=fh(s,i.document),c=i.readTime?Yn(i.readTime):Ee.min(),d=bt.newNoDocument(a,c),g=i.removedTargetIds||[];n=new Yl([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=fh(s,i.document),c=i.removedTargetIds||[];n=new Yl([],c,a,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,d=new tE(a,c),g=i.targetId;n=new ny(g,d)}}return n}function dE(s,e){let n;if(e instanceof wa)n={update:Dp(s,e.key,e.value)};else if(e instanceof ed)n={delete:Vh(s,e.key)};else if(e instanceof cs)n={update:Dp(s,e.key,e.data),updateMask:EE(e.fieldMask)};else{if(!(e instanceof Jw))return _e(16599,{Rt:e.type});n={verify:Vh(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,d){const g=d.transform;if(g instanceof ga)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ya)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof va)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof au)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw _e(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:uE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function fE(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(a,c){let d=a.updateTime?Yn(a.updateTime):Yn(c);return d.isEqual(Ee.min())&&(d=Yn(c)),new Kw(d,a.transformResults||[])})(n,e)))):[]}function mE(s,e){return{documents:[oy(s,e.path)]}}function pE(s,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oy(s,a);const c=(function(w){if(w.length!==0)return uy(Ln.create(w,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(w){if(w.length!==0)return w.map((A=>(function(T){return{field:$i(T.field),direction:vE(T.dir)}})(A)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Rh(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{Vt:n,parent:a}}function gE(s){let e=cE(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Fe(i===1,65062);const A=n.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let c=[];n.where&&(c=(function(x){const T=ly(x);return T instanceof Ln&&Fg(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((T=>(function(U){return new pa(Hi(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(T)))})(n.orderBy));let g=null;n.limit&&(g=(function(x){let T;return T=typeof x=="object"?x.value:x,pu(T)?null:T})(n.limit));let v=null;n.startAt&&(v=(function(x){const T=!!x.before,R=x.values||[];return new ou(R,T)})(n.startAt));let w=null;return n.endAt&&(w=(function(x){const T=!x.before,R=x.values||[];return new ou(R,T)})(n.endAt)),Mw(e,a,d,c,g,"F",v,w)}function yE(s,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ly(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Hi(n.unaryFilter.field);return ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Hi(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hi(n.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Hi(n.unaryFilter.field);return ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return ct.create(Hi(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ln.create(n.compositeFilter.filters.map((i=>ly(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function vE(s){return iE[s]}function _E(s){return oE[s]}function wE(s){return aE[s]}function $i(s){return{fieldPath:s.canonicalString()}}function Hi(s){return Pt.fromServerFormat(s.fieldPath)}function uy(s){return s instanceof ct?(function(n){if(n.op==="=="){if(wp(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(_p(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wp(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(_p(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:_E(n.op),value:n.value}}})(s):s instanceof Ln?(function(n){const i=n.getFilters().map((a=>uy(a)));return i.length===1?i[0]:{compositeFilter:{op:wE(n.op),filters:i}}})(s):_e(54877,{filter:s})}function EE(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cy(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,i,a,c=Ee.min(),d=Ee.min(),g=Rt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.gt=e}}function IE(s){const e=gE({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Dn=new AE}addToCollectionParentIndex(e,n){return this.Dn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(ns.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class AE{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new yt(We.comparator),c=!a.has(i);return this.index[n]=a.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hy=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(hy,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Xi(0)}static ur(){return new Xi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LruGarbageCollector",NE=1048576;function Op([s,e],[n,i]){const a=Se(s,n);return a===0?Se(e,i):a}class xE{constructor(e){this.Tr=e,this.buffer=new yt(Op),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Op(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CE{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){oe(Mp,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?oe(Mp,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Rr(3e5)}))}}class PE{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return G.resolve(mu.ue);const i=new xE(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(jp)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jp):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,a,c,d,g,v,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,d=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,g=Date.now(),this.removeTargets(e,i,n)))).next((x=>(c=x,v=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(w=Date.now(),zi()<=De.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${a} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${x} documents in `+(w-v)+`ms
Total Duration: ${w-A}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:x}))))}}function RE(s,e){return new PE(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.changes=new Gs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&la(i.mutation,a,ln.empty(),Ke.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=xe()){const a=Bs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((c=>{let d=ta();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=Bs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,xe())))}populateOverlays(e,n,i){const a=[];return i.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,i,a){let c=Tr();const d=aa(),g=(function(){return aa()})();return n.forEach(((v,w)=>{const A=i.get(w.key);a.has(w.key)&&(A===void 0||A.mutation instanceof cs)?c=c.insert(w.key,w):A!==void 0?(d.set(w.key,A.mutation.getFieldMask()),la(A.mutation,w,A.mutation.getFieldMask(),Ke.now())):d.set(w.key,ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((w,A)=>d.set(w,A))),n.forEach(((w,A)=>{var x;return g.set(w,new VE(A,(x=d.get(w))!==null&&x!==void 0?x:null))})),g)))}recalculateAndSaveOverlays(e,n){const i=aa();let a=new tt(((d,g)=>d-g)),c=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((v=>{const w=n.get(v);if(w===null)return;let A=i.get(v)||ln.empty();A=g.applyToLocalView(w,A),i.set(v,A);const x=(a.get(g.batchId)||xe()).add(v);a=a.insert(g.batchId,x)}))})).next((()=>{const d=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),w=v.key,A=v.value,x=Gg();A.forEach((T=>{if(!c.has(T)){const R=Zg(n.get(T),i.get(T));R!==null&&x.set(T,R),c=c.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,w,x))}return G.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-c.size):G.resolve(Bs());let g=ha,v=c;return d.next((w=>G.forEach(w,((A,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(A)?G.resolve():this.remoteDocumentCache.getEntry(e,A).next((T=>{v=v.insert(A,T)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,v,w,xe()))).next((A=>({batchId:g,changes:Wg(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((i=>{let a=ta();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const c=n.collectionGroup;let d=ta();return this.indexManager.getCollectionParents(e,c).next((g=>G.forEach(g,(v=>{const w=(function(x,T){return new no(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,i,a).next((A=>{A.forEach(((x,T)=>{d=d.insert(x,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,a)))).next((d=>{c.forEach(((v,w)=>{const A=w.getKey();d.get(A)===null&&(d=d.insert(A,bt.newInvalidDocument(A)))}));let g=ta();return d.forEach(((v,w)=>{const A=c.get(v);A!==void 0&&la(A.mutation,w,ln.empty(),Ke.now()),vu(n,w)&&(g=g.insert(v,w))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return G.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Yn(a.createTime)}})(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:IE(a.bundledQuery),readTime:Yn(a.readTime)}})(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.overlays=new tt(me.comparator),this.kr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bs();return G.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,c)=>{this.wt(e,n,c)})),G.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const a=Bs(),c=n.length+1,d=new me(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,w=v.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===c&&v.largestBatchId>i&&a.set(v.getKey(),v)}return G.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let c=new tt(((w,A)=>w-A));const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>i){let A=c.get(w.largestBatchId);A===null&&(A=Bs(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const g=Bs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((w,A)=>g.set(w,A))),!(g.size()>=a)););return G.resolve(g)}wt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const d=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new eE(n,i));let c=this.kr.get(n);c===void 0&&(c=xe(),this.kr.set(n,c)),this.kr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.qr=new yt(It.Qr),this.$r=new yt(It.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new It(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new It(e,n))}Gr(e,n){e.forEach((i=>this.removeReference(i,n)))}zr(e){const n=new me(new We([])),i=new It(n,e),a=new It(n,e+1),c=[];return this.$r.forEachInRange([i,a],(d=>{this.Wr(d),c.push(d.key)})),c}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new me(new We([])),i=new It(n,e),a=new It(n,e+1);let c=xe();return this.$r.forEachInRange([i,a],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new It(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class It{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return me.comparator(e.key,n.key)||Se(e.Hr,n.Hr)}static Ur(e,n){return Se(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new yt(It.Qr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Zw(c,n,i,a);this.mutationQueue.push(d);for(const g of a)this.Yr=this.Yr.add(new It(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return G.resolve(d)}lookupMutationBatch(e,n){return G.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),c=a<0?0:a;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Gh:this.er-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new It(n,0),a=new It(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([i,a],(d=>{const g=this.Zr(d.Hr);c.push(g)})),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new yt(Se);return n.forEach((a=>{const c=new It(a,0),d=new It(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],(g=>{i=i.add(g.Hr)}))})),G.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let c=i;me.isDocumentKey(c)||(c=c.child(""));const d=new It(new me(c),0);let g=new yt(Se);return this.Yr.forEachWhile((v=>{const w=v.key.path;return!!i.isPrefixOf(w)&&(w.length===a&&(g=g.add(v.Hr)),!0)}),d),G.resolve(this.ei(g))}ei(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return G.forEach(n.mutations,(a=>{const c=new It(a.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,n){const i=new It(n,0),a=this.Yr.firstAfterOrEqual(i);return G.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.ni=e,this.docs=(function(){return new tt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),c=a?a.size:0,d=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let i=Tr();return n.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():bt.newInvalidDocument(a))})),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let c=Tr();const d=n.path,g=new me(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:w,value:{document:A}}=v.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||fw(dw(A),i)<=0||(a.has(A.key)||vu(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return G.resolve(c)}getAllFromCollectionGroup(e,n,i,a){_e(9500)}ri(e,n){return G.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new bE(this)}getSize(e){return G.resolve(this.size)}}class bE extends kE{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)})),G.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.persistence=e,this.ii=new Gs((n=>Xh(n)),Yh),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.si=0,this.oi=new sd,this.targetCount=0,this._i=Xi.ar()}forEachTarget(e,n){return this.ii.forEach(((i,a)=>n(a))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),G.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.hr(n),G.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let a=0;const c=[];return this.ii.forEach(((d,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)})),G.waitFor(c).next((()=>a))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((d=>{c.push(a.markPotentiallyOrphaned(e,d))})),G.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.ai={},this.overlays={},this.ui=new mu(0),this.ci=!1,this.ci=!0,this.li=new OE,this.referenceDelegate=e(this),this.hi=new UE(this),this.indexManager=new SE,this.remoteDocumentCache=(function(a){return new FE(a)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new TE(n),this.Ti=new jE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ME,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new LE(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){oe("MemoryPersistence","Starting transaction:",e);const a=new zE(this.ui.next());return this.referenceDelegate.Ii(),i(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(e,n){return G.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,n))))}}class zE extends pw{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Ai=new sd,this.Ri=null}static Vi(e){return new id(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.mi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.mi,(i=>{const a=me.fromPath(i);return this.fi(e,a).next((c=>{c||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return G.or([()=>G.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class uu{constructor(e,n){this.persistence=e,this.gi=new Gs((i=>vw(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=RE(this,n)}static Vi(e,n){return new uu(e,n)}Ii(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}yr(e){let n=0;return this.gr(e,(i=>{n++})).next((()=>n))}gr(e,n){return G.forEach(this.gi,((i,a)=>this.Sr(e,i,a).next((c=>c?G.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ri(e,(d=>this.Sr(e,d,n).next((g=>{g||(i++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ql(e.data.value)),n}Sr(e,n,i){return G.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return G.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=a}static Es(e,n){let i=xe(),a=xe();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new od(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return M_()?8:gw(D_())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,a){const c={result:null};return this.ps(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ys(e,n,a,i).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new BE;return this.ws(e,n,d).next((g=>{if(c.result=g,this.Rs)return this.Ss(e,n,d,g.size)}))})).next((()=>c.result))}Ss(e,n,i,a){return i.documentReadCount<this.Vs?(zi()<=De.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(zi()<=De.DEBUG&&oe("QueryEngine","Query:",Bi(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(zi()<=De.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):G.resolve())}ps(e,n){if(Sp(n))return G.resolve(null);let i=Xn(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ph(n,null,"F"),i=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const d=xe(...c);return this.gs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,i).next((v=>{const w=this.bs(n,g);return this.Ds(n,w,d,v.readTime)?this.ps(e,Ph(n,null,"F")):this.vs(e,w,n,v)}))))})))))}ys(e,n,i,a){return Sp(n)||a.isEqual(Ee.min())?G.resolve(null):this.gs.getDocuments(e,i).next((c=>{const d=this.bs(n,c);return this.Ds(n,d,i,a)?G.resolve(null):(zi()<=De.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bi(n)),this.vs(e,d,n,hw(a,ha)).next((g=>g)))}))}bs(e,n){let i=new yt(Hg(e));return n.forEach(((a,c)=>{vu(e,c)&&(i=i.add(c))})),i}Ds(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ws(e,n,i){return zi()<=De.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Bi(n)),this.gs.getDocumentsMatchingQuery(e,n,ns.min(),i)}vs(e,n,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",HE=3e8;class qE{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new tt(Se),this.Ms=new Gs((c=>Xh(c)),Yh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function WE(s,e,n,i){return new qE(s,e,n,i)}async function fy(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const d=[],g=[];let v=xe();for(const w of a){d.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}for(const w of c){g.push(w.batchId);for(const A of w.mutations)v=v.add(A.key)}return n.localDocuments.getDocuments(i,v).next((w=>({Bs:w,removedBatchIds:d,addedBatchIds:g})))}))}))}function GE(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return(function(g,v,w,A){const x=w.batch,T=x.keys();let R=G.resolve();return T.forEach((U=>{R=R.next((()=>A.getEntry(v,U))).next((q=>{const H=w.docVersions.get(U);Fe(H!==null,48541),q.version.compareTo(H)<0&&(x.applyToRemoteDocument(q,w),q.isValidDocument()&&(q.setReadTime(w.commitVersion),A.addEntry(q)))}))})),R.next((()=>g.mutationQueue.removeMutationBatch(v,x)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(g){let v=xe();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(v=v.add(g.batch.mutations[w].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function my(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QE(s,e){const n=Te(s),i=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const g=[];e.targetChanges.forEach(((A,x)=>{const T=a.get(x);if(!T)return;g.push(n.hi.removeMatchingKeys(c,A.removedDocuments,x).next((()=>n.hi.addMatchingKeys(c,A.addedDocuments,x))));let R=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?R=R.withResumeToken(Rt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):A.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(A.resumeToken,i)),a=a.insert(x,R),(function(q,H,Y){return q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=HE?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(T,R,A)&&g.push(n.hi.updateTargetData(c,R))}));let v=Tr(),w=xe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(KE(c,d,e.documentUpdates).next((A=>{v=A.Ls,w=A.ks}))),!i.isEqual(Ee.min())){const A=n.hi.getLastRemoteSnapshotVersion(c).next((x=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,i)));g.push(A)}return G.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,v,w))).next((()=>v))})).then((c=>(n.Fs=a,c)))}function KE(s,e,n){let i=xe(),a=xe();return n.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let d=Tr();return n.forEach(((g,v)=>{const w=c.get(g);v.isFoundDocument()!==w.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(Ee.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||v.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):oe(ad,"Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",v.version)})),{Ls:d,ks:a}}))}function XE(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Gh),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function YE(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.hi.getTargetData(i,e).next((c=>c?(a=c,G.resolve(a)):n.hi.allocateTargetId(i).next((d=>(a=new Kr(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i}))}async function jh(s,e,n){const i=Te(s),a=i.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(d=>i.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!to(d))throw d;oe(ad,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function Lp(s,e,n){const i=Te(s);let a=Ee.min(),c=xe();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,w,A){const x=Te(v),T=x.Ms.get(A);return T!==void 0?G.resolve(x.Fs.get(T)):x.hi.getTargetData(w,A)})(i,d,Xn(e)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?a:Ee.min(),n?c:xe()))).next((g=>(JE(i,Lw(e),g),{documents:g,qs:c})))))}function JE(s,e,n){let i=s.xs.get(e)||Ee.min();n.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.xs.set(e,i)}class Fp{constructor(){this.activeTargetIds=$w()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZE{constructor(){this.Fo=new Fp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Fp,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="ConnectivityMonitor";class Up{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){oe(bp,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){oe(bp,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function Mh(){return Wl===null?Wl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="RestConnection",t1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n1{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===su?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,c){const d=Mh(),g=this.Go(e,n.toUriEncodedString());oe(mh,`Sending RPC '${e}' ${d}:`,g,i);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,a,c);const{host:w}=new URL(g),A=$h(w);return this.jo(e,g,v,i,A).then((x=>(oe(mh,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw ts(mh,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",i),x}))}Jo(e,n,i,a,c,d){return this.Wo(e,n,i,a,c)}zo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zi})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}Go(e,n){const i=t1[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class s1 extends n1{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,a,c){const d=Mh();return new Promise(((g,v)=>{const w=new gg;w.setWithCredentials(!0),w.listenOnce(yg.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case Gl.NO_ERROR:const x=w.getResponseJson();oe(Lt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Gl.TIMEOUT:oe(Lt,`RPC '${e}' ${d} timed out`),v(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const T=w.getStatus();if(oe(Lt,`RPC '${e}' ${d} failed with status:`,T,"response text:",w.getResponseText()),T>0){let R=w.getResponseJson();Array.isArray(R)&&(R=R[0]);const U=R==null?void 0:R.error;if(U&&U.status&&U.message){const q=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Z)>=0?Z:W.UNKNOWN})(U.status);v(new se(q,U.message))}else v(new se(W.UNKNOWN,"Server responded with status "+w.getStatus()))}else v(new se(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:d,l_:w.getLastErrorCode(),h_:w.getLastError()})}}finally{oe(Lt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(a);oe(Lt,`RPC '${e}' ${d} sending request:`,a),w.send(n,"POST",A,i,15)}))}P_(e,n,i){const a=Mh(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wg(),g=_g(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(v.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,n,i),v.encodeInitMessageHeaders=!0;const A=c.join("");oe(Lt,`Creating RPC '${e}' stream ${a}: ${A}`,v);const x=d.createWebChannel(A,v);this.T_(x);let T=!1,R=!1;const U=new r1({Ho:H=>{R?oe(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(T||(oe(Lt,`Opening RPC '${e}' stream ${a} transport.`),x.open(),T=!0),oe(Lt,`RPC '${e}' stream ${a} sending:`,H),x.send(H))},Yo:()=>x.close()}),q=(H,Y,Z)=>{H.listen(Y,(ne=>{try{Z(ne)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return q(x,ea.EventType.OPEN,(()=>{R||(oe(Lt,`RPC '${e}' stream ${a} transport opened.`),U.s_())})),q(x,ea.EventType.CLOSE,(()=>{R||(R=!0,oe(Lt,`RPC '${e}' stream ${a} transport closed`),U.__(),this.I_(x))})),q(x,ea.EventType.ERROR,(H=>{R||(R=!0,ts(Lt,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),U.__(new se(W.UNAVAILABLE,"The operation could not be completed")))})),q(x,ea.EventType.MESSAGE,(H=>{var Y;if(!R){const Z=H.data[0];Fe(!!Z,16349);const ne=Z,ce=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(ce){oe(Lt,`RPC '${e}' stream ${a} received error:`,ce);const Pe=ce.status;let z=(function(N){const k=ut[N];if(k!==void 0)return ty(k)})(Pe),S=ce.message;z===void 0&&(z=W.INTERNAL,S="Unknown error status: "+Pe+" with message "+ce.message),R=!0,U.__(new se(z,S)),x.close()}else oe(Lt,`RPC '${e}' stream ${a} received:`,Z),U.a_(Z)}})),q(g,vg.STAT_EVENT,(H=>{H.stat===Th.PROXY?oe(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===Th.NOPROXY&&oe(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{U.o_()}),0),U}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(s){return new lE(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,i=1e3,a=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-i);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="PersistentStream";class gy{constructor(e,n,i,a,c,d,g,v){this.Fi=e,this.w_=i,this.S_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new py(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.b_===n&&this.W_(i,a)}),(i=>{e((()=>{const a=new se(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)}))}))}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{i((()=>this.G_(a)))})),this.stream.onMessage((a=>{i((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return oe(zp,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(oe(zp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i1 extends gy{constructor(e,n,i,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,d),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=hE(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Yn(d.readTime):Ee.min()})(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=Dh(this.serializer),n.addTarget=(function(c,d){let g;const v=d.target;if(g=xh(v)?{documents:mE(c,v)}:{query:pE(c,v).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=sy(c,d.resumeToken);const w=Rh(c,d.expectedCount);w!==null&&(g.expectedCount=w)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=lu(c,d.snapshotVersion.toTimestamp());const w=Rh(c,d.expectedCount);w!==null&&(g.expectedCount=w)}return g})(this.serializer,e);const i=yE(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=Dh(this.serializer),n.removeTarget=e,this.k_(n)}}class o1 extends gy{constructor(e,n,i,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=fE(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=Dh(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>dE(this.serializer,i)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{}class l1 extends a1{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,kh(n,i),a,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(W.UNKNOWN,c.toString())}))}Jo(e,n,i,a,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Jo(e,kh(n,i),a,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(W.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class u1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Er(n),this._a=!1):oe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class c1{constructor(e,n,i,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((d=>{i.enqueueAndForget((async()=>{Qs(this)&&(oe(Ws,"Restarting streams for network reachability change."),await(async function(v){const w=Te(v);w.Ia.add(4),await Ta(w),w.Aa.set("Unknown"),w.Ia.delete(4),await Iu(w)})(this))}))})),this.Aa=new u1(i,a)}}async function Iu(s){if(Qs(s))for(const e of s.da)await e(!0)}async function Ta(s){for(const e of s.da)await e(!1)}function yy(s,e){const n=Te(s);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),hd(n)?cd(n):ro(n).x_()&&ud(n,e))}function ld(s,e){const n=Te(s),i=ro(n);n.Ta.delete(e),i.x_()&&vy(n,e),n.Ta.size===0&&(i.x_()?i.B_():Qs(n)&&n.Aa.set("Unknown"))}function ud(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(s).H_(e)}function vy(s,e){s.Ra.$e(e),ro(s).Y_(e)}function cd(s){s.Ra=new sE({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Aa.aa()}function hd(s){return Qs(s)&&!ro(s).M_()&&s.Ta.size>0}function Qs(s){return Te(s).Ia.size===0}function _y(s){s.Ra=void 0}async function h1(s){s.Aa.set("Online")}async function d1(s){s.Ta.forEach(((e,n)=>{ud(s,e)}))}async function f1(s,e){_y(s),hd(s)?(s.Aa.la(e),cd(s)):s.Aa.set("Unknown")}async function m1(s,e,n){if(s.Aa.set("Online"),e instanceof ry&&e.state===2&&e.cause)try{await(async function(a,c){const d=c.cause;for(const g of c.targetIds)a.Ta.has(g)&&(await a.remoteSyncer.rejectListen(g,d),a.Ta.delete(g),a.Ra.removeTarget(g))})(s,e)}catch(i){oe(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cu(s,i)}else if(e instanceof Yl?s.Ra.Ye(e):e instanceof ny?s.Ra.it(e):s.Ra.et(e),!n.isEqual(Ee.min()))try{const i=await my(s.localStore);n.compareTo(i)>=0&&await(function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach(((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ta.get(w);A&&c.Ta.set(w,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,w)=>{const A=c.Ta.get(v);if(!A)return;c.Ta.set(v,A.withResumeToken(Rt.EMPTY_BYTE_STRING,A.snapshotVersion)),vy(c,v);const x=new Kr(A.target,v,w,A.sequenceNumber);ud(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(i){oe(Ws,"Failed to raise snapshot:",i),await cu(s,i)}}async function cu(s,e,n){if(!to(e))throw e;s.Ia.add(1),await Ta(s),s.Aa.set("Offline"),n||(n=()=>my(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(Ws,"Retrying IndexedDB access"),await n(),s.Ia.delete(1),await Iu(s)}))}function wy(s,e){return e().catch((n=>cu(s,n,e)))}async function Su(s){const e=Te(s),n=os(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gh;for(;p1(e);)try{const a=await XE(e.localStore,i);if(a===null){e.Pa.length===0&&n.B_();break}i=a.batchId,g1(e,a)}catch(a){await cu(e,a)}Ey(e)&&Ty(e)}function p1(s){return Qs(s)&&s.Pa.length<10}function g1(s,e){s.Pa.push(e);const n=os(s);n.x_()&&n.Z_&&n.X_(e.mutations)}function Ey(s){return Qs(s)&&!os(s).M_()&&s.Pa.length>0}function Ty(s){os(s).start()}async function y1(s){os(s).na()}async function v1(s){const e=os(s);for(const n of s.Pa)e.X_(n.mutations)}async function _1(s,e,n){const i=s.Pa.shift(),a=td.from(i,e,n);await wy(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await Su(s)}async function w1(s,e){e&&os(s).Z_&&await(async function(i,a){if((function(d){return nE(d)&&d!==W.ABORTED})(a.code)){const c=i.Pa.shift();os(i).N_(),await wy(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Su(i)}})(s,e),Ey(s)&&Ty(s)}async function Bp(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),oe(Ws,"RemoteStore received new credentials");const i=Qs(n);n.Ia.add(3),await Ta(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Iu(n)}async function E1(s,e){const n=Te(s);e?(n.Ia.delete(2),await Iu(n)):e||(n.Ia.add(2),await Ta(n),n.Aa.set("Unknown"))}function ro(s){return s.Va||(s.Va=(function(n,i,a){const c=Te(n);return c.ia(),new i1(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:h1.bind(null,s),e_:d1.bind(null,s),n_:f1.bind(null,s),J_:m1.bind(null,s)}),s.da.push((async e=>{e?(s.Va.N_(),hd(s)?cd(s):s.Aa.set("Unknown")):(await s.Va.stop(),_y(s))}))),s.Va}function os(s){return s.ma||(s.ma=(function(n,i,a){const c=Te(n);return c.ia(),new o1(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:y1.bind(null,s),n_:w1.bind(null,s),ea:v1.bind(null,s),ta:_1.bind(null,s)}),s.da.push((async e=>{e?(s.ma.N_(),await Su(s)):(await s.ma.stop(),s.Pa.length>0&&(oe(Ws,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))}))),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,i,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,c){const d=Date.now()+i,g=new dd(e,n,d,a,c);return g.start(i),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(s,e){if(Er("AsyncQueue",`${e}: ${s}`),to(s))return new se(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static emptySet(e){return new Wi(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||me.comparator(n.key,i.key):(n,i)=>me.comparator(n.key,i.key),this.keyedMap=ta(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wi;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.fa=new tt(me.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Yi{constructor(e,n,i,a,c,d,g,v,w){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=w}static fromInitialDocuments(e,n,i,a,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Yi(e,n,Wi.emptySet(n),d,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class I1{constructor(){this.queries=Hp(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const a=Te(n),c=a.queries;a.queries=Hp(),c.forEach(((d,g)=>{for(const v of g.wa)v.onError(i)}))})(this,new se(W.ABORTED,"Firestore shutting down"))}}function Hp(){return new Gs((s=>$g(s)),yu)}async function Iy(s,e){const n=Te(s);let i=3;const a=e.query;let c=n.queries.get(a);c?!c.Sa()&&e.ba()&&(i=2):(c=new T1,i=e.ba()?0:1);try{switch(i){case 0:c.ya=await n.onListen(a,!0);break;case 1:c.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const g=fd(d,`Initialization of query '${Bi(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&md(n)}async function Sy(s,e){const n=Te(s),i=e.query;let a=3;const c=n.queries.get(i);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?a=e.ba()?0:1:!c.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function S1(s,e){const n=Te(s);let i=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const g of d.wa)g.Ca(a)&&(i=!0);d.ya=a}}i&&md(n)}function A1(s,e,n){const i=Te(s),a=i.queries.get(e);if(a)for(const c of a.wa)c.onError(n);i.queries.delete(e)}function md(s){s.Da.forEach((e=>{e.next()}))}var Oh,qp;(qp=Oh||(Oh={})).Fa="default",qp.Cache="cache";class Ay{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yi(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.key=e}}class xy{constructor(e){this.key=e}}class N1{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=Hg(e),this.eu=new Wi(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new $p,a=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,g=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,w=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((A,x)=>{const T=a.get(A),R=vu(this.query,x)?x:null,U=!!T&&this.mutatedKeys.has(T.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let H=!1;T&&R?T.data.isEqual(R.data)?U!==q&&(i.track({type:3,doc:R}),H=!0):this.iu(T,R)||(i.track({type:2,doc:R}),H=!0,(v&&this.Xa(R,v)>0||w&&this.Xa(R,w)<0)&&(g=!0)):!T&&R?(i.track({type:0,doc:R}),H=!0):T&&!R&&(i.track({type:1,doc:T}),H=!0,(v||w)&&(g=!0)),H&&(R?(d=d.add(R),c=q?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),i.track({type:1,doc:A})}return{eu:d,ru:i,Ds:g,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort(((A,x)=>(function(R,U){const q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:H})}};return q(R)-q(U)})(A.type,x.type)||this.Xa(A.doc,x.doc))),this.su(i),a=a!=null&&a;const g=n&&!a?this.ou():[],v=this.Za.size===0&&this.current&&!a?1:0,w=v!==this.Ya;return this.Ya=v,d.length!==0||w?{snapshot:new Yi(this.query,e.eu,c,d,e.mutatedKeys,v===0,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $p,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xe(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const n=[];return e.forEach((i=>{this.Za.has(i)||n.push(new xy(i))})),this.Za.forEach((i=>{e.has(i)||n.push(new Ny(i))})),n}uu(e){this.Ha=e.qs,this.Za=xe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yi.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const pd="SyncEngine";class x1{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class C1{constructor(e){this.key=e,this.lu=!1}}class P1{constructor(e,n,i,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Gs((g=>$g(g)),yu),this.Tu=new Map,this.Iu=new Set,this.du=new tt(me.comparator),this.Eu=new Map,this.Au=new sd,this.Ru={},this.Vu=new Map,this.mu=Xi.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function R1(s,e,n=!0){const i=Dy(s);let a;const c=i.Pu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.cu()):a=await Cy(i,e,n,!0),a}async function k1(s,e){const n=Dy(s);await Cy(n,e,!0,!1)}async function Cy(s,e,n,i){const a=await YE(s.localStore,Xn(e)),c=a.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return i&&(g=await V1(s,e,c,d==="current",a.resumeToken)),s.isPrimaryClient&&n&&yy(s.remoteStore,a),g}async function V1(s,e,n,i,a){s.gu=(x,T,R)=>(async function(q,H,Y,Z){let ne=H.view.nu(Y);ne.Ds&&(ne=await Lp(q.localStore,H.query,!1).then((({documents:S})=>H.view.nu(S,ne))));const ce=Z&&Z.targetChanges.get(H.targetId),Pe=Z&&Z.targetMismatches.get(H.targetId)!=null,z=H.view.applyChanges(ne,q.isPrimaryClient,ce,Pe);return Gp(q,H.targetId,z._u),z.snapshot})(s,x,T,R);const c=await Lp(s.localStore,e,!0),d=new N1(e,c.qs),g=d.nu(c.documents),v=Ea.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",a),w=d.applyChanges(g,s.isPrimaryClient,v);Gp(s,n,w._u);const A=new x1(e,n,d);return s.Pu.set(e,A),s.Tu.has(n)?s.Tu.get(n).push(e):s.Tu.set(n,[e]),w.snapshot}async function D1(s,e,n){const i=Te(s),a=i.Pu.get(e),c=i.Tu.get(a.targetId);if(c.length>1)return i.Tu.set(a.targetId,c.filter((d=>!yu(d,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await jh(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&ld(i.remoteStore,a.targetId),Lh(i,a.targetId)})).catch(eo)):(Lh(i,a.targetId),await jh(i.localStore,a.targetId,!0))}async function j1(s,e){const n=Te(s),i=n.Pu.get(e),a=n.Tu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ld(n.remoteStore,i.targetId))}async function M1(s,e,n){const i=B1(s);try{const a=await(function(d,g){const v=Te(d),w=Ke.now(),A=g.reduce(((R,U)=>R.add(U.key)),xe());let x,T;return v.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let U=Tr(),q=xe();return v.Os.getEntries(R,A).next((H=>{U=H,U.forEach(((Y,Z)=>{Z.isValidDocument()||(q=q.add(Y))}))})).next((()=>v.localDocuments.getOverlayedDocuments(R,U))).next((H=>{x=H;const Y=[];for(const Z of g){const ne=Yw(Z,x.get(Z.key).overlayedDocument);ne!=null&&Y.push(new cs(Z.key,ne,Mg(ne.value.mapValue),En.exists(!0)))}return v.mutationQueue.addMutationBatch(R,w,Y,g)})).next((H=>{T=H;const Y=H.applyToLocalDocumentSet(x,q);return v.documentOverlayCache.saveOverlays(R,H.batchId,Y)}))})).then((()=>({batchId:T.batchId,changes:Wg(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(d,g,v){let w=d.Ru[d.currentUser.toKey()];w||(w=new tt(Se)),w=w.insert(g,v),d.Ru[d.currentUser.toKey()]=w})(i,a.batchId,n),await Ia(i,a.changes),await Su(i.remoteStore)}catch(a){const c=fd(a,"Failed to persist write");n.reject(c)}}async function Py(s,e){const n=Te(s);try{const i=await QE(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const d=n.Eu.get(c);d&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.lu=!0:a.modifiedDocuments.size>0?Fe(d.lu,14607):a.removedDocuments.size>0&&(Fe(d.lu,42227),d.lu=!1))})),await Ia(n,i,e)}catch(i){await eo(i)}}function Wp(s,e,n){const i=Te(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Pu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&a.push(g.snapshot)})),(function(d,g){const v=Te(d);v.onlineState=g;let w=!1;v.queries.forEach(((A,x)=>{for(const T of x.wa)T.va(g)&&(w=!0)})),w&&md(v)})(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function O1(s,e,n){const i=Te(s);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Eu.get(e),c=a&&a.key;if(c){let d=new tt(me.comparator);d=d.insert(c,bt.newNoDocument(c,Ee.min()));const g=xe().add(c),v=new Eu(Ee.min(),new Map,new tt(Se),d,g);await Py(i,v),i.du=i.du.remove(c),i.Eu.delete(e),gd(i)}else await jh(i.localStore,e,!1).then((()=>Lh(i,e,n))).catch(eo)}async function L1(s,e){const n=Te(s),i=e.batch.batchId;try{const a=await GE(n.localStore,e);ky(n,i,null),Ry(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ia(n,a)}catch(a){await eo(a)}}async function F1(s,e,n){const i=Te(s);try{const a=await(function(d,g){const v=Te(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let A;return v.mutationQueue.lookupMutationBatch(w,g).next((x=>(Fe(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(w,x)))).next((()=>v.mutationQueue.performConsistencyCheck(w))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(w,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A))).next((()=>v.localDocuments.getDocuments(w,A)))}))})(i.localStore,e);ky(i,e,n),Ry(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ia(i,a)}catch(a){await eo(a)}}function Ry(s,e){(s.Vu.get(e)||[]).forEach((n=>{n.resolve()})),s.Vu.delete(e)}function ky(s,e,n){const i=Te(s);let a=i.Ru[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function Lh(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Tu.get(e))s.Pu.delete(i),n&&s.hu.pu(i,n);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach((i=>{s.Au.containsKey(i)||Vy(s,i)}))}function Vy(s,e){s.Iu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(ld(s.remoteStore,n),s.du=s.du.remove(e),s.Eu.delete(n),gd(s))}function Gp(s,e,n){for(const i of n)i instanceof Ny?(s.Au.addReference(i.key,e),b1(s,i)):i instanceof xy?(oe(pd,"Document no longer in limbo: "+i.key),s.Au.removeReference(i.key,e),s.Au.containsKey(i.key)||Vy(s,i.key)):_e(19791,{yu:i})}function b1(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Iu.has(i)||(oe(pd,"New document in limbo: "+n),s.Iu.add(i),gd(s))}function gd(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const n=new me(We.fromString(e)),i=s.mu.next();s.Eu.set(i,new C1(n)),s.du=s.du.insert(n,i),yy(s.remoteStore,new Kr(Xn(Jh(n.path)),i,"TargetPurposeLimboResolution",mu.ue))}}async function Ia(s,e,n){const i=Te(s),a=[],c=[],d=[];i.Pu.isEmpty()||(i.Pu.forEach(((g,v)=>{d.push(i.gu(v,e,n).then((w=>{var A;if((w||n)&&i.isPrimaryClient){const x=w?!w.fromCache:(A=n==null?void 0:n.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;i.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(w){a.push(w);const x=od.Es(v.targetId,w);c.push(x)}})))})),await Promise.all(d),i.hu.J_(a),await(async function(v,w){const A=Te(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>G.forEach(w,(T=>G.forEach(T.Is,(R=>A.persistence.referenceDelegate.addReference(x,T.targetId,R))).next((()=>G.forEach(T.ds,(R=>A.persistence.referenceDelegate.removeReference(x,T.targetId,R)))))))))}catch(x){if(!to(x))throw x;oe(ad,"Failed to update sequence numbers: "+x)}for(const x of w){const T=x.targetId;if(!x.fromCache){const R=A.Fs.get(T),U=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(U);A.Fs=A.Fs.insert(T,q)}}})(i.localStore,c))}async function U1(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){oe(pd,"User change. New user:",e.toKey());const i=await fy(n.localStore,e);n.currentUser=e,(function(c,d){c.Vu.forEach((g=>{g.forEach((v=>{v.reject(new se(W.CANCELLED,d))}))})),c.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ia(n,i.Bs)}}function z1(s,e){const n=Te(s),i=n.Eu.get(e);if(i&&i.lu)return xe().add(i.key);{let a=xe();const c=n.Tu.get(e);if(!c)return a;for(const d of c){const g=n.Pu.get(d);a=a.unionWith(g.view.tu)}return a}}function Dy(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O1.bind(null,e),e.hu.J_=S1.bind(null,e.eventManager),e.hu.pu=A1.bind(null,e.eventManager),e}function B1(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F1.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return WE(this.persistence,new $E,e.initialUser,this.serializer)}Du(e){return new dy(id.Vi,this.serializer)}bu(e){return new ZE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class $1 extends hu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Fe(this.persistence.referenceDelegate instanceof uu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CE(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new dy((i=>uu.Vi(i,n)),this.serializer)}}class Fh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wp(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U1.bind(null,this.syncEngine),await E1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I1})()}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),i=(function(c){return new s1(c)})(e.databaseInfo);return(function(c,d,g,v){return new l1(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,c,d,g){return new c1(i,a,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wp(this.syncEngine,n,0)),(function(){return Up.C()?new Up:new e1})())}createSyncEngine(e,n){return(function(a,c,d,g,v,w,A){const x=new P1(a,c,d,g,v,w);return A&&(x.fu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const c=Te(a);oe(Ws,"RemoteStore shutting down."),c.Ia.add(5),await Ta(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class H1{constructor(e,n,i,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=Wh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async d=>{oe(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(oe(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=fd(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gh(s,e){s.asyncQueue.verifyOperationInProgress(),oe(as,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async a=>{i.isEqual(a)||(await fy(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>{ts("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then((()=>{oe("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{ts("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),s._offlineComponents=e}async function Qp(s,e){s.asyncQueue.verifyOperationInProgress();const n=await q1(s);oe(as,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>Bp(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,a)=>Bp(e.remoteStore,a))),s._onlineComponents=e}async function q1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(as,"Using user provided OfflineComponentProvider");try{await gh(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ts("Error using user provided cache. Falling back to memory cache: "+n),await gh(s,new hu)}}else oe(as,"Using default OfflineComponentProvider"),await gh(s,new $1(void 0));return s._offlineComponents}async function My(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(as,"Using user provided OnlineComponentProvider"),await Qp(s,s._uninitializedComponentsProvider._online)):(oe(as,"Using default OnlineComponentProvider"),await Qp(s,new Fh))),s._onlineComponents}function W1(s){return My(s).then((e=>e.syncEngine))}async function bh(s){const e=await My(s),n=e.eventManager;return n.onListen=R1.bind(null,e.syncEngine),n.onUnlisten=D1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j1.bind(null,e.syncEngine),n}function G1(s,e,n={}){const i=new Zr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,w){const A=new jy({next:T=>{A.Ou(),d.enqueueAndForget((()=>Sy(c,x))),T.fromCache&&v.source==="server"?w.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(T)},error:T=>w.reject(T)}),x=new Ay(g,A,{includeMetadataChanges:!0,ka:!0});return Iy(c,x)})(await bh(s),s.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="firestore.googleapis.com",Xp=!0;class Yp{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ly,this.ssl=Xp}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NE)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Oy((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new tw;switch(i.type){case"firstParty":return new iw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Kp.get(n);i&&(oe("ComponentProvider","Removing Datastore"),Kp.delete(n),i.terminate())})(this),Promise.resolve()}}function Q1(s,e,n,i={}){var a;s=wn(s,Au);const c=$h(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${n}`;c&&(C_(`https://${v}`),V_("Firestore",!0)),d.host!==Ly&&d.host!==v&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w=Object.assign(Object.assign({},d),{host:v,ssl:c,emulatorOptions:i});if(!eu(w,g)&&(s._setSettings(w),i.mockUserToken)){let A,x;if(typeof i.mockUserToken=="string")A=i.mockUserToken,x=Ft.MOCK_USER;else{A=P_(i.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ft(T)}s._authCredentials=new nw(new Tg(A,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class ot{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(_a(n,ot._jsonSchema))return new ot(e,i||null,new me(We.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:ht("string",ot._jsonSchemaVersion),referencePath:ht("string")};class es extends hs{constructor(e,n,i){super(e,n,Jh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new me(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Fy(s,e,...n){if(s=er(s),Sg("collection","path",e),s instanceof Au){const i=We.fromString(e,...n);return cp(i),new es(s,null,i)}{if(!(s instanceof ot||s instanceof es))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(We.fromString(e,...n));return cp(i),new es(s.firestore,null,i)}}function Nu(s,e,...n){if(s=er(s),arguments.length===1&&(e=Wh.newId()),Sg("doc","path",e),s instanceof Au){const i=We.fromString(e,...n);return up(i),new ot(s,null,new me(i))}{if(!(s instanceof ot||s instanceof es))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(We.fromString(e,...n));return up(i),new ot(s.firestore,s instanceof es?s.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="AsyncQueue";class Zp{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new py(this,"async_queue_retry"),this.oc=()=>{const i=ph();i&&oe(Jp,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Zr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!to(e))throw e;oe(Jp,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Er("INTERNAL UNHANDLED ERROR: ",eg(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=dd.createAndSchedule(this,e,n,i,(c=>this.lc(c)));return this.ec.push(a),a}ac(){this.tc&&_e(47125,{hc:eg(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function eg(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(s){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of i)if(c in a&&typeof a[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ls extends Au{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Zp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zp(e),this._firestoreClient=void 0,await e}}}function K1(s,e){const n=typeof s=="object"?s:B0(),i=typeof s=="string"?s:su,a=L0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=N_("firestore");c&&Q1(a,...c)}return a}function yd(s){if(s._terminated)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||X1(s),s._firestoreClient}function X1(s){var e,n,i;const a=s._freezeSettings(),c=(function(g,v,w,A){return new Ew(g,v,w,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Oy(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new H1(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(Rt.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_a(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:ht("string",_n._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jn._jsonSchemaVersion}}static fromJSON(e){if(_a(e,Jn._jsonSchema))return new Jn(e.latitude,e.longitude)}}Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:ht("string",Jn._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_a(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zn(e.vectorValues);throw new se(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:ht("string",Zn._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^__.*__$/;class J1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wa(e,this.data,n,this.fieldTransforms)}}class by{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uy(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:s})}}class vd{constructor(e,n,i,a,c,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return du(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Uy(this.Ec)&&Y1.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Z1{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Tu(e)}Dc(e,n,i,a=!1){return new vd({Ec:e,methodName:n,bc:i,path:Pt.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(s){const e=s._freezeSettings(),n=Tu(s._databaseId);return new Z1(s._databaseId,!!e.ignoreUndefinedProperties,n)}function zy(s,e,n,i,a,c={}){const d=s.Dc(c.merge||c.mergeFields?2:0,e,n,a);wd("Data must be an object, but it was:",d,i);const g=By(i,d);let v,w;if(c.merge)v=new ln(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const x of c.mergeFields){const T=Uh(e,x,n);if(!d.contains(T))throw new se(W.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Hy(A,T)||A.push(T)}v=new ln(A),w=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,w=d.fieldTransforms;return new J1(new Zt(g),v,w)}class Ru extends Cu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ru}}class _d extends Cu{_toFieldTransform(e){return new Gw(e.path,new ga)}isEqual(e){return e instanceof _d}}function eT(s,e,n,i){const a=s.Dc(1,e,n);wd("Data must be an object, but it was:",a,i);const c=[],d=Zt.empty();us(i,((v,w)=>{const A=Ed(e,v,n);w=er(w);const x=a.gc(A);if(w instanceof Ru)c.push(A);else{const T=Sa(w,x);T!=null&&(c.push(A),d.set(A,T))}}));const g=new ln(c);return new by(d,g,a.fieldTransforms)}function tT(s,e,n,i,a,c){const d=s.Dc(1,e,n),g=[Uh(e,i,n)],v=[a];if(c.length%2!=0)throw new se(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)g.push(Uh(e,c[T])),v.push(c[T+1]);const w=[],A=Zt.empty();for(let T=g.length-1;T>=0;--T)if(!Hy(w,g[T])){const R=g[T];let U=v[T];U=er(U);const q=d.gc(R);if(U instanceof Ru)w.push(R);else{const H=Sa(U,q);H!=null&&(w.push(R),A.set(R,H))}}const x=new ln(w);return new by(A,x,d.fieldTransforms)}function nT(s,e,n,i=!1){return Sa(n,s.Dc(i?4:3,e))}function Sa(s,e){if($y(s=er(s)))return wd("Unsupported field value:",e,s),By(s,e);if(s instanceof Cu)return(function(i,a){if(!Uy(a.Ec))throw a.wc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,a){const c=[];let d=0;for(const g of i){let v=Sa(g,a.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(i,a){if((i=er(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Hw(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ke.fromDate(i);return{timestampValue:lu(a.serializer,c)}}if(i instanceof Ke){const c=new Ke(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lu(a.serializer,c)}}if(i instanceof Jn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _n)return{bytesValue:sy(a.serializer,i._byteString)};if(i instanceof ot){const c=a.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw a.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rd(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Zn)return(function(d,g){return{mapValue:{fields:{[Dg]:{stringValue:jg},[iu]:{arrayValue:{values:d.toArray().map((w=>{if(typeof w!="number")throw g.wc("VectorValues must only contain numeric values.");return Zh(g.serializer,w)}))}}}}}})(i,a);throw a.wc(`Unsupported field value: ${fu(i)}`)})(s,e)}function By(s,e){const n={};return xg(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(s,((i,a)=>{const c=Sa(a,e.Vc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function $y(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ke||s instanceof Jn||s instanceof _n||s instanceof ot||s instanceof Cu||s instanceof Zn)}function wd(s,e,n){if(!$y(n)||!Ag(n)){const i=fu(n);throw i==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+i)}}function Uh(s,e,n){if((e=er(e))instanceof xu)return e._internalPath;if(typeof e=="string")return Ed(s,e);throw du("Field path arguments must be of type string or ",s,!1,void 0,n)}const rT=new RegExp("[~\\*/\\[\\]]");function Ed(s,e,n){if(e.search(rT)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function du(s,e,n,i,a){const c=i&&!i.isEmpty(),d=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${i}`),d&&(v+=` in document ${a}`),v+=")"),new se(W.INVALID_ARGUMENT,g+s+v)}function Hy(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,i,a,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sT extends qy{data(){return super.data()}}function Td(s,e){return typeof e=="string"?Ed(s,e):e instanceof xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}class Gy extends Id{}function Qy(s,e,...n){let i=[];e instanceof Id&&i.push(e),i=i.concat(n),(function(c){const d=c.filter((v=>v instanceof Ad)).length,g=c.filter((v=>v instanceof Sd)).length;if(d>1||d>0&&g>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)s=a._apply(s);return s}class Sd extends Gy{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Sd(e,n,i)}_apply(e){const n=this._parse(e);return Xy(e._query,n),new hs(e.firestore,e.converter,Ch(e._query,n))}_parse(e){const n=Pu(e.firestore);return(function(c,d,g,v,w,A,x){let T;if(w.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){rg(x,A);const U=[];for(const q of x)U.push(ng(v,c,q));T={arrayValue:{values:U}}}else T=ng(v,c,x)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||rg(x,A),T=nT(g,d,x,A==="in"||A==="not-in");return ct.create(w,A,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ad extends Id{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ad(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let d=a;const g=c.getFlattenedFilters();for(const v of g)Xy(d,v),d=Ch(d,v)})(e._query,n),new hs(e.firestore,e.converter,Ch(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nd extends Gy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nd(e,n)}_apply(e){const n=(function(a,c,d){if(a.startAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pa(c,d)})(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,(function(a,c){const d=a.explicitOrderBy.concat([c]);return new no(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ky(s,e="asc"){const n=e,i=Td("orderBy",s);return Nd._create(i,n)}function ng(s,e,n){if(typeof(n=er(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bg(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(We.fromString(n));if(!me.isDocumentKey(i))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vp(s,new me(i))}if(n instanceof ot)return vp(s,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fu(n)}.`)}function rg(s,e){if(!Array.isArray(s)||s.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xy(s,e){const n=(function(a,c){for(const d of a)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iT{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return us(e,((a,c)=>{i[a]=this.convertValue(c,n)})),i}convertVectorValue(e){var n,i,a;const c=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[iu].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map((d=>it(d.doubleValue)));return new Zn(c)}convertGeoPoint(e){return new Jn(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=gu(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=We.fromString(e);Fe(cy(i),9688,{name:e});const a=new fa(i.get(1),i.get(3)),c=new me(i.popFirst(5));return a.isEqual(n)||Er(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends qy{constructor(e,n,i,a,c,d){super(e,n,i,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:ht("string",$s._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Jl extends $s{data(e={}){return super.data(e)}}class Hs{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ra(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Jl(this._firestore,this._userDataWriter,i.key,i,new ra(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((g=>{const v=new Jl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ra(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Jl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ra(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let w=-1,A=-1;return g.type!==0&&(w=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:oT(g.type),doc:v,oldIndex:w,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oT(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:ht("string",Hs._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class xd extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function Jy(s){s=wn(s,hs);const e=wn(s.firestore,ls),n=yd(e),i=new xd(e);return Wy(s._query),G1(n,s._query).then((a=>new Hs(e,i,s,a)))}function aT(s,e,n){s=wn(s,ot);const i=wn(s.firestore,ls),a=Yy(s.converter,e);return ku(i,[zy(Pu(i),"setDoc",s._key,a,s.converter!==null,n).toMutation(s._key,En.none())])}function lT(s,e,n,...i){s=wn(s,ot);const a=wn(s.firestore,ls),c=Pu(a);let d;return d=typeof(e=er(e))=="string"||e instanceof xu?tT(c,"updateDoc",s._key,e,n,i):eT(c,"updateDoc",s._key,e),ku(a,[d.toMutation(s._key,En.exists(!0))])}function Zy(s){return ku(wn(s.firestore,ls),[new ed(s._key,En.none())])}function uT(s,e){const n=wn(s.firestore,ls),i=Nu(s),a=Yy(s.converter,e);return ku(n,[zy(Pu(s.firestore),"addDoc",i._key,a,s.converter!==null,{}).toMutation(i._key,En.exists(!1))]).then((()=>i))}function ev(s,...e){var n,i,a;s=er(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||tg(e[d])||(c=e[d++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(tg(e[d])){const x=e[d];e[d]=(n=x.next)===null||n===void 0?void 0:n.bind(x),e[d+1]=(i=x.error)===null||i===void 0?void 0:i.bind(x),e[d+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let v,w,A;if(s instanceof ot)w=wn(s.firestore,ls),A=Jh(s._key.path),v={next:x=>{e[d]&&e[d](cT(w,s,x))},error:e[d+1],complete:e[d+2]};else{const x=wn(s,hs);w=wn(x.firestore,ls),A=x._query;const T=new xd(w);v={next:R=>{e[d]&&e[d](new Hs(w,T,x,R))},error:e[d+1],complete:e[d+2]},Wy(s._query)}return(function(T,R,U,q){const H=new jy(q),Y=new Ay(R,H,U);return T.asyncQueue.enqueueAndForget((async()=>Iy(await bh(T),Y))),()=>{H.Ou(),T.asyncQueue.enqueueAndForget((async()=>Sy(await bh(T),Y)))}})(yd(w),A,g,v)}function ku(s,e){return(function(i,a){const c=new Zr;return i.asyncQueue.enqueueAndForget((async()=>M1(await W1(i),a,c))),c.promise})(yd(s),e)}function cT(s,e,n){const i=n.docs.get(e._key),a=new xd(s);return new $s(s,a,e._key,i,new ra(n.hasPendingWrites,n.fromCache),e.converter)}function Cd(){return new _d("serverTimestamp")}(function(e,n=!0){(function(a){Zi=a})(z0),nu(new ua("firestore",((i,{instanceIdentifier:a,options:c})=>{const d=i.getProvider("app").getImmediate(),g=new ls(new rw(i.getProvider("auth-internal")),new ow(d,i.getProvider("app-check-internal")),(function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(w.options.projectId,A)})(d,a),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),qi(sp,ip,e),qi(sp,ip,"esm2017")})();const hT={"2026-01-29":{day:1,name:"Matchday 1",ground:"Kicks on Grass",icon:""},"2026-01-30":{day:2,name:"Matchday 2",ground:"Kicks on Grass (With Roof)",icon:""},"2026-02-02":{day:3,name:"Matchday 3",ground:"Vplay (Opposite Office)",icon:""}},dT=s=>hT[s]||{day:0,name:"Match",ground:"TBD",icon:""},fT=[{id:"match-1",matchNumber:1,home:"feel-united",away:"dhurandhars",date:"2026-01-29",time:"17:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-2",matchNumber:2,home:"userflow",away:"goaldiggers",date:"2026-01-29",time:"17:30",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-3",matchNumber:3,home:"userflow",away:"dhurandhars",date:"2026-01-29",time:"18:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-4",matchNumber:4,home:"goaldiggers",away:"dhurandhars",date:"2026-01-29",time:"19:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-5",matchNumber:5,home:"feel-united",away:"userflow",date:"2026-01-30",time:"18:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-6",matchNumber:6,home:"goaldiggers",away:"feel-united",date:"2026-01-30",time:"18:30",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-7",matchNumber:7,home:"dhurandhars",away:"userflow",date:"2026-01-30",time:"19:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-8",matchNumber:8,home:"goaldiggers",away:"userflow",date:"2026-01-30",time:"19:30",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-9",matchNumber:9,home:"dhurandhars",away:"feel-united",date:"2026-01-30",time:"20:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-10",matchNumber:10,home:"feel-united",away:"goaldiggers",date:"2026-02-02",time:"18:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-11",matchNumber:11,home:"dhurandhars",away:"goaldiggers",date:"2026-02-02",time:"18:30",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-12",matchNumber:12,home:"userflow",away:"feel-united",date:"2026-02-02",time:"19:00",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!1},{id:"match-13",matchNumber:13,home:"tbd",away:"tbd",date:"2026-02-02",time:"19:30",scoreHome:0,scoreAway:0,status:"upcoming",goals:[],isFinal:!0}],tv=s=>new Date(s).toLocaleDateString("en-IN",{weekday:"short",month:"short",day:"numeric"}),mT=s=>{const[e,n]=s.split(":"),i=parseInt(e),a=i>=12?"PM":"AM";return`${i%12||12}:${n} ${a}`},pT={apiKey:"AIzaSyAYRukNJGOvVmL2jRAMgLtKkDzU7c6wo88",authDomain:"republic-cup-live.firebaseapp.com",projectId:"republic-cup-live",storageBucket:"republic-cup-live.firebasestorage.app",messagingSenderId:"642499294047",appId:"1:642499294047:web:f5a8b111b79bb8673abcea"},gT=dg(pT),Aa=K1(gT),nv=Fy(Aa,"matches"),Pd=Fy(Aa,"predictions"),yT=async()=>{try{if((await Jy(nv)).empty){console.log("Seeding matches collection...");for(const e of fT)await aT(Nu(Aa,"matches",e.id),{...e,createdAt:Cd()});return console.log("Matches seeded successfully!"),!0}return!1}catch(s){return console.error("Error seeding matches:",s),!1}},vT=s=>{const e=Qy(nv,Ky("matchNumber"));return ev(e,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));s(i)},n=>{console.error("Error subscribing to matches:",n)})},Us=async(s,e)=>{try{const n=Nu(Aa,"matches",s);return await lT(n,{...e,updatedAt:Cd()}),!0}catch(n){return console.error("Error updating match:",n),!1}},_T=async s=>{try{return await uT(Pd,{...s,submittedAt:Cd()}),!0}catch(e){return console.error("Error submitting prediction:",e),!1}},wT=s=>{const e=Qy(Pd,Ky("submittedAt","desc"));return ev(e,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));s(i)})},ET=async()=>{try{const e=(await Jy(Pd)).docs.map(n=>Zy(n.ref));return await Promise.all(e),console.log("All predictions deleted"),!0}catch(s){return console.error("Error deleting predictions:",s),!1}},TT=async s=>{try{return await Zy(Nu(Aa,"predictions",s)),console.log("Prediction deleted:",s),!0}catch(e){return console.error("Error deleting prediction:",e),!1}},et={"feel-united":{id:"feel-united",name:"Feel United",shortName:"FEE",color:"#FFFFFF",logo:"https://res.cloudinary.com/scapiacards/image/upload/q_85/v1769249520/spitha_prod_uploads/2026_01/feel_united_1769249519167.webp",manager:"Aniruddh Agrawal",players:["Ninad","Aditya Thakur","Umair","Sagar Awasthi","Sandipan Bala","Gahan","Rishab Khanna"]},dhurandhars:{id:"dhurandhars",name:"Dhurandhars",shortName:"DHU",color:"#000000",logo:"https://res.cloudinary.com/scapiacards/image/upload/q_85/v1769249469/spitha_prod_uploads/2026_01/durandhars_1769249467581.webp",manager:"Trivedi",players:["Sagar Singh","Raghu","Sukhpal","Mayank","Manish Pandey","Bharath Kumar","Shashank"]},goaldiggers:{id:"goaldiggers",name:"The Goaldiggers",shortName:"GDG",color:"#87CEEB",logo:"https://res.cloudinary.com/scapiacards/image/upload/q_85/v1769249929/spitha_prod_uploads/2026_01/the_goaldiggers2_1769249927876.webp",manager:"AKG",players:["Parth Jhawar","Abdul Rehman","Pratham P","Durgesh Suthar","Navdeep","Rajendra Ranka","Dhrouv Pujari"]},userflow:{id:"userflow",name:"Userflow United",shortName:"UFU",color:"#FF0000",logo:"https://res.cloudinary.com/scapiacards/image/upload/q_85/v1769249558/spitha_prod_uploads/2026_01/userflow_united_1769249557427.webp",manager:"Mani",players:["Sumedh Zope","Avaneesh Kulkarni","Kushal","Jalaj Varshney","Anurag Kumar Singh","Sandeep Xavier","Hriday Bhatia"]}},rv=ge.createContext(null),Ir=()=>{const s=ge.useContext(rv);if(!s)throw new Error("useApp must be used within AppProvider");return s},IT=({children:s})=>{const[e,n]=ge.useState([]),[i,a]=ge.useState([]),[c,d]=ge.useState(!1),[g,v]=ge.useState(!0),[w,A]=ge.useState("matches");ge.useEffect(()=>{localStorage.getItem("republic-cup-admin")==="true"&&d(!0)},[]),ge.useEffect(()=>{let Y,Z;return(async()=>{await yT(),Y=vT(ce=>{n(ce),v(!1)}),Z=wT(ce=>{a(ce)})})(),()=>{Y&&Y(),Z&&Z()}},[]);const x=ge.useCallback(Y=>Y==="5555"?(d(!0),localStorage.setItem("republic-cup-admin","true"),!0):!1,[]),T=ge.useCallback(()=>{d(!1),localStorage.removeItem("republic-cup-admin")},[]),R=ge.useCallback(()=>{const Y={};return Object.keys(et).forEach(Z=>{Y[Z]={teamId:Z,played:0,won:0,drawn:0,lost:0,goalsFor:0,goalsAgainst:0,goalDifference:0,points:0}}),e.filter(Z=>Z.status==="ft"&&!Z.isFinal).forEach(Z=>{const ne=Z.home,ce=Z.away,Pe=Z.scoreHome||0,z=Z.scoreAway||0;!Y[ne]||!Y[ce]||(Y[ne].played++,Y[ce].played++,Y[ne].goalsFor+=Pe,Y[ne].goalsAgainst+=z,Y[ce].goalsFor+=z,Y[ce].goalsAgainst+=Pe,Pe>z?(Y[ne].won++,Y[ne].points+=3,Y[ce].lost++):Pe<z?(Y[ce].won++,Y[ce].points+=3,Y[ne].lost++):(Y[ne].drawn++,Y[ce].drawn++,Y[ne].points++,Y[ce].points++))}),Object.values(Y).map(Z=>({...Z,goalDifference:Z.goalsFor-Z.goalsAgainst})).sort((Z,ne)=>ne.points!==Z.points?ne.points-Z.points:ne.goalDifference!==Z.goalDifference?ne.goalDifference-Z.goalDifference:ne.goalsFor-Z.goalsFor)},[e]),U=ge.useCallback(()=>{const Y={};return e.filter(Z=>Z.status==="ft").forEach(Z=>{(Z.goals||[]).forEach(ne=>{const ce=`${ne.player}-${ne.team}`;Y[ce]||(Y[ce]={player:ne.player,team:ne.team,goals:0}),Y[ce].goals++})}),Object.values(Y).sort((Z,ne)=>ne.goals-Z.goals).slice(0,10)},[e]),q=ge.useCallback(()=>e.filter(Y=>Y.status==="upcoming"&&Y.home!=="tbd"),[e]),H={matches:e,predictions:i,isAdmin:c,loading:g,activeTab:w,setActiveTab:A,loginAdmin:x,logoutAdmin:T,calculateTable:R,calculateTopScorers:U,getUpcomingMatches:q};return p.jsx(rv.Provider,{value:H,children:s})},ST=({onClose:s})=>{const{loginAdmin:e}=Ir(),[n,i]=ge.useState(["","","",""]),[a,c]=ge.useState(!1),[d,g]=ge.useState(!1),v=[ge.useRef(),ge.useRef(),ge.useRef(),ge.useRef()];ge.useEffect(()=>{var T;(T=v[0].current)==null||T.focus()},[]);const w=(T,R)=>{var q;if(R&&!/^\d$/.test(R))return;const U=[...n];if(U[T]=R,i(U),c(!1),R&&T<3&&((q=v[T+1].current)==null||q.focus()),R&&T===3){const H=U.join("");setTimeout(()=>{e(H)?s():(c(!0),g(!0),setTimeout(()=>{var Y;g(!1),i(["","","",""]),(Y=v[0].current)==null||Y.focus()},500))},100)}},A=(T,R)=>{var U;R.key==="Backspace"&&!n[T]&&T>0&&((U=v[T-1].current)==null||U.focus())},x=T=>{T.preventDefault();const R=T.clipboardData.getData("text").slice(0,4);if(/^\d+$/.test(R)){const U=R.split("").concat(["","","",""]).slice(0,4);i(U),U[3]&&setTimeout(()=>{e(U.join(""))?s():(c(!0),g(!0),setTimeout(()=>{var q;g(!1),i(["","","",""]),(q=v[0].current)==null||q.focus()},500))},100)}};return p.jsx("div",{className:"modal-overlay",onClick:s,children:p.jsxs("div",{className:`modal-content pin-modal ${d?"shake":""}`,onClick:T=>T.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Admin Access"}),p.jsx("button",{className:"modal-close",onClick:s,children:""})]}),p.jsxs("div",{className:"pin-content",children:[p.jsx("p",{className:"pin-label",children:"Enter 4-digit PIN"}),p.jsx("div",{className:"pin-inputs",onPaste:x,children:n.map((T,R)=>p.jsx("input",{ref:v[R],type:"password",inputMode:"numeric",maxLength:1,value:T,onChange:U=>w(R,U.target.value),onKeyDown:U=>A(R,U),className:`pin-input ${a?"error":""}`,autoComplete:"off"},R))}),a&&p.jsx("p",{className:"pin-error",children:"Incorrect PIN. Try again."})]})]})})},AT=()=>{const{isAdmin:s,logoutAdmin:e}=Ir(),[n,i]=ge.useState(!1),[a,c]=ge.useState(0),d=()=>{const g=a+1;c(g),g>=3&&(i(!0),c(0)),setTimeout(()=>c(0),2e3)};return p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:"header",children:[p.jsxs("div",{className:"header-content",children:[p.jsxs("div",{className:"header-brand",children:[p.jsx("img",{src:"https://res.cloudinary.com/scapiacards/image/upload/q_85/v1769249500/spitha_prod_uploads/2026_01/logo_1769249499164.webp",alt:"Scapia Offside",className:"header-logo"}),p.jsxs("div",{className:"header-title-group",children:[p.jsx("h1",{className:"header-title",children:"SCAPIA OFFSIDE"}),p.jsx("span",{className:"header-year",children:"2026"})]})]}),p.jsxs("div",{className:"header-actions",children:[s&&p.jsx("button",{className:"admin-badge",onClick:e,children:"ADMIN"}),p.jsx("span",{className:"version-tag",onClick:d,children:"v1.0"})]})]}),s&&p.jsx("div",{className:"admin-banner",children:"Admin Mode Active - You can edit matches"})]}),n&&p.jsx(ST,{onClose:()=>i(!1)})]})},NT=()=>{const{activeTab:s,setActiveTab:e,matches:n}=Ir(),i=n.filter(c=>c.status==="live").length,a=[{id:"matches",label:"Matches",icon:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),p.jsx("path",{d:"M2 12h20"})]}),badge:i>0?i:null},{id:"table",label:"Table",icon:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M3 3h18v18H3zM3 9h18M3 15h18M9 3v18"})})},{id:"polls",label:"Polls",icon:p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M18 20V10M12 20V4M6 20v-6"})})},{id:"rules",label:"Rules",icon:p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),p.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),p.jsx("polyline",{points:"10 9 9 9 8 9"})]})}];return p.jsx("nav",{className:"bottom-nav",children:p.jsx("div",{className:"nav-content",children:a.map(c=>p.jsxs("button",{className:`nav-item ${s===c.id?"active":""}`,onClick:()=>e(c.id),children:[p.jsxs("div",{className:"nav-icon-wrapper",children:[p.jsx("span",{className:"nav-icon",children:c.icon}),c.badge&&p.jsx("span",{className:"nav-badge",children:c.badge})]}),p.jsx("span",{className:"nav-label",children:c.label})]},c.id))})})},xT=({teamId:s,otherTeamId:e,isHome:n,onSelect:i,onClose:a})=>{const c=et[s],[d,g]=ge.useState(null),[v,w]=ge.useState("scorer");if(!c)return null;const A=R=>{R==="Own Goal"?i(R,s,null):(g(R),w("assist"))},x=R=>{i(d,s,R)},T=((c==null?void 0:c.players)||[]).filter(R=>R!==d).map(R=>({name:R,team:s,teamName:c.shortName}));return p.jsx("div",{className:"modal-overlay",onClick:a,children:p.jsxs("div",{className:"modal-content goal-modal",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:v==="scorer"?"Who Scored?":"Who Assisted?"}),p.jsx("button",{className:"modal-close",onClick:a,children:""})]}),p.jsx("div",{className:"goal-modal-content",children:v==="scorer"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"goal-team-header",children:[p.jsx("img",{src:c.logo,alt:c.name,className:"goal-team-logo"}),p.jsx("span",{className:"goal-team-name",children:c.name})]}),p.jsxs("div",{className:"player-grid",children:[c.players.map(R=>p.jsxs("button",{className:"player-btn",onClick:()=>A(R),children:[p.jsx("span",{className:"player-initial",children:R.charAt(0)}),p.jsx("span",{className:"player-name",children:R})]},R)),p.jsxs("button",{className:"player-btn own-goal",onClick:()=>A("Own Goal"),children:[p.jsx("span",{className:"player-initial",children:"OG"}),p.jsx("span",{className:"player-name",children:"Own Goal"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"assist-header",children:p.jsxs("span",{className:"scorer-info",children:["Goal: ",p.jsx("strong",{children:d})]})}),p.jsxs("div",{className:"player-grid assist-grid",children:[p.jsxs("button",{className:"player-btn no-assist",onClick:()=>x(null),children:[p.jsx("span",{className:"player-initial",children:"-"}),p.jsx("span",{className:"player-name",children:"No Assist"})]}),T.map(R=>p.jsxs("button",{className:"player-btn",onClick:()=>x(R.name),children:[p.jsx("span",{className:"player-initial",children:R.name.charAt(0)}),p.jsx("span",{className:"player-name",children:R.name}),p.jsx("span",{className:"player-team-tag",children:R.teamName})]},`${R.name}-${R.team}`))]}),p.jsx("button",{className:"back-btn",onClick:()=>w("scorer"),children:" Back to scorer"})]})})]})})},CT=({match:s,onClose:e})=>{var Pe;const{predictions:n}=Ir(),[i,a]=ge.useState(s.status),[c,d]=ge.useState(null),[g,v]=ge.useState(!1),[w,A]=ge.useState(s.manOfTheMatch||""),x=et[s.home]||{name:"TBD",shortName:"TBD"},T=et[s.away]||{name:"TBD",shortName:"TBD"},R=async z=>{v(!0),await Us(s.id,{status:z}),a(z),v(!1)},U=async()=>{window.confirm("Are you sure you want to reset the score to 0-0?")&&(v(!0),await Us(s.id,{scoreHome:0,scoreAway:0,goals:[]}),v(!1))},q=async(z,S,I,N)=>{v(!0);const k={player:z,team:S,assist:I||null,timestamp:new Date().toISOString()},V=[...s.goals||[],k],M=V.filter(ze=>ze.team===s.home).length,P=V.filter(ze=>ze.team===s.away).length;await Us(s.id,{goals:V,scoreHome:M,scoreAway:P}),d(null),v(!1)},H=async z=>{const S=z?s.home:s.away;if((s.goals||[]).filter(P=>P.team===S).length===0)return;const N=s.goals.map(P=>P.team).lastIndexOf(S),k=s.goals.filter((P,ze)=>ze!==N),V=k.filter(P=>P.team===s.home).length,M=k.filter(P=>P.team===s.away).length;v(!0),await Us(s.id,{goals:k,scoreHome:V,scoreAway:M}),v(!1)},Y=ge.useMemo(()=>n.filter(z=>z.matchId===s.id).sort((z,S)=>{var k,V,M,P;const I=((V=(k=z.submittedAt)==null?void 0:k.toDate)==null?void 0:V.call(k))||new Date(z.submittedAt),N=((P=(M=S.submittedAt)==null?void 0:M.toDate)==null?void 0:P.call(M))||new Date(S.submittedAt);return I-N}),[n,s.id]),Z=ge.useMemo(()=>{const z=new Set;return Y.map(S=>{var k;const I=(k=S.userName)==null?void 0:k.toLowerCase().trim(),N=!z.has(I);return z.add(I),{...S,isFirstEntry:N}})},[Y]),ne=ge.useMemo(()=>{const z={};return(s.goals||[]).forEach(S=>{const I=`${S.player}-${S.team}`;z[I]||(z[I]={player:S.player,team:S.team,goals:0}),z[I].goals++}),Object.values(z).sort((S,I)=>I.goals-S.goals)},[s.goals]),ce=async()=>{if(!w){alert("Please select a Man of the Match");return}v(!0);const S=Z.filter(I=>I.isFirstEntry&&I.predictedPlayer===w).map(I=>I.userName);await Us(s.id,{manOfTheMatch:w,momWinners:S,momPublishedAt:new Date().toISOString()}),v(!1),alert(`Man of the Match: ${w}
Winners: ${S.length>0?S.join(", "):"No correct predictions"}`)};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content admin-modal",onClick:z=>z.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{children:["Edit Match ",s.matchNumber]}),p.jsx("button",{className:"modal-close",onClick:e,children:""})]}),p.jsxs("div",{className:"admin-content",children:[p.jsxs("div",{className:"admin-match-info",children:[p.jsxs("div",{className:"admin-team",children:[x.logo&&p.jsx("img",{src:x.logo,alt:x.name}),p.jsx("span",{children:x.shortName})]}),p.jsxs("div",{className:"admin-score",children:[p.jsx("span",{children:s.scoreHome}),p.jsx("span",{className:"admin-score-sep",children:"-"}),p.jsx("span",{children:s.scoreAway})]}),p.jsxs("div",{className:"admin-team",children:[T.logo&&p.jsx("img",{src:T.logo,alt:T.name}),p.jsx("span",{children:T.shortName})]})]}),p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Match Status"}),p.jsx("div",{className:"status-buttons",children:["upcoming","live","ft"].map(z=>p.jsx("button",{className:`status-btn ${i===z?"active":""} status-${z}`,onClick:()=>R(z),disabled:g,children:z==="upcoming"?"Upcoming":z==="live"?"Live":"Full Time"},z))})]}),p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Predictions Lock (2 PM Rule)"}),p.jsx("button",{className:`lock-btn ${s.predictionsLocked?"locked":""}`,onClick:async()=>{v(!0),await Us(s.id,{predictionsLocked:!s.predictionsLocked}),v(!1)},disabled:g,children:s.predictionsLocked?" Predictions Locked":" Predictions Open"})]}),p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Add Goal"}),p.jsxs("div",{className:"goal-buttons",children:[p.jsxs("button",{className:"goal-btn home",onClick:()=>d("home"),disabled:g||s.home==="tbd",children:["+ Goal ",x.shortName]}),p.jsxs("button",{className:"goal-btn away",onClick:()=>d("away"),disabled:g||s.away==="tbd",children:["+ Goal ",T.shortName]})]})]}),p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Remove Last Goal"}),p.jsxs("div",{className:"goal-buttons",children:[p.jsxs("button",{className:"remove-btn",onClick:()=>H(!0),disabled:g||!(s.goals||[]).some(z=>z.team===s.home),children:["- ",x.shortName]}),p.jsxs("button",{className:"remove-btn",onClick:()=>H(!1),disabled:g||!(s.goals||[]).some(z=>z.team===s.away),children:["- ",T.shortName]})]})]}),s.goals&&s.goals.length>0&&p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Goal Log"}),p.jsx("div",{className:"goal-log",children:s.goals.map((z,S)=>{const I=et[z.team];return p.jsxs("div",{className:"goal-log-item",children:[p.jsxs("span",{className:"goal-time",children:[S+1,"."]}),p.jsx("span",{className:"goal-player",children:z.player}),p.jsxs("span",{className:"goal-team",children:["(",I==null?void 0:I.shortName,")"]}),z.assist&&p.jsxs("span",{className:"goal-assist",children:["A: ",z.assist]})]},S)})})]}),i==="ft"&&p.jsxs("div",{className:"admin-section mom-section",children:[p.jsx("label",{children:"Man of the Match"}),ne.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("select",{className:"mom-select",value:w,onChange:z=>A(z.target.value),disabled:g||s.momPublishedAt,children:[p.jsx("option",{value:"",children:"-- Select Man of the Match --"}),ne.map(z=>{const S=et[z.team];return p.jsxs("option",{value:z.player,children:[z.player," (",S==null?void 0:S.shortName,") - ",z.goals," goal",z.goals>1?"s":""]},`${z.player}-${z.team}`)}),p.jsx("option",{value:"referee_decision",children:"Referee Decision (0-0 Draw)"})]}),s.momPublishedAt?p.jsxs("div",{className:"mom-published",children:["Published: ",s.manOfTheMatch,((Pe=s.momWinners)==null?void 0:Pe.length)>0&&p.jsxs("span",{className:"mom-winners",children:["Winners: ",s.momWinners.join(", ")]})]}):p.jsx("button",{className:"publish-btn",onClick:ce,disabled:g||!w,children:"Publish Winner"})]}):p.jsx("p",{className:"no-goals-msg",children:'No goals scored yet. Add goals or select "Referee Decision".'})]}),Z.length>0&&p.jsxs("div",{className:"admin-section",children:[p.jsxs("label",{children:["Predictions (",Z.length,") - Sorted by submission time (earliest first)"]}),p.jsx("div",{className:"predictions-log",children:Z.map((z,S)=>{var k,V;const N=(((V=(k=z.submittedAt)==null?void 0:k.toDate)==null?void 0:V.call(k))||new Date(z.submittedAt)).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:`prediction-log-item ${z.isFirstEntry?"":"duplicate"} ${z.predictedPlayer===w?"winner":""}`,children:[p.jsxs("span",{className:"pred-index",children:[S+1,"."]}),p.jsx("span",{className:"pred-time",children:N}),p.jsx("span",{className:"pred-user",children:z.userName}),p.jsx("span",{className:"pred-arrow",children:""}),p.jsx("span",{className:"pred-player",children:z.predictedPlayer}),!z.isFirstEntry&&p.jsx("span",{className:"pred-dup-badge",children:"DUP"}),z.isFirstEntry&&z.predictedPlayer===w&&p.jsx("span",{className:"pred-win-badge",children:"WIN"}),p.jsx("button",{className:"pred-delete-btn",onClick:()=>{window.confirm(`Delete prediction by ${z.userName}?`)&&TT(z.id)},disabled:g,children:""})]},z.id)})})]}),p.jsxs("div",{className:"admin-section",children:[p.jsx("label",{children:"Reset Options"}),p.jsxs("div",{className:"reset-buttons",children:[p.jsx("button",{className:"reset-btn",onClick:U,disabled:g,children:"Reset Score (0-0)"}),p.jsx("button",{className:"reset-btn danger",onClick:async()=>{window.confirm("Reset ALL match data? This will clear score, goals, and MoM. Predictions will remain.")&&(v(!0),await Us(s.id,{scoreHome:0,scoreAway:0,goals:[],manOfTheMatch:null,momWinners:null,momPublishedAt:null,status:"upcoming",predictionsLocked:!1}),a("upcoming"),A(""),v(!1))},disabled:g,children:"Reset All Match Data"})]})]})]})]})}),c&&p.jsx(xT,{teamId:c==="home"?s.home:s.away,otherTeamId:c==="home"?s.away:s.home,isHome:c==="home",onSelect:(z,S,I)=>q(z,S,I),onClose:()=>d(null)})]})},sg=({match:s})=>{const{isAdmin:e}=Ir(),[n,i]=ge.useState(!1),[a,c]=ge.useState(!1),d=et[s.home]||{name:"TBD",logo:null},g=et[s.away]||{name:"TBD",logo:null},v=()=>{switch(s.status){case"live":return"status-live";case"ft":return"status-ft";default:return"status-upcoming"}},w=()=>{switch(s.status){case"live":return"LIVE";case"ft":return"FT";default:return mT(s.time)}},A=H=>(s.goals||[]).filter(Y=>Y.team===H),x=A(s.home),T=A(s.away),R=x.length>0||T.length>0,U=s.status==="ft"&&R,q=()=>{U&&c(!a)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`match-card ${s.status} ${s.isFinal?"final":""} ${a?"expanded":""} ${U?"clickable":""}`,onClick:q,children:[s.isFinal&&p.jsx("div",{className:"final-badge",children:"FINAL"}),p.jsxs("div",{className:"match-header",children:[p.jsxs("span",{className:"match-number",children:["Match ",s.matchNumber]}),p.jsxs("span",{className:`match-status ${v()}`,children:[s.status==="live"&&p.jsx("span",{className:"live-dot"}),w()]})]}),p.jsxs("div",{className:"match-body",children:[p.jsxs("div",{className:"team home-team",children:[p.jsx("div",{className:"team-logo-wrapper",children:d.logo?p.jsx("img",{src:d.logo,alt:d.name,className:"team-logo"}):p.jsx("div",{className:"team-logo-placeholder",children:"?"})}),p.jsx("span",{className:"team-name",children:d.name})]}),p.jsx("div",{className:"score-container",children:s.status==="upcoming"?p.jsx("span",{className:"vs-text",children:"VS"}):p.jsxs("div",{className:"score",children:[p.jsx("span",{className:"score-home",children:s.scoreHome}),p.jsx("span",{className:"score-separator",children:"-"}),p.jsx("span",{className:"score-away",children:s.scoreAway})]})}),p.jsxs("div",{className:"team away-team",children:[p.jsx("div",{className:"team-logo-wrapper",children:g.logo?p.jsx("img",{src:g.logo,alt:g.name,className:"team-logo"}):p.jsx("div",{className:"team-logo-placeholder",children:"?"})}),p.jsx("span",{className:"team-name",children:g.name})]})]}),U&&!a&&p.jsxs("div",{className:"expand-hint",children:[p.jsx("span",{children:"Tap to see scorers"}),p.jsx("span",{className:"expand-icon",children:""})]}),a&&p.jsxs("div",{className:"goals-detail",children:[p.jsx("div",{className:"goals-column home-goals",children:x.length>0?x.map((H,Y)=>p.jsxs("div",{className:"goal-item",children:[p.jsx("span",{className:"goal-icon",children:""}),p.jsx("span",{className:"goal-scorer",children:H.player}),H.assist&&p.jsxs("span",{className:"goal-assist",children:["(A: ",H.assist,")"]})]},Y)):p.jsx("span",{className:"no-goals",children:"-"})}),p.jsx("div",{className:"goals-divider"}),p.jsx("div",{className:"goals-column away-goals",children:T.length>0?T.map((H,Y)=>p.jsxs("div",{className:"goal-item",children:[p.jsx("span",{className:"goal-icon",children:""}),p.jsx("span",{className:"goal-scorer",children:H.player}),H.assist&&p.jsxs("span",{className:"goal-assist",children:["(A: ",H.assist,")"]})]},Y)):p.jsx("span",{className:"no-goals",children:"-"})})]}),e&&p.jsx("button",{className:"edit-button",onClick:H=>{H.stopPropagation(),i(!0)},children:"Edit"})]}),n&&p.jsx(CT,{match:s,onClose:()=>i(!1)})]})},PT=()=>{const{matches:s,loading:e}=Ir(),n=ge.useMemo(()=>{const a={};return s.forEach(c=>{const d=c.date;a[d]||(a[d]=[]),a[d].push(c)}),Object.entries(a).sort(([c],[d])=>new Date(c)-new Date(d)).map(([c,d])=>{const g=dT(c);return{date:c,dateLabel:tv(c),matchday:g,matches:d.sort((v,w)=>v.time.localeCompare(w.time))}})},[s]),i=s.filter(a=>a.status==="live");return e?p.jsx("div",{className:"tab-content",children:p.jsx("div",{className:"loading-container",style:{minHeight:"200px"},children:p.jsx("div",{className:"loading-spinner"})})}):p.jsxs("div",{className:"tab-content",children:[i.length>0&&p.jsxs("section",{className:"live-section animate-fade-in",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"PLAYING NOW"}),p.jsxs("span",{className:"section-badge live-badge",children:[i.length," LIVE"]})]}),i.map(a=>p.jsx(sg,{match:a},a.id))]}),n.map(a=>p.jsxs("section",{className:"matchday-section",children:[p.jsxs("div",{className:"matchday-header",children:[p.jsxs("div",{className:"matchday-info",children:[p.jsx("span",{className:"matchday-icon",children:a.matchday.icon}),p.jsxs("div",{className:"matchday-text",children:[p.jsx("span",{className:"matchday-name",children:a.matchday.name}),p.jsx("span",{className:"matchday-date",children:a.dateLabel})]})]}),p.jsx("div",{className:"ground-info",children:p.jsx("span",{className:"ground-name",children:a.matchday.ground})})]}),a.matches.map(c=>p.jsx(sg,{match:c},c.id))]},a.date)),s.length===0&&p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No Matches Yet"}),p.jsx("p",{children:"Check back when the tournament begins!"})]})]})},RT=()=>{const{calculateTable:s,calculateTopScorers:e,matches:n,predictions:i}=Ir(),a=ge.useMemo(()=>s(),[s]),c=ge.useMemo(()=>e(),[e]),d=n.filter(T=>T.status==="ft"&&!T.isFinal).length,g=ge.useMemo(()=>{const T={};return n.filter(R=>R.status==="ft").forEach(R=>{(R.goals||[]).forEach(U=>{if(U.assist){const q=U.assist;T[q]||(T[q]={player:U.assist,assists:0}),T[q].assists++}})}),Object.values(T).sort((R,U)=>U.assists-R.assists).slice(0,5)},[n]),v=ge.useMemo(()=>{const T={};return Object.keys(et).forEach(R=>{T[R]=0}),n.filter(R=>R.status==="ft").forEach(R=>{R.scoreAway===0&&T[R.home]!==void 0&&T[R.home]++,R.scoreHome===0&&T[R.away]!==void 0&&T[R.away]++}),Object.entries(T).map(([R,U])=>({teamId:R,count:U})).sort((R,U)=>U.count-R.count)},[n]),w=1e3,A=ge.useMemo(()=>{const T={};return n.filter(R=>{var U;return R.momPublishedAt&&((U=R.momWinners)==null?void 0:U.length)>0}).forEach(R=>{const U=Math.floor(w/R.momWinners.length);R.momWinners.forEach(q=>{T[q]||(T[q]={name:q,coins:0,wins:0}),T[q].coins+=U,T[q].wins++})}),Object.values(T).sort((R,U)=>U.coins-R.coins).slice(0,10)},[n]),x=ge.useMemo(()=>{var Pe;const T=n.filter(z=>z.status==="ft");if(T.length===0)return null;let R=null,U=0;T.forEach(z=>{var I,N;const S=Math.abs(z.scoreHome-z.scoreAway);if(S>U){U=S;const k=z.scoreHome>z.scoreAway?z.home:z.away,V=z.scoreHome>z.scoreAway?z.away:z.home;R={winner:((I=et[k])==null?void 0:I.shortName)||k,loser:((N=et[V])==null?void 0:N.shortName)||V,score:z.scoreHome>z.scoreAway?`${z.scoreHome}-${z.scoreAway}`:`${z.scoreAway}-${z.scoreHome}`,matchNum:z.matchNumber}}});let q=null,H=0;T.forEach(z=>{var I,N;const S=(z.scoreHome||0)+(z.scoreAway||0);S>H&&(H=S,q={home:((I=et[z.home])==null?void 0:I.shortName)||z.home,away:((N=et[z.away])==null?void 0:N.shortName)||z.away,score:`${z.scoreHome}-${z.scoreAway}`,total:S,matchNum:z.matchNumber})});const Y=T.filter(z=>z.scoreHome===z.scoreAway).length,Z={};T.forEach(z=>{z.scoreHome>z.scoreAway?Z[z.home]=(Z[z.home]||0)+1:z.scoreAway>z.scoreHome&&(Z[z.away]=(Z[z.away]||0)+1)});const ne=Object.entries(Z).sort((z,S)=>S[1]-z[1])[0],ce=[];return T.forEach(z=>{const S={};(z.goals||[]).forEach(I=>{S[I.player]=(S[I.player]||0)+1}),Object.entries(S).forEach(([I,N])=>{N>=3&&ce.push({player:I,goals:N,matchNum:z.matchNumber})})}),{biggestWin:R,highestScoring:q,draws:Y,topWinner:ne?{team:((Pe=et[ne[0]])==null?void 0:Pe.shortName)||ne[0],wins:ne[1]}:null,hatTricks:ce}},[n]);return p.jsxs("div",{className:"tab-content",children:[p.jsxs("section",{className:"table-section animate-slide-up",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"STANDINGS"}),p.jsxs("span",{className:"section-badge",children:[d," PLAYED"]})]}),p.jsxs("div",{className:"league-table",children:[p.jsxs("div",{className:"table-header",children:[p.jsx("span",{className:"col-pos",children:"#"}),p.jsx("span",{className:"col-team",children:"Team"}),p.jsx("span",{className:"col-stat",children:"P"}),p.jsx("span",{className:"col-stat col-wdl",children:"W"}),p.jsx("span",{className:"col-stat col-wdl",children:"D"}),p.jsx("span",{className:"col-stat col-wdl",children:"L"}),p.jsx("span",{className:"col-stat",children:"GD"}),p.jsx("span",{className:"col-pts",children:"PTS"})]}),a.map((T,R)=>{const U=et[T.teamId];return U?p.jsxs("div",{className:`table-row ${R<2?"qualified":""}`,style:{animationDelay:`${R*.05}s`},children:[p.jsx("span",{className:"col-pos",children:p.jsx("span",{className:`position ${R<2?"top":""}`,children:R+1})}),p.jsxs("span",{className:"col-team",children:[p.jsx("img",{src:U.logo,alt:U.name,className:"table-team-logo"}),p.jsx("span",{className:"table-team-name",children:U.name})]}),p.jsx("span",{className:"col-stat",children:T.played}),p.jsx("span",{className:"col-stat col-wdl",children:T.won}),p.jsx("span",{className:"col-stat col-wdl",children:T.drawn}),p.jsx("span",{className:"col-stat col-wdl",children:T.lost}),p.jsxs("span",{className:"col-stat",children:[T.goalDifference>0?"+":"",T.goalDifference]}),p.jsx("span",{className:"col-pts",children:T.points})]},T.teamId):null})]}),p.jsx("div",{className:"table-legend",children:p.jsxs("span",{className:"legend-item qualified-legend",children:[p.jsx("span",{className:"legend-dot"}),"Qualifies for Final"]})})]}),p.jsxs("section",{className:"scorers-section animate-slide-up",style:{animationDelay:"0.2s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"GOLDEN BOOT"})}),c.length>0?p.jsx("div",{className:"scorers-list",children:c.map((T,R)=>{const U=et[T.team];return p.jsxs("div",{className:`scorer-row ${R===0?"leader":""}`,style:{animationDelay:`${(R+4)*.05}s`},children:[p.jsx("span",{className:"scorer-rank",children:R===0?"":R===1?"":R===2?"":R+1}),p.jsxs("div",{className:"scorer-info",children:[p.jsx("span",{className:"scorer-name",children:T.player}),p.jsx("span",{className:"scorer-team",children:(U==null?void 0:U.name)||T.team})]}),p.jsx("span",{className:"scorer-goals",children:T.goals})]},`${T.player}-${T.team}`)})}):p.jsx("div",{className:"empty-state",children:p.jsx("p",{children:"No goals scored yet"})})]}),g.length>0&&p.jsxs("section",{className:"scorers-section animate-slide-up",style:{animationDelay:"0.25s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"TOP ASSISTS"})}),p.jsx("div",{className:"scorers-list",children:g.map((T,R)=>p.jsxs("div",{className:`scorer-row ${R===0?"leader assist-leader":""}`,style:{animationDelay:`${(R+4)*.05}s`},children:[p.jsx("span",{className:"scorer-rank",children:R===0?"":R+1}),p.jsx("div",{className:"scorer-info",children:p.jsx("span",{className:"scorer-name",children:T.player})}),p.jsx("span",{className:"scorer-goals assist-count",children:T.assists})]},T.player))})]}),p.jsxs("section",{className:"scorers-section animate-slide-up",style:{animationDelay:"0.3s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"CLEAN SHEETS"})}),p.jsx("div",{className:"scorers-list",children:v.map((T,R)=>{const U=et[T.teamId];return U?p.jsxs("div",{className:`scorer-row ${R===0&&T.count>0?"leader clean-leader":""}`,style:{animationDelay:`${(R+4)*.05}s`},children:[p.jsx("span",{className:"scorer-rank",children:R===0&&T.count>0?"":R+1}),p.jsxs("div",{className:"scorer-info",children:[p.jsx("img",{src:U.logo,alt:U.name,className:"table-team-logo"}),p.jsx("span",{className:"scorer-name",children:U.name})]}),p.jsx("span",{className:"scorer-goals",children:T.count})]},T.teamId):null})})]}),p.jsxs("section",{className:"stats-section animate-slide-up",style:{animationDelay:"0.35s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"TOURNAMENT STATS"})}),p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{className:"stat-value",children:n.filter(T=>T.status==="ft").reduce((T,R)=>T+(R.scoreHome||0)+(R.scoreAway||0),0)}),p.jsx("span",{className:"stat-label",children:"Total Goals"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{className:"stat-value",children:d}),p.jsx("span",{className:"stat-label",children:"Matches Played"})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("span",{className:"stat-value",children:d>0?(n.filter(T=>T.status==="ft").reduce((T,R)=>T+(R.scoreHome||0)+(R.scoreAway||0),0)/d).toFixed(1):"0.0"}),p.jsx("span",{className:"stat-label",children:"Goals/Match"})]})]})]}),x&&p.jsxs("section",{className:"interesting-stats-section animate-slide-up",style:{animationDelay:"0.4s"},children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"FUN FACTS"}),p.jsx("span",{className:"section-badge",children:""})]}),p.jsxs("div",{className:"fun-facts-grid",children:[x.biggestWin&&x.biggestWin.score!=="0-0"&&p.jsxs("div",{className:"fun-fact-card",children:[p.jsx("span",{className:"fun-fact-icon",children:""}),p.jsxs("div",{className:"fun-fact-content",children:[p.jsx("span",{className:"fun-fact-label",children:"Biggest Win"}),p.jsxs("span",{className:"fun-fact-value",children:[x.biggestWin.winner," ",x.biggestWin.score]}),p.jsxs("span",{className:"fun-fact-detail",children:["vs ",x.biggestWin.loser," (M",x.biggestWin.matchNum,")"]})]})]}),x.highestScoring&&x.highestScoring.total>0&&p.jsxs("div",{className:"fun-fact-card",children:[p.jsx("span",{className:"fun-fact-icon",children:""}),p.jsxs("div",{className:"fun-fact-content",children:[p.jsx("span",{className:"fun-fact-label",children:"Most Goals in a Match"}),p.jsxs("span",{className:"fun-fact-value",children:[x.highestScoring.total," goals"]}),p.jsxs("span",{className:"fun-fact-detail",children:[x.highestScoring.home," vs ",x.highestScoring.away," (M",x.highestScoring.matchNum,")"]})]})]}),x.topWinner&&p.jsxs("div",{className:"fun-fact-card",children:[p.jsx("span",{className:"fun-fact-icon",children:""}),p.jsxs("div",{className:"fun-fact-content",children:[p.jsx("span",{className:"fun-fact-label",children:"Most Wins"}),p.jsx("span",{className:"fun-fact-value",children:x.topWinner.team}),p.jsxs("span",{className:"fun-fact-detail",children:[x.topWinner.wins," win",x.topWinner.wins!==1?"s":""]})]})]}),x.draws>0&&p.jsxs("div",{className:"fun-fact-card",children:[p.jsx("span",{className:"fun-fact-icon",children:""}),p.jsxs("div",{className:"fun-fact-content",children:[p.jsx("span",{className:"fun-fact-label",children:"Draws"}),p.jsx("span",{className:"fun-fact-value",children:x.draws}),p.jsxs("span",{className:"fun-fact-detail",children:["match",x.draws!==1?"es":""," ended level"]})]})]}),x.hatTricks.length>0&&x.hatTricks.map((T,R)=>p.jsxs("div",{className:"fun-fact-card hat-trick",children:[p.jsx("span",{className:"fun-fact-icon",children:""}),p.jsxs("div",{className:"fun-fact-content",children:[p.jsx("span",{className:"fun-fact-label",children:"Hat-trick!"}),p.jsx("span",{className:"fun-fact-value",children:T.player}),p.jsxs("span",{className:"fun-fact-detail",children:[T.goals," goals in M",T.matchNum]})]})]},R))]})]}),A.length>0&&p.jsxs("section",{className:"scorers-section poll-leaderboard animate-slide-up",style:{animationDelay:"0.4s"},children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"POLL LEADERBOARD"}),p.jsx("span",{className:"section-badge coins-badge",children:"COINS"})]}),p.jsx("div",{className:"scorers-list",children:A.map((T,R)=>p.jsxs("div",{className:`scorer-row ${R===0?"leader coins-leader":""}`,style:{animationDelay:`${(R+4)*.05}s`},children:[p.jsx("span",{className:"scorer-rank",children:R===0?"":R===1?"":R===2?"":R+1}),p.jsxs("div",{className:"scorer-info",children:[p.jsx("span",{className:"scorer-name",children:T.name}),p.jsxs("span",{className:"scorer-team",children:[T.wins," win",T.wins!==1?"s":""]})]}),p.jsx("span",{className:"scorer-goals coins-value",children:T.coins})]},T.name))})]})]})},kT=()=>{const{getUpcomingMatches:s,predictions:e,matches:n,isAdmin:i}=Ir(),[a,c]=ge.useState(""),[d,g]=ge.useState(""),[v,w]=ge.useState(""),[A,x]=ge.useState(!1),[T,R]=ge.useState(!1),[U,q]=ge.useState(""),H=ge.useMemo(()=>s(),[s]),Y=ge.useMemo(()=>{if(!d)return[];const S=H.find(V=>V.id===d);if(!S)return[];const I=et[S.home],N=et[S.away],k=[];return I&&I.players.forEach(V=>{k.push({name:V,team:S.home,teamName:I.name})}),N&&N.players.forEach(V=>{k.push({name:V,team:S.away,teamName:N.name})}),k},[d,H]),Z=ge.useMemo(()=>{if(!d)return!1;const S=n.find(I=>I.id===d);return(S==null?void 0:S.predictionsLocked)===!0},[d,n]),ne=async S=>{if(S.preventDefault(),q(""),!a.trim()){q("Please enter your Scapia email");return}if(!a.trim().endsWith("@scapia.cards")){q("Please use your Scapia email (@scapia.cards)");return}if(!d){q("Please select a match");return}if(!v){q("Please select a player");return}const I=n.find(N=>N.id===d);if(I!=null&&I.predictionsLocked){q("Predictions are locked for this match (2 PM cutoff)");return}x(!0);try{const N=Y.find(V=>V.name===v),k=H.find(V=>V.id===d);await _T({userName:a.trim(),matchId:d,matchNumber:k==null?void 0:k.matchNumber,predictedPlayer:v,predictedTeam:N==null?void 0:N.team,predictedTeamName:N==null?void 0:N.teamName}),R(!0),c(""),g(""),w(""),setTimeout(()=>R(!1),5e3)}catch{q("Failed to submit prediction. Please try again.")}finally{x(!1)}},ce=S=>{const I=n.find(N=>N.id===S);return I&&(I.status==="live"||I.status==="ft")},Pe=1e3,z=ge.useMemo(()=>n.filter(S=>S.momPublishedAt).sort((S,I)=>S.matchNumber-I.matchNumber).map(S=>{var k,V;const I=S.momWinners||[],N=I.length>0?Math.floor(Pe/I.length):0;return{matchNumber:S.matchNumber,homeTeam:((k=et[S.home])==null?void 0:k.shortName)||S.home,awayTeam:((V=et[S.away])==null?void 0:V.shortName)||S.away,score:`${S.scoreHome}-${S.scoreAway}`,manOfTheMatch:S.manOfTheMatch,winners:I,coinsPerWinner:N}}),[n]);return p.jsxs("div",{className:"tab-content",children:[p.jsx("section",{className:"rules-section animate-slide-up",children:p.jsxs("div",{className:"rules-card",children:[p.jsxs("div",{className:"rules-header",children:[p.jsx("span",{className:"rules-icon",children:""}),p.jsx("h3",{children:"Man of the Match Prediction"})]}),p.jsxs("div",{className:"rules-structured",children:[p.jsxs("div",{className:"rule-group",children:[p.jsx("h4",{className:"rule-group-title",children:"How to Win"}),p.jsxs("ul",{className:"rules-list",children:[p.jsxs("li",{children:["Predict who will score the ",p.jsx("strong",{children:"most goals"})," in the match"]}),p.jsxs("li",{children:["Prize pool: ",p.jsx("strong",{children:"1000 coins"})," per match"]}),p.jsx("li",{children:"Multiple winners split the prize equally"})]})]}),p.jsxs("div",{className:"rule-group",children:[p.jsx("h4",{className:"rule-group-title",children:"Tie-breakers"}),p.jsxs("ul",{className:"rules-list",children:[p.jsxs("li",{children:["If tied on goals, player from ",p.jsx("strong",{children:"winning team"})," wins"]}),p.jsxs("li",{children:["If match is a draw, ",p.jsx("strong",{children:"referee decides"})," MoM"]})]})]}),p.jsxs("div",{className:"rule-group",children:[p.jsx("h4",{className:"rule-group-title",children:"Terms & Conditions"}),p.jsxs("ul",{className:"rules-list",children:[p.jsxs("li",{children:["Only your ",p.jsx("strong",{children:"first entry"})," per match counts"]}),p.jsxs("li",{children:["Predictions lock at ",p.jsx("strong",{children:"2:00 PM"})," on matchday"]})]})]})]})]})}),z.length>0&&p.jsxs("section",{className:"winners-section animate-slide-up",style:{animationDelay:"0.05s"},children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"WINNERS HALL OF FAME"}),p.jsx("span",{className:"section-badge trophy-badge",children:""})]}),p.jsx("div",{className:"winners-list",children:z.map(S=>p.jsxs("div",{className:"winner-card",children:[p.jsxs("div",{className:"winner-match-info",children:[p.jsxs("span",{className:"winner-match-num",children:["M",S.matchNumber]}),p.jsxs("span",{className:"winner-teams",children:[S.homeTeam," vs ",S.awayTeam]}),p.jsx("span",{className:"winner-score",children:S.score})]}),p.jsxs("div",{className:"winner-details",children:[p.jsxs("div",{className:"mom-player",children:[p.jsx("span",{className:"mom-label",children:"MoM:"}),p.jsx("span",{className:"mom-name",children:S.manOfTheMatch})]}),S.winners.length>0?p.jsxs("div",{className:"winner-info",children:[p.jsx("div",{className:"winner-names",children:S.winners.map((I,N)=>p.jsx("span",{className:"winner-badge",children:I},N))}),p.jsxs("span",{className:"coins-earned",children:[S.coinsPerWinner," coins each"]})]}):p.jsx("span",{className:"no-winners",children:"No correct predictions"})]})]},S.matchNumber))})]}),p.jsxs("section",{className:"poll-section animate-slide-up",style:{animationDelay:"0.1s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"MAKE YOUR PREDICTION"})}),T&&p.jsxs("div",{className:"success-message animate-scale-in",children:[p.jsx("span",{className:"success-icon",children:""}),"Prediction submitted successfully!"]}),U&&p.jsx("div",{className:"error-message animate-scale-in",children:U}),p.jsxs("form",{onSubmit:ne,className:"poll-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"userName",children:"Scapia Email"}),p.jsx("input",{type:"email",id:"userName",value:a,onChange:S=>c(S.target.value.toLowerCase()),placeholder:"yourname@scapia.cards",maxLength:50})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"matchSelect",children:"Select Match"}),p.jsxs("select",{id:"matchSelect",value:d,onChange:S=>{g(S.target.value),w("")},children:[p.jsx("option",{value:"",children:"-- Choose a match --"}),H.map(S=>{const I=et[S.home],N=et[S.away],k=S.predictionsLocked;return p.jsxs("option",{value:S.id,disabled:k,children:["M",S.matchNumber,": ",I==null?void 0:I.shortName," vs ",N==null?void 0:N.shortName," (",tv(S.date),")",k?" [LOCKED]":""]},S.id)})]})]}),d&&p.jsxs("div",{className:"form-group animate-fade-in",children:[p.jsx("label",{htmlFor:"playerSelect",children:"Man of the Match"}),p.jsxs("select",{id:"playerSelect",value:v,onChange:S=>w(S.target.value),children:[p.jsx("option",{value:"",children:"-- Choose a player --"}),Y.map(S=>p.jsxs("option",{value:S.name,children:[S.name," (",S.teamName,")"]},`${S.name}-${S.team}`))]})]}),p.jsx("button",{type:"submit",className:"submit-button",disabled:A||!a||!d||!v||Z,children:A?p.jsxs("span",{className:"button-loading",children:[p.jsx("span",{className:"loading-spinner small"}),"Submitting..."]}):"Submit Prediction"})]})]}),e.length>0&&p.jsxs("section",{className:"recent-section animate-slide-up",style:{animationDelay:"0.2s"},children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{className:"section-title",children:"RECENT PREDICTIONS"}),p.jsx("span",{className:"section-badge",children:e.length})]}),p.jsx("div",{className:"predictions-list",children:e.slice(0,10).map(S=>{var I;return p.jsxs("div",{className:"prediction-item",children:[p.jsxs("div",{className:"prediction-user",children:[p.jsx("span",{className:"user-avatar",children:(I=S.userName)==null?void 0:I.charAt(0).toUpperCase()}),p.jsx("span",{className:"user-name",children:S.userName})]}),p.jsxs("div",{className:"prediction-detail",children:[ce(S.matchId)?p.jsx("span",{className:"predicted-player",children:S.predictedPlayer}):p.jsx("span",{className:"predicted-player hidden-vote",children:"Hidden"}),p.jsxs("span",{className:"predicted-match",children:["Match ",S.matchNumber]})]})]},S.id)})})]}),H.length===0&&p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No Upcoming Matches"}),p.jsx("p",{children:"Predictions open before each match!"})]}),i&&e.length>0&&p.jsxs("section",{className:"admin-poll-section animate-slide-up",style:{animationDelay:"0.3s"},children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"ADMIN CONTROLS"})}),p.jsxs("button",{className:"delete-all-btn",onClick:async()=>{window.confirm(`Delete all ${e.length} predictions? This cannot be undone.`)&&await ET()},children:["Delete All Predictions (",e.length,")"]})]})]})},VT=()=>p.jsxs("div",{className:"tab-content",children:[p.jsx("section",{className:"rules-page-section animate-slide-up",children:p.jsxs("div",{className:"rules-page-card",children:[p.jsxs("div",{className:"rules-page-header",children:[p.jsx("span",{className:"rules-page-icon",children:""}),p.jsx("h3",{children:"Tournament Format"})]}),p.jsxs("div",{className:"rules-page-content",children:[p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"1"}),p.jsxs("div",{className:"rule-text",children:[p.jsx("strong",{children:"Group Stage:"})," All 4 teams play each other (6 matches per team)"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"2"}),p.jsxs("div",{className:"rule-text",children:[p.jsx("strong",{children:"Final:"})," Top 2 teams qualify for the final match"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"3"}),p.jsxs("div",{className:"rule-text",children:[p.jsx("strong",{children:"Match Duration:"})," As per tournament regulations"]})]})]})]})}),p.jsx("section",{className:"rules-page-section animate-slide-up",style:{animationDelay:"0.05s"},children:p.jsxs("div",{className:"rules-page-card",children:[p.jsxs("div",{className:"rules-page-header",children:[p.jsx("span",{className:"rules-page-icon",children:""}),p.jsx("h3",{children:"Points System"})]}),p.jsxs("div",{className:"points-grid",children:[p.jsxs("div",{className:"points-item",children:[p.jsx("span",{className:"points-value",children:"3"}),p.jsx("span",{className:"points-label",children:"Win"})]}),p.jsxs("div",{className:"points-item",children:[p.jsx("span",{className:"points-value",children:"1"}),p.jsx("span",{className:"points-label",children:"Draw"})]}),p.jsxs("div",{className:"points-item",children:[p.jsx("span",{className:"points-value",children:"0"}),p.jsx("span",{className:"points-label",children:"Loss"})]})]}),p.jsx("div",{className:"rules-page-content",children:p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"TB"}),p.jsxs("div",{className:"rule-text",children:[p.jsx("strong",{children:"Tie-breaker order:"})," Points  Goal Difference  Goals Scored"]})]})})]})}),p.jsx("section",{className:"rules-page-section animate-slide-up",style:{animationDelay:"0.1s"},children:p.jsxs("div",{className:"rules-page-card highlight-card",children:[p.jsxs("div",{className:"rules-page-header",children:[p.jsx("span",{className:"rules-page-icon",children:""}),p.jsx("h3",{children:"Man of the Match Prediction"})]}),p.jsxs("div",{className:"rules-page-content",children:[p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"1"}),p.jsxs("div",{className:"rule-text",children:["Predict who will score the ",p.jsx("strong",{children:"most goals"})," in each match"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"2"}),p.jsxs("div",{className:"rule-text",children:["Prize pool: ",p.jsx("strong",{children:"1000 coins"})," per match"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"3"}),p.jsx("div",{className:"rule-text",children:"Multiple winners share the prize equally"})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"4"}),p.jsxs("div",{className:"rule-text",children:["Tie-breaker: Player from ",p.jsx("strong",{children:"winning team"})," wins"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-number",children:"5"}),p.jsxs("div",{className:"rule-text",children:["If match is a draw, ",p.jsx("strong",{children:"referee decides"})," Man of the Match"]})]})]})]})}),p.jsx("section",{className:"rules-page-section animate-slide-up",style:{animationDelay:"0.15s"},children:p.jsxs("div",{className:"rules-page-card terms-card",children:[p.jsxs("div",{className:"rules-page-header",children:[p.jsx("span",{className:"rules-page-icon",children:""}),p.jsx("h3",{children:"Terms & Conditions"})]}),p.jsxs("div",{className:"rules-page-content",children:[p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-bullet"}),p.jsxs("div",{className:"rule-text",children:["Only your ",p.jsx("strong",{children:"first entry"})," per match will be considered"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-bullet"}),p.jsxs("div",{className:"rule-text",children:["Predictions lock at ",p.jsx("strong",{children:"2:00 PM"})," on matchday"]})]}),p.jsxs("div",{className:"rule-item",children:[p.jsx("span",{className:"rule-bullet"}),p.jsx("div",{className:"rule-text",children:"Winners are announced after Man of the Match is confirmed"})]})]})]})})]}),DT=()=>{const{activeTab:s,loading:e}=Ir();return e?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("span",{className:"loading-text",children:"LOADING SCAPIA OFFSIDE..."})]}):p.jsxs("div",{className:"app",children:[p.jsx(AT,{}),p.jsxs("main",{className:"main-content",children:[s==="matches"&&p.jsx(PT,{}),s==="table"&&p.jsx(RT,{}),s==="polls"&&p.jsx(kT,{}),s==="rules"&&p.jsx(VT,{})]}),p.jsx(NT,{})]})},jT=()=>p.jsx(IT,{children:p.jsx(DT,{})});p_.createRoot(document.getElementById("root")).render(p.jsx(ge.StrictMode,{children:p.jsx(jT,{})}));
